(()=>{var e,t,n,r,o,i={60896:(e,t,n)=>{"use strict";n(77884);var r=n(67297),o=n(3209);const i=new(n.n(o)());n(60790);var a=n(28966),l=(n(31999),n(15699)),s=(n(3576),n(32444)),c=(n(18553),n(11820)),u=(n(88897),n(62257)),p=(n(55936),n(936)),f=n(45304),d=n.n(f),h=(n(46822),n(35381)),y=n(98819);h.default.config({placement:"bottomRight",bottom:50,duration:5,getContainer:function(){return window.document.body}});const m={log:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"qxuicon-smile";h.default.open({message:e,description:t,className:n,prefixCls:"qxui-notification",icon:(0,y.jsx)("i",{className:"".concat(r)})})},info:function(e){this.log("Info",e,"qxui-notification---info","qxuicon-meh")},warning:function(e){this.log("Warning",e,"qxui-notification---warning","qxuicon-meh")},success:function(e){this.log("Success",e,"qxui-notification---success")},error:function(e){this.log("Error",e,"qxui-notification---error","qxuicon-frown")}};var b=n(22960),v=n(41041),g="SET_CONTAINER_WIDTH",x="OPEN_EXPORT_IMPORT",j="OPEN_SAVE_AS_COLLECTION",w="OPEN_SEO",O="UPDATE_QID",S="REDO",P="UNDO",q="SET_STATE_FROM_HISTORY",C="UPDATE_NODE_FIELD",k="IMPORT_NODES",N="FORCE_COLUMN_RESIZE",R="UPDATE_TITLE",E="ADD_ROW_NODE",T="ADD_COLUMN_NODE",D="ADD_SECTION_NODE",A="ADD_ELEMENT_NODE",I="ADD_MY_ELEMENT_NODE",M="DUPLICATE_NODE",L="COPY_NODE",B="PASTE_NODE",U="INSERT_COPIED_NODES",F="DELETE_NODE",z="MOVE_NODE",H="CHANGE_ROW_LAYOUT",Q="WITHDRAW_ROW_LAYOUT",J="SET_NODE_VISIBILITY",W="APPLY_NODE_FORM",V="SET_DEVICE",G="PASTE_NODE_STYLE",X="PASTE_NODE_STYLE_SPECIAL",Z="RESET_NODE_STYLE",Y="DUPLICATE_COLUMN_NODE",K="APPEND_PRESET",ee="PREPEND_PRESET",te="REPLACE_PRESET",ne="SET_NODES",re="INSERT_NODES",oe="RESPONSIVE_MODE",ie="SAVED_NODES",ae="UPDATE_COLUMN_WIDTH",le="REPLACE_NODE",se="CHANGE_COLUMN_WIDTH",ce="SET_COLUMN_WIDTH",ue="EMPTY_NODES",pe="SET_ACTION",fe="SHOW_ELEMENT_MODAL",de="OPEN_JMEDIA",he="OPEN_TEMPLATES",ye="OPEN_SAVE_SECTION_MODAL",me="OPEN_ELEMENT_SAVE_MODAL",be="DISPLAY_CONDITIONS_MODAL",ve="DISPLAY_OPTIMIZATION_MODAL",ge="SHOW_FORM_MODAL",xe="SET_FORM_NODE",je="SET_DND_PLACEMENT";function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:pe,payload:{action:e?fe:null,path:e,index:t}}}function Oe(e){return{type:pe,payload:{action:e?ye:null,path:e}}}function _e(e){return{type:pe,payload:{action:e?me:null,path:e}}}function Se(e){return{type:pe,payload:{action:e?be:null}}}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:pe,payload:{action:e?he:null,path:e}}}function qe(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?w:null}}}function Ce(e){return{type:q,payload:e}}function ke(e,t,n){return{type:C,payload:{nodePath:e,valuePath:t,value:n}}}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:re,payload:{index:e,newNodes:t}}}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:D,payload:{index:e}}}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:E,payload:{path:e,index:t}}}function Te(e,t){return{type:H,payload:{path:e,layout:t}}}function De(e,t){return{type:z,payload:{from:e,to:t}}}function Ae(e,t){return{type:M,payload:{path:e,name:t}}}function Ie(e,t){return{type:le,payload:{path:e,node:t}}}function Me(e,t){return{type:L,payload:{path:e,node:t}}}function Le(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:B,payload:{path:e,bellow:t}}}function Be(e){return{type:G,payload:{path:e}}}function Ue(e,t){return{type:X,payload:{nodePath:e,stylePath:t}}}function Fe(e,t){return{type:F,payload:{path:e,name:t}}}function ze(e,t){return{type:J,payload:{path:e,visibility:t}}}function He(e){return{type:V,payload:{device:e}}}function Qe(e){return{type:O,payload:e}}var Je=n(79339),We=n.n(Je),$e=n(63095),Ve=n.n($e),Ge="BEFORE",Xe="AFTER",Ze={0:"text-danger",1:"text-success",2:"text-mute"},Ye={0:"qxuicon-times-circle",1:"qxuicon-check-circle",2:"qxuicon-archive"},Ke={mobile:"sm",tablet:"md",desktop:"lg"},et={sm:"mobile",md:"tablet",lg:"desktop"};function tt(){return window.quix.url}function nt(){return window.QuixLicenseStatus}function rt(){return window.QuixCollectionList}function ot(){return window.QuixPageList}function it(){return window.QUIX_ROOT_URL}function at(){return window.QUIXNXT_URL}function lt(){return window.QUIXNXT_JMEDIA_PATH_URL}function st(){return jQuery("#jform_token").attr("name")}function ct(){var e;return null===(e=ur("jform_title_hidden"))||void 0===e?void 0:e.value}function ut(){return window.QuixBuilderType}function pt(){return window.QUIX_API_VALIDATION.success}function ft(){return window.Joomla}var dt=function(e){var t=window.localStorage.getItem(e);try{return JSON.parse(t)}catch(e){return t}},ht=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},yt=function(e){window.localStorage.removeItem(e)},mt=n(1572),bt=n.n(mt),vt=n(34030),gt=n.n(vt),xt=n(6266),jt=n.n(xt),wt=n(22866);function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function _t(e){return!e||"string"==typeof e&&""===e.trim()||!(!Array.isArray(e)||0!==e.length)||"object"===Ot(e)&&0===Object.keys(e).length}function St(e){return e?e.split("_").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(" "):e}function Pt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null,r={lg:"Desktop",md:"Tablet",sm:"Phone",xs:"Phone"};return void 0!==r[e]&&(n=r[e]),!n&&Object.values(r).includes(e)&&(n=Object.keys(r)[Object.values(r).indexOf(e)]),n?t?n.toLowerCase():n:null}function qt(e){return _t(e)?"":("object"===Ot(e)&&void 0!==e.source&&(e=e.source),bt()(e,"data:image")||bt()(e,"http")||bt()(e,"//")?(t=e,(bt()(e,"https://getquix.net")||bt()(e,"http://getquix.net"))&&(t=(t=e.replace("https://getquix.net","https://quix.b-cdn.net")).replace("http://getquix.net","https://quix.b-cdn.net"))):t=bt()(e,"media")||bt()(e,window.quix.image_path)?tt()+"/"+e:lt()+e.replace(/^\//,""),t);var t}function Ct(e){var t=new URL(e);return t.host="quix.b-cdn.net",t.protocol="https:",t.toString()}var kt=n(55254),Nt=n.n(kt);Nt().config({driver:[Nt().WEBSQL,Nt().INDEXEDDB,Nt().LOCALSTORAGE],name:"Quix@v4.x.x Cache Storage"});var Rt,Et=function(e){return Nt().getItem(e)},Tt=function(e,t){return Nt().setItem(e,t)},Dt=function(e){return new Promise((function(t,n){var r=[];for(var o in e)if(e.hasOwnProperty(o))if("string"==typeof e[o]||Array.isArray(e[o]))r.push(Tt(o,e[o]));else for(var i in e[o])e[o].hasOwnProperty(i)&&e[o][i]&&r.push(Tt("".concat(o,"-").concat(i),e[o][i]));Promise.all(r).then((function(){t()})).catch(n)}))},At=function(){return Mn(Rt)},It=function(e){return Rt.find((function(t){return t.slug===e})).thumb_file},Mt=function(e){return Et("".concat(e,"-html"))},Lt=function(e){return Et("".concat(e,"-schema"))};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){return!["section","row","column"].includes(e.slug)}function Ht(e){var t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["lg","md","xs"];sr.click();for(var r=e.props,o=r.node.visibility,i=r.path,a=Ut({},o),l=0,s=Object.keys(a);l<s.length;l++){var c=s[l];n.includes(c)&&(a[c]=t)}e.props.setNodeVisibility(i,a)},n=e.props,r=n.device,o=n.node.visibility,i=Object.values(o).filter((function(e){return!!e})).length>2?(0,y.jsxs)(wt.ck,{onClick:function(){return t(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-low-vision"})," Disable for all"]}):(0,y.jsxs)(wt.ck,{onClick:function(){return t(!0)},children:[(0,y.jsx)("i",{className:"qxif-eye"})," Enable for all"]}),a=function(e){return e?(0,y.jsx)("i",{className:"qxif-eye"}):(0,y.jsx)("i",{className:"qxuicon-low-vision"})};return(0,y.jsxs)(wt.rS,{label:(0,y.jsxs)("span",{onClick:function(){return t(!o[r],[r])},children:[a(o[r]),o[r]?"Disable for ".concat(Pt(r)):"Enable for ".concat(Pt(r))]}),arrow:(0,y.jsx)("i",{className:"qxif-caret-right"}),children:[i,["lg","md","xs"].map((function(e){return e!==r?(0,y.jsxs)(wt.ck,{onClick:function(){return t(!o[e],[e])},children:[a(o[e])," ",o[e]?"Disable":"Enable"," for ",Pt(e)]},e):null}))]})}function Qt(e){return["section","row","column","element"].indexOf(e)}function Jt(e,t){var n=Qt(e),r=Qt(t);return n<=r&&r-n<=1}function Wt(e){var t,n,r,o,i=[];if((null===(t=e.props.copiedNode)||void 0===t?void 0:t.id)!==e.props.node.id&&i.push((0,y.jsxs)(wt.ck,{onClick:function(){return e.props.copyNode(e.props.path)},children:[(0,y.jsx)("i",{className:"qxuicon-clipboard"})," Copy"]},"copy")),null===(n=e.props.copiedNode)||void 0===n||!n.id)return i;var a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.props.pasteNode(e.props.path,t)},l=Jt(zt(e.props.node)?"element":null===(r=e.props.node)||void 0===r?void 0:r.slug,zt(e.props.copiedNode)?"element":null===(o=e.props.copiedNode)||void 0===o?void 0:o.slug),s=[];return l&&(s.push((0,y.jsxs)(wt.ck,{onClick:function(){return e.props.pasteNodeStyle(e.props.path)},children:[(0,y.jsx)("i",{className:"qxuicon-paint-brush"}),"Paste Style"]},"paste-style")),s.push((0,y.jsxs)(wt.ck,{onClick:function(){return a(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-paste"}),"Paste Above"]},"paste"))),l&&i.push((0,y.jsx)(wt.rS,{label:(0,y.jsxs)("span",{onClick:a,children:[(0,y.jsx)("i",{className:"qxuicon-paste"}),"Paste"]}),arrow:(0,y.jsx)("i",{className:"qxif-caret-right"}),children:s},"paste")),i}function $t(e){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(e)}function Vt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Kt(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tn=[],nn=[],rn=[],on=[[[1,1]],[[1,2],[1,2]],[[1,3],[1,3],[1,3]],[[1,4],[1,4],[1,4],[1,4]],[[2,3],[1,3]],[[1,3],[2,3]],[[1,4],[3,4]],[[3,4],[1,4]],[[1,2],[1,4],[1,4]],[[1,4],[1,4],[1,2]],[[1,4],[1,2],[1,4]],[[1,5],[1,5],[1,5],[1,5],[1,5]]];function an(e){return rn.indexOf(e)>=0}function ln(e){return Mn(nn.find((function(t){return t.slug===e})))}function sn(){var e=ln("section"),t=Ln(e.slug),n=e.form;return{id:t,hash:Ln("edit-hash"),children:[],slug:e.slug,form:Xt(Xt({},n),{},{advanced:Xt(Xt({},n.advanced),{},{identifier:Xt(Xt({},n.advanced.identifier),{},{id:t})})}),visibility:Xt({},e.visibility)}}function cn(){var e=ln("row"),t=Ln(e.slug),n=e.form;return{id:t,hash:Ln("edit-hash"),children:[],slug:e.slug,form:Xt(Xt({},n),{},{advanced:Xt(Xt({},n.advanced),{},{identifier:Xt(Xt({},n.advanced.identifier),{},{id:t})})}),visibility:Xt({},e.visibility)}}function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=ln("column"),n=Ln(t.slug),r=dn(e),o=t.form;return{id:n,hash:Ln("edit-hash"),children:[],slug:t.slug,form:Xt(Xt({},o),{},{general:Xt(Xt({},o.general),{},{layout_fields_group:Xt(Xt({},o.general.layout_fields_group),{},{col_width:r})}),advanced:Xt(Xt({},o.advanced),{},{identifier:Xt(Xt({},o.advanced.identifier),{},{id:n,label:o.name})})}),visibility:Xt({},t.visibility)}}function pn(e){var t=ln(e.slug),n=Ln(e.slug);return{id:n,name:t.name,group:t.group,hash:Ln("edit-hash"),children:[],slug:t.slug,form:Xt(Xt({},t.form),{},{advanced:Xt(Xt({},t.form.advanced),{},{identifier:Xt(Xt({},t.form.advanced.identifier),{},{id:n,label:t.slug})})}),visibility:Xt({},t.visibility)}}function fn(e){var t=Mn(e),n=Ln(e.slug);return{id:n,name:t.name,group:t.group,hash:Ln("edit-hash"),children:[],slug:t.slug,form:Xt(Xt({},t.form),{},{advanced:Xt(Xt({},t.form.advanced),{},{identifier:Xt(Xt({},t.form.advanced.identifier),{},{id:n,label:t.slug})})}),visibility:Xt({},t.visibility)}}function dn(e){return{desktop:e=parseFloat((100*e).toFixed(5)),tablet:e,phone:100,unit:"%"}}function hn(e,t,n){return Cn(e,[].concat(Vt(t),[n+1]),(function(e,t){var n=t.length+1;if(n>12)return Vt(t);var r=un(1/n);return yn(Sn(t,e,r),r.form.general.layout_fields_group.col_width)}))}function yn(e,t){return e.map((function(e){return e.form.general.layout_fields_group.col_width=Xt({},t),e.hash=Ln("qx-edit"),e}))}function mn(e,t,n){return Cn(Vt(e),Vt(t),(function(e,t){return t[e]=n,t}))}function bn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Cn(Vt(e),Vt(t),(function(e,t){var r=Sn(t,e+1,On(Mn(t[e])));return n?yn(r,dn(1/r.length)):r}))}function vn(e,t,n){return Pn(e,n,On(Mn(t)))}function gn(e,t,n){var r=Rn(Vt(e),Vt(t));e=Pn(Vt(e),Vt(n),r);var o=Vt(t),i=o.pop(),a=Vt(n),l=a.pop();if(o.join()===a.join()){var s=i>l?i+1:i;return _n(Vt(e),[].concat(Vt(o),[s]))}return _n(Vt(e),Vt(t))}function xn(e,t){var n=e.form.advanced,r=t.form.advanced.identifier,o=r.id,i=r.class,a=r.acl;return Xt(Xt({},e),{},{form:Xt(Xt({},e.form),{},{advanced:Xt(Xt({},n),{},{identifier:Xt(Xt({},n.identifier),{},{id:o,class:i,acl:a})})})})}function jn(e,t,n){return Cn(e,t,(function(e,t){return t[e]=wn(t[e],n),t}))}function wn(e,t){return t?Array.isArray(e)?e.map((function(e,n){return wn(e,t[n])})):(Object.keys(e).forEach((function(n){void 0!==t[n]&&("object"===$t(e[n])?e[n]=wn(e[n],t[n]):e[n]=t[n])})),e):e}function On(e){var t=Array.isArray(e);return t||(e=[e]),e=Vt(e).map((function(e){var t;return e.id=Ln(e.slug),e.form.advanced.identifier.id=e.id,null!==(t=e.children)&&void 0!==t&&t.length&&(e.children=On(e.children)),e})),t?e:e[0]}function _n(e,t){return Cn(e,t,(function(e,t){return delete t[e],Array.isArray(t)?t.filter((function(e){return!!e})):t}))}function Sn(e,t,n){var r=e.slice(0,+t),o=e.slice(+t);return[].concat(Vt(r),[n],Vt(o))}function Pn(e,t,n){return Cn(e,t,(function(e,t){return Sn(t,e,n)}))}function qn(e,t,n){return Cn(e,t,(function(e,t){return t[e]=n,t}))}function Cn(e,t,n){var r=t.shift();return e=Array.isArray(e)?Vt(e):Xt({},e),0===t.length?n(r,e):(void 0===e[r]||(e[r]=Cn(e[r],t,n)),e)}function kn(e,t,n,r){return Cn(e,t,(function(e,t){var o=t[e];return o.hash=Ln("edit-hash"),t[e]=Xt({},Nn(o,n,r)),t}))}function Nn(e,t,n){var r=t.shift();return void 0===e[r]?e:0===t.length?(e[r]=n,e):(e[r]=Nn(e[r],t,n),e)}function Rn(e,t){var n=t.shift();return e&&void 0!==e[n]?t.length>0?Rn(e[n],t):e[n]:null}function En(e,t,n){return[].concat(Vt(t),Vt(On(n)))}function Tn(e,t,n){return t.forEach((function(t,r){n=Pn(Vt(n),[].concat(Vt(e),[r]),un(t))})),n}function Dn(e,t){return Cn(e,t,(function(e,t){var n=t[e];if("row"!==n.slug)return t;var r=dn(1/(n.children.length||1));return n.children=yn(n.children,r),t[e]=n,t}))}function An(e){if(!Array.isArray(e)&&e.label&&(!e.schema||0===node.schema.length))return In(e);var t={};return e.forEach((function(e,n){void 0===e.name?Array.isArray(e)?t[n]=In(e):t[n]=e:t[e.name]=In(e)})),0===Object.keys(t).filter((function(e){return!Number.isInteger(+e)})).length?Object.values(t):t}function In(e){return"group-repeater"===e.type?e.value.map(An):e.value?Array.isArray(e.value)?((null===(t=e.units)||void 0===t?void 0:t.length)>0&&"object"===$t(e.value)&&e.units.includes(e.suffix)&&(e.value.unit=e.value.unit||e.suffix),An(e.value)):"object"===$t(e.value)&&e.value.label&&e.value.value?e.value.value:e.value:e.value;var t}function Mn(e){if(void 0===e)return{};try{return JSON.parse(JSON.stringify(e))}catch(t){console.warn("JSON Object Parsing error.",e,t)}}function Ln(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="",n="abcdefghijklmnopqrstuvwxyz0123456789",r=0;r<5;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return e?"qx-".concat(e.replace(/^qx-/,"").replace(/-\d+$/,""),"-").concat(t):t}function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image";if(!e||"object"!==$t(e))return[];if(Array.isArray(e))return e.flatMap((function(e){return Bn(e,t)}));var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o&&"object"===$t(o)&&(o.type&&o.source&&o.type===t?n.push(o.source):n=[].concat(Vt(n),Vt(Bn(o,t))))}return n}function Un(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.props.copiedNode)return!1;var o=!1,i=zt(e.props.copiedNode)?"element":null===(t=e.props)||void 0===t||null===(n=t.copiedNode)||void 0===n?void 0:n.slug;if(e.props.copiedNode&&"element"===i&&r)o=!0;else if(e.props.node&&"element"===i){var a,l,s=zt(e.props.node)?"element":null===(a=e.props)||void 0===a||null===(l=a.node)||void 0===l?void 0:l.slug;o=Jt(s,i)}return o}function Fn(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}We().cache(!0),We().extendFilter("wrap",(function(e,t){return"<".concat(t,"> ").concat(e," </").concat(t,">")})),We().extendFilter("json_decode",(function(e){return gt()(e)?"":JSON.parse(e)})),We().extendFilter("removeLines",(function(e){return null==e?void 0:e.replace(/(\r\n|\n|\r)/gm,"")})),We().extendFilter("link",(function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=null===(t=o[0])||void 0===t?void 0:t.url,a=null===(n=o[0])||void 0===n?void 0:n.target,l=null===(r=o[0])||void 0===r?void 0:r.nofollow,s="",c="";return o[1]&&(s='class="'+o[1]+'"'),o[2]&&(c=" "+o[2]),a=a?'target="_blank"':"",l=l?'rel="nofollow"':"",i?"<a ".concat(s,' href="').concat(i,'" ').concat(a," ").concat(l).concat(c,"> ").concat(e," </a>"):"".concat(e)})),We().extendFunction("inlineEditor",(function(e){var t=this.context.path,n=Ln(this.context.advanced.identifier.id);return'id="inline-editable-'.concat(n,'" data-node-path="').concat(t,'" data-value-path="').concat(e,'"')})),We().extendFunction("startTag",(function(e,t){return"<".concat(e," ").concat(t,">")})),We().extendFunction("replaceAll",(function(e,t,n){return null==e?void 0:e.replaceAll(t,n)})),We().extendFunction("loadSvg",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:'<i class="'.concat(e,'"></i>')})),We().extendFunction("icon",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+tt()+"/"+e+'" class="qx-preserve" qx-svg="" />':'<i class="'.concat(e,'"></i>')})),We().extendFunction("prepareWidthValue",(function(e){return e.unit?e:{unit:"%",value:e}})),We().extendFunction("prepareResponsiveValue",(function(e){if("object"!==Hn(e))return{value:{},unit:"px"};if(void 0!==e.desktop)return e.unit=gt()(e.unit)?"px":e.unit,e;var t=e.value;return t.unit=void 0===e.unit?"px":e.unit,t})),We().extendFunction("prepareSvgSizeValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"object"==Hn(e)?e:{value:e,unit:"px"}})),We().extendFunction("visibilityClass",(function(){return""})),We().extendFunction("visibilityClassNode",(function(){return""})),We().extendFunction("image",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(gt()(e))return"";t=t.replace(/(<([^>]+)>)/gi,"");var i=qt(e);return null!==o&&o.dimension?'<img draggable="false" data-src="'.concat(i,'" alt="').concat(t,'" class="').concat(n,'" width="').concat(o.dimension.width,'" height="').concat(o.dimension.height,'" ').concat(r," qx-img/>"):'<img data-width="100" data-height="100" draggable="false" data-src="'.concat(i,'" alt="').concat(t,'" class="').concat(n,'" ').concat(r," qx-img/>")})),We().extendFunction("imageUrl",(function(e){return gt()(e)?"":("object"===Hn(e)&&void 0!==e.source&&(e=e.source),bt()(e,"data:image")||bt()(e,"http")?e:bt()(e,"libraries")||bt()(e,"media")||bt()(e,"images")?quix.url+"/"+e:lt()+e.replace(/^\//,""))})),We().extendFunction("rootUrl",(function(){return it()})),We().extendFunction("video",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" playsInline controls ",o=t.link_type;if(["youtube","vimeo"].includes(o)){var i="youtube"===o?t.youtube_link:t.vimeo_link;return'<div id="video-'.concat(e,'" data-plyr-provider="').concat(o,'" data-plyr-embed-id="').concat(i,'"> Loading...</div>')}if("custom"===o&&null!==(n=t.custom_video)&&void 0!==n&&n.source){var a=t.custom_video.source,l=qt(t.video_poster.source),s=qt(a),c="video/"+a.split(".").pop();return'<video id="'.concat(e,'" poster="').concat(l,'" ').concat(r,'>\n    <source type="').concat(c,'" src="').concat(s,'" />\n    Your browser does not support the video tag.\n  </video>')}return'<p class="qx-alert qx-alert-warning qx-m-0">Please select video first!</p>'})),We().extendFunction("getJoomlaModule",(function(e,t){var n=st(),r="index.php?option=com_quix&task=api.getJoomlaModule&id=".concat(e,"&style=").concat(t,"&").concat(n,"=1");return new Promise((function(e,t){jt().get(r).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("getQuixTemplate",(function(e){var t=st(),n="index.php?option=com_quix&task=api.getQuixTemplate&id=".concat(e,"&").concat(t,"=1");return new Promise((function(e,t){jt().get(n).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("ElementApiCall",(function(e,t){var n=btoa(JSON.stringify(t)),r="".concat(tt(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(st(),"=1&data=").concat(n);return new Promise((function(e,t){jt().get(r).then((function(t){(t=t.data).success?e(t.data):e(e.messages)})).catch((function(e){t(e)}))}))})),We().extendFunction("ajaxPostQuix",(function(e,t){var n=new FormData;for(var r in t)n.set(r,t[r]);var o="".concat(tt(),"/index.php?option=com_quix&task=ajax&builder=frontend&element=").concat(e,"&").concat(st(),"=1");return new Promise((function(e,t){jt().post(o,n).then((function(t){(t=t.data).success?e(t.data):e(e.messages)})).catch((function(e){t(e)}))}))})),We().extendFunction("prepareContent",(function(e,t){if(!t)return e;var n=st(),r="index.php?option=com_quix&task=api.prepareContent&".concat(n,"=1"),o=new FormData;return o.set("content",e),new Promise((function(e,t){jt()({method:"post",url:r,data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data.replace(/name=|form/gi,(function(e){return"x"+e}));e(n)})).catch((function(e){t(e)}))}))})),We().extendFunction("startsWith",(function(e,t){return bt()(e,t)})),We().extendFunction("validateJoomlaCaptcha",(function(){return"true"})),We().extendFunction("captchaPublicKey",(function(){return dt("captcha-public-key")})),We().extendFunction("classNames",(function(){return Ve().apply(void 0,arguments).replace("_keys","")})),We().extendFunction("getOpacity",(function(e,t){return e.state[t].opacity})),We().extendFunction("wrapper",(function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?"</"+e+">":"<"+e+">"})),We().extendFunction("formFooter",(function(){return""})),We().extendFunction("lazyBackground",(function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i||(i=null==o||null===(e=o.state)||void 0===e||null===(t=e.normal)||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.src)||void 0===r?void 0:r.source),i?"style=\"background-image:url('"+i+"');\"":""})),We().extendFunction("ifElementHasBackground",(function(){var e,t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null==o||null===(e=o.state)||void 0===e||null===(t=e.normal)||void 0===t||null===(n=t.properties)||void 0===n||null===(r=n.src)||void 0===r?void 0:r.source;return console.log("ifElementHasBackground",i),!!i})),We().extendFunction("addIconStyle",(function(e,t){console.log("addIconStyle",t.properties.size);var n=t.properties.size;return"object"===Hn(n)&&(n=n.value),'<style type="text/css">\n                    '.concat(e," i {color: ").concat(t.properties.color,";font-size: ").concat(n,"px;}\n                    ").concat(e," polygon,").concat(e," path {fill: ").concat(t.properties.color,";}\n                    ").concat(e," svg {width: ").concat(n,"px;}\n                </style>")})),We().extendFunction("allfield",(function(){return"[]"})),We().extendFunction("fieldsGroup",(function(e,t){return e[t]})),We().extendFunction("getQuixElementPath",(function(){return at()+"/app/visual-builder"})),We().extendFunction("raw",(function(e,t){var n=t||"";return'<img src="'.concat(at()+e,'" alt="').concat(n,'" />')})),We().extendFunction("mediaFile",(function(e,t){var n=t||"";return'<img src="'.concat(at()+e,'" alt="').concat(n,'" qx-svg=""/>')})),We().extendFunction("getFileContent",(function(e,t,n){var r=st(),o=btoa(t),i="".concat(tt(),"/index.php?option=com_quix&task=api.getFileContent&source=").concat(e,"&path=").concat(o,"&ext=").concat(n,"&").concat(r,"=1");return localStorage.getItem(i)||new Promise((function(e,t){jt().get(i).then((function(t){(t=t.data).success?(localStorage.setItem(i,t.data),e(t.data)):(localStorage.setItem(i,t.messages),e(e.messages))})).catch((function(e){t(e)}))}))})),window.lessThan=function(e,t){return e<t},We().extendFunction("lessThan",window.lessThan),window.greaterThan=function(e,t){return e>t},We().extendFunction("greaterThan",window.greaterThan),window.greaterThanSign=function(){return">"},We().extendFunction("greaterThanSign",window.greaterThanSign),We().extendFunction("field",(function(e){var t=this.context,n=t.advanced;return Jn(e,{general:t.general,styles:t.styles,advanced:n})})),n.g.twig=We().twig;const Qn=We().twig;function Jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===t)return!1;if(void 0!==t[e])return console.log("Found it","key: ".concat(e,", value: ").concat(t[e])),console.log([].concat(Fn(n),[e]).join(".")),t[e];if("object"!==Hn(t))return!1;for(var r=Object.keys(t),o=0,i=r;o<i.length;o++){var a=i[o],l=Jn(e,t[a],[].concat(Fn(n),[a]));if(l)return l}}function Wn(e){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function $n(e,t){if(e){if("string"==typeof e)return Vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gn={loadedElement:[]};function Xn(e){return Gn.Template.html[e]||null}Gn.prepare=function(){return new Promise((function(e){if(Gn._prepareCalled)e();else{var t=[];Gn._prepareCalled=!0;var n=At().map((function(e){return e.slug}));Gn.Template={html:{},styles:{},scripts:{},shared:{}};var r,o=function(e,t,n){return new Promise((function(r){e&&(Gn.Template[t][n]=Qn({id:"".concat(t,".").concat(n),allowInlineIncludes:!0,data:e})),r(!0)}))},i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$n(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(n);try{var a=function(){var e,n=r.value;t.push(new Promise((function(e){var t;Promise.all([(t=n,Et("".concat(t,"-macro"))),Mt(n)]).then((function(t){var r,i,a=(i=2,function(e){if(Array.isArray(e))return e}(r=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(r,i)||$n(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],s=a[1];l&&(s=l+s),o(s,"html",n).then(e)}))}))),t.push((e=n,Et("".concat(e,"-style"))).then((function(e){return o(e,"styles",n)}))),t.push(function(e){return Et("".concat(e,"-script"))}(n).then((function(e){return o(e,"scripts",n)})))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}t.push(Et("animation.twig").then((function(e){Qn({id:"animation.twig",data:e})}))),t.push(Et("global.twig").then((function(e){Qn({id:"global.twig",data:e})}))),Promise.all(t).then(e)}}))},Gn._replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},Gn.html=function(e,t,n){if(t=t||{},window.QUIX.Template.html[e])return window.QUIX.Template.html[e].renderAsync(Object.assign(t,{$,_,Assets:Gn,QUIXNXT_JMEDIA_PATH_URL})).then((function(e){if(e=Gn._replaceAll(e,"&lt;","<"),e=Gn._replaceAll(e,"&gt;",">"),!n)return e;mr(n,e)}))},Gn.style=function(e,t,n){var r,o;if(t=t||{},window.QUIX.Template.styles[e]){var i=(r=window.QUIX.Template.styles[e]).render.apply(r,(o=t,function(e){if(Array.isArray(e))return Vn(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||$n(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{$,_,Assets:Gn,QUIXNXT_JMEDIA_PATH_URL}])),a=document.createElement("script");a.innerHTML=i,a.id=n?n.replace("#",""):e.replace("#",""),document.querySelector("script#"+n.replace("#",""))&&document.querySelector("script#"+n.replace("#","")).remove(),document.body.appendChild(a),Gn.load(e,n)}},Gn.script=function(e,t,n){if(t=t||{},window.QUIX.Template.scripts[e]){var r,o=window.QUIX.Template.scripts[e].render(Object.assign(t,{$,_,Assets:Gn,QUIXNXT_JMEDIA_PATH_URL})),i=document.createElement("script");i.innerHTML=o,n?(r=n.replace("#",""),r+="-script"):(r=e.replace("#",""),r+="-script"),i.id=r,document.querySelector("script#"+r)&&document.querySelector("script#"+r).remove(),document.body.appendChild(i),Gn.loadedElement.push(e)}},Gn.render=function(e,t,n){if(pr(e.replace(/^#/,"").split("-").shift()),t=Object.assign(t,{$,_,Assets:Gn,QUIXNXT_JMEDIA_PATH_URL}),-1===e.indexOf("#"))return Qn({allowInlineIncludes:!0,data:e}).render(t);var r=Gn.html(e,t);if(null!==r&&"object"===Wn(r))r.then((function(r){if(!n)return r;mr(n,r),Gn.script(e,t)}));else{var o=Math.random().toFixed(4),i="<div id='"+e+"-"+o+"'><div>"+r+"</div></div>";if(!n)return i;mr(n,i),Gn.script(e,t)}};var Zn,Yn,Kn={document:null,window:null,mount_node:null,onLoad:[],loaded:!1};function er(){return new Promise((function(e){if(Kn.document)return e(Kn.document);Kn.onLoad.push((function(){e(Kn.document)}))}))}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){if(e){if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.addEventListener("message",(function(e){var t=e.data.event;if(!Kn.loaded&&"iframe-loaded"===t){var n,r=document.getElementById("quix-iframe-wrapper");try{n=r.contentDocument}catch(e){n=r.contentDocument}Kn.document=n,Kn.window=r.contentWindow,Kn.mount_node=n.querySelector("#qx-fb-mount"),Kn.mount_node.style.userSelect="none",Kn.mount_node.style.msUserSelect="none",Kn.mount_node.style.mozUserSelect="none",Kn.mount_node.style.oUserSelect="none",Kn.mount_node.style.webKitUserSelect="none",Kn.mount_node.setAttribute("unselectable","on"),Kn.mount_node.setAttribute("onselect","return false;"),Kn.onLoad.forEach((function(e){return e()}))}}));var ar=null===(Zn=window.document.getElementById("jform_token"))||void 0===Zn?void 0:Zn.getAttribute("name"),lr=null===(Yn=window.document.getElementById("jform_template_type"))||void 0===Yn?void 0:Yn.value,sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document,t=e.createElement("div");return t.width=1,t.height=1,t.style.opacity="0",e.body.appendChild(t),t}();function cr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;return t.getElementsByClassName(e)}function ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;return t.getElementById(e)}function pr(e){var t;console.log("maybeInjectAssets");var n=null===(t=window.QUIX)||void 0===t?void 0:t.elementsAssets;n?fr(e,n):Promise.all([Et("js"),Et("css")]).then((function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(n,r)||or(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1];window.QUIX.elementAssets={js:i,css:a},fr(e,window.QUIX.elementAssets)}))}function fr(e,t){var n=t.js.find((function(t){return t.includes(e)}));n&&dr(e,n),t.css.find((function(t){return t.includes(e)}))&&dr(e,n)}function dr(e,t){er().then((function(n){if(!n.head.querySelector("#".concat(e,"-element-script"))){var r=n.createElement("script");r.src=t,r.id=e+"-element-script",n.head.append(r)}}))}var hr={items:[],timer:null},yr=0;function mr(e,t){if(e)return clearTimeout(hr.timer),hr.items.push({targetID:e,content:t}),hr.timer=setTimeout(mr,20),void yr++;var n;if(1===hr.items.length){var r=hr.items[0];(n=jQuery(r.targetID)).html(r.content)}else{n=jQuery("#qx-fb-mount").detach();var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=or(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(hr.items);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=n.find(a.targetID);l?l.html(a.content):n.append(a.content)}}catch(e){i.e(e)}finally{i.f()}jQuery(".app-mount").html(n)}console.log("backoff",yr),yr=0,hr.timer=null,hr.items=[]}function br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise((function(n,r){var o=Xn(e.slug);if(!o)return r();xr(e,{path:t.join(".")}).then((function(t){o.renderAsync(t).then((function(t){er().then((function(r){ur("".concat(e.id,"-preview"),r).innerHTML=t.replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<"),n()}))})).catch((function(e){console.error("Could not render html",e),r()}))}))}))}function vr(e){return new Promise((function(t,n){var r,o=(r=e.slug,Gn.Template.styles[r]||null);if(!o)return n();var i=qxCss();xr(e,{style:i}).then((function(e){o.renderAsync(e).then((function(e){e=e.replace(/\n+/g,"\n").trim(),console.log("Style output",e),t()})).catch((function(e){console.error("Could not render style",e),n()}))}))}))}function gr(e){return new Promise((function(t,n){var r,o=(r=e.slug,Gn.Template.scripts[r]||null);if(!o)return n(e.slug+" renderScript failed!");xr(e).then((function(r){o.renderAsync(r).then((function(n){var r,o;r=n,function(e){er().then((function(t){var n=t.head.querySelector("#".concat(e));n&&n.remove()}))}(o="".concat(e.id,"-script-preview")),er().then((function(e){var t=e.createElement("script");t.innerHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}(r),t.id=o,e.head.appendChild(t)})),t()})).catch((function(e){console.error("Could not render script",e),n()}))}))}))}function xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){Lt(e.slug).then((function(r){n(nr(nr(nr({},Mn(e.form)),t),{},{mode:"builder",elementUrl:r.url}))})).catch(r)}))}function jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];er().then((function(r){var o=ur(e,r);t?(t=n?t-1:t,o.setAttribute("style","flex: 0 0 ".concat(t,"px;max-width: ").concat(t,"px;"))):setTimeout((function(){o.removeAttribute("style")}),200)}))}function wr(e,t){return"%"===e.unit?{unit:"px",desktop:t*e.desktop/100,tablet:t*e.tablet/100,phone:t*e.phone/100}:{unit:"%",desktop:+(100*e.desktop/t).toFixed(5),tablet:+(100*e.tablet/t).toFixed(5),phone:+(100*e.phone/t).toFixed(5)}}n(90610);var Or=n(74464),_r=(n(17184),n(10364));function Sr(e){var t=tn.find((function(t){return t.slug===e.slug}));if(!t)throw new Error("Could not find schema for ".concat(e.slug));return t}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qr={lastAction:{},states:[]};function Cr(){return qr.states.slice().reverse()}var kr,Nr=[ue,C,B,G,X,Z,M,Y,F,D,E,T,A,z,q,re,J],Rr=function(e){var t=e.getState;return function(e){return function(n){var r,o,i,a,l,s,c=e(n);if(Nr.includes(n.type)){var u,p,f,d,h=t(),y=h.nodes,m=y.nodes,b=y.clipboard,v=h.form.node,g=!1;switch(n.type){case ue:u="Clear Page Content",f="Deleted",d="qxuicon-trash";break;case A:u="".concat(n.payload.element.name),f="Added",d="qxuicon-plus-square";break;case T:u="Column",f="Added ",d="qxuicon-plus-square";break;case E:u="Row",f="Added",d="qxuicon-plus-square";break;case D:u="Section",f="Added",d="qxuicon-plus-square";break;case re:u="Template",f="Imported";break;case F:u="".concat(St(n.payload.name)),f="Deleted",d="qxuicon-trash";break;case Y:u="Column",f="Duplicated",d="qxuicon-clone";break;case J:u="".concat(St(n.payload.name)),f="Visibility Changed",d="qxuicon-eye";break;case M:u="".concat(St(n.payload.name)),f="Duplicated",d="qxuicon-clone";break;case B:u="".concat(St(null===(r=b.node)||void 0===r?void 0:r.slug)),f="Pasted",d="qxuicon-clone";break;case G:u="".concat(St(null===(o=b.node)||void 0===o?void 0:o.slug)),f="Pasted Style",d="qxuicon-crosshairs";break;case Z:u="".concat(St(n.payload.name)),f="Reset Style",d="qxuicon-undo";break;case z:u="Element",f="Moved",d="qxuicon-expand-arrows";break;case q:u="History",f="State Updated",d="qxuicon-history",g=qr.states[qr.states.length-1].act===f;break;case C:l=n,g=(a=qr.lastAction).type===l.type&&a.payload.nodePath.join()===l.payload.nodePath.join()&&a.payload.valuePath.join()===l.payload.valuePath.join(),qr.lastAction=Mn(n);var x=St((s=n.payload.valuePath,function(e){if(Array.isArray(e))return Pr(e)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return Pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pr(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).pop());u="".concat(St(null!==(i=null==v?void 0:v.slug)&&void 0!==i?i:"Element")),p="".concat(x),f="Updated",d="qxuicon-edit"}var j={state:Mn(m),element:u,field:p,act:f,icon:d,id:Ln("history")};g?qr.states[qr.states.length-1]=j:qr.states.push(j),qr.states.length>50&&qr.states.shift(),console.log("Updated for",n,"Previous state",j,"All history",Cr())}return n.type===ge&&(qr.lastAction={}),0===qr.states.length&&qr.states.push({state:Mn(t().nodes.nodes),element:"Editing Started",icon:"qxuicon-history",id:Ln("history")}),c}}};function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function Tr(e){return function(e){if(Array.isArray(e))return Dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t){return Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mr(e,t)}function Lr(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Br(e)}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ur(e)}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zr=_r.Z.Step,Hr="OPEN_HISTORY_PANEL",Qr=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Hr:null}}},Jr={openHistoryPanel:Qr,setNodes:Ce},Wr=(0,v.$j)((function(e){return{visible:e.action.action===Hr}}),Jr)(kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Mr(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ur(r);if(o){var n=Ur(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lr(this,e)});function a(){var e;Ar(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Fr(Br(e=i.call.apply(i,[this].concat(n))),"state",{histories:[],activeHistory:null}),Fr(Br(e),"setStateTo",(function(t){e.props.setNodes(t.state),e.setActiveHistory(t)})),Fr(Br(e),"setActiveHistory",(function(t){e.setState({activeHistory:t.id})})),Fr(Br(e),"setHistories",(function(){var t,n=Cr(),r=null===(t=Tr(n).shift())||void 0===t?void 0:t.id;e.setState({histories:n,activeHistory:r})})),Fr(Br(e),"getHistoriesView",(function(){var t=e.state,n=t.histories;return t.activeHistory,(0,y.jsx)(y.Fragment,{children:n.map((function(t){return(0,y.jsx)(zr,{title:t.element,description:t.field?t.field+" "+t.act:t.act,icon:(0,y.jsx)("span",{className:t.icon}),onClick:function(n){e.setStateTo(t)}},t.id)}))})})),Fr(Br(e),"onClose",(function(){e.props.openHistoryPanel(!1)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setHistories()}},{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&this.setHistories()}},{key:"render",value:function(){return console.log("Current active history",this.state.activeHistory),(0,y.jsx)(Or.Z,{title:"History",width:320,onClose:this.onClose,visible:this.props.visible,className:"qx-history-panel",children:(0,y.jsx)(_r.Z,{current:this.state.activeHistory,direction:"vertical",children:this.getHistoriesView()})})}}])&&Ir(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||kr;n(637);var $r=n(75985);function Vr(e,t){var n=e.name.split(".").pop(),r=-1!==t.indexOf(n);return new Promise((function(t,n){if(r){var o=new FileReader;o.onload=function(e){t(o.result)},o.readAsText(e)}else n("invalid file type!!")}))}n(7554);var Gr=n(43152),Xr=n(38201),Zr=n.n(Xr);function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return to=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},to(e,t)}function no(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ro(e)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&to(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oo(r);if(o){var n=oo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return no(this,e)});function a(){var e;Kr(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return io(ro(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),io(ro(e),"state",{id:Math.random()}),io(ro(e),"elRef",b.createRef()),io(ro(e),"registerDragHandler",(function(){!e.dragHandlerRegistered&&e.elRef.current&&(e.modalHeader=e.elRef.current.closest(".qxui-modal-header"),e.modalHeader.removeEventListener("mousedown",e.startDrag),e.modalHeader.addEventListener("mousedown",e.startDrag),e.dragHandlerRegistered=!0)})),io(ro(e),"startDrag",(function(t){e.modal=t.target.closest(".qxui-modal"),e.qxIframeWrapper=document.querySelector(".qx-fb-frame"),e.lastPosition={x:t.screenX,y:t.screenY},er().then((function(t){t.addEventListener("mousemove",e.onDrag),t.addEventListener("mouseup",e.stopDrag)})),t.target.ownerDocument.addEventListener("mousemove",e.onDrag),t.target.ownerDocument.addEventListener("mouseup",e.stopDrag)})),io(ro(e),"onDrag",(function(t){var n=ro(e),r=n.modal,o=n.qxIframeWrapper,i=n.lastPosition,a=r.offsetLeft-(i.x-t.screenX),l=r.offsetTop-(i.y-t.screenY);a>=-250&&a<=o.clientWidth-250?r.style.left="".concat(a,"px"):e.stopDrag(t),l>=0&&l<=o.clientHeight-100?r.style.top="".concat(l,"px"):e.stopDrag(t),e.lastPosition={x:t.screenX,y:t.screenY}})),io(ro(e),"stopDrag",(function(t){var n,r;er().then((function(t){t.removeEventListener("mousemove",e.onDrag),t.removeEventListener("mouseup",e.stopDrag)})),null===(n=t.target.ownerDocument)||void 0===n||n.removeEventListener("mousemove",e.onDrag),null===(r=t.target.ownerDocument)||void 0===r||r.removeEventListener("mouseup",e.stopDrag),delete e.qxIframeWrapper,delete e.modal,delete e.lastPosition})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.registerDragHandler()}},{key:"componentDidUpdate",value:function(e,t,n){this.registerDragHandler()}},{key:"componentWillUnmount",value:function(){this.modalHeader&&this.modalHeader.removeEventListener("mousedown",this.startDrag)}},{key:"render",value:function(){var e,t=this.props,n=t.container,r=t.title,o=t.bodyStyle,i=t.children,a=t.className,l=t.classes,s=t.destroyOnClose,u=t.show,f=t.style,d=t.footer,h=t.close,m=t.onClose,b=t.width,v=t.closable,g=t.onCancel,x=(0,y.jsx)(p.default,{size:"large",icon:(0,y.jsx)("i",{className:"qxio-close"}),onClick:function(e){return h&&h(e)||m&&m(e)},children:"Close"},"close");d?d.push(x):d=x,l=Ve()(a,l);var j=this.props,w=j.expandable,O=j.overrideHeader,_=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between",ref:this.elRef,children:[!0===O?r:(0,y.jsx)("span",{children:r}),!1!==w?(0,y.jsx)(c.default,{title:"Toggle window size",children:(0,y.jsx)(p.default,{type:"link",size:"small",onClick:function(){return window.adjustModalSize()},children:(0,y.jsx)("i",{className:"qxuicon-expand qx-light"})},"resize")},"resize"):null]});return(0,y.jsx)(Gr.Z,{width:b||450,visible:!!u,wrapClassName:l,title:_,style:f,footer:d||null,onCancel:!0===v?g:function(){return jQuery("body").addClass("qx-settings-fixed-left")},closable:!0===v,destroyOnClose:s||!1,getContainer:n||function(){return window.document.body},zIndex:5,mask:null!==(e=this.props.mask)&&void 0!==e&&e,maskClosable:!1,bodyStyle:o||null,children:u?i:null})}}])&&eo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);io(ao,"propTypes",{}),io(ao,"defaultProps",{style:{},className:"",show:!1,bottom:!1,dismissible:!0});const lo=ao;var so;function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){go(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function po(e){return po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(e)}function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t){return yo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yo(e,t)}function mo(e,t){if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bo(e)}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vo(e)}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xo=$r.Z.Dragger,jo="OPEN_NODE_IMPORTER",wo=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?jo:null}}},Oo={openNodeImporter:wo},_o=(0,v.$j)((function(e){return{visible:e.action.action===jo}}),Oo)(so=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yo(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vo(r);if(o){var n=vo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mo(this,e)});function a(){var e;fo(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return go(bo(e=i.call.apply(i,[this].concat(n))),"state",{process:!1}),go(bo(e),"onClose",(function(){e.props.openNodeImporter(!1)})),go(bo(e),"onFileUploadDone",(function(t){Vr(t,["json"]).then((function(t){var n=JSON.parse(t),r={type:n.type,data:n.data},o=st(),i=new FormData;i.set("jform[data]",JSON.stringify(r)),i.set("jform[title]",n.title),i.set("jform[builder]","frontend"),i.set("jform[type]",n.type),i.set("jform[state]","1"),i.set("jform[id]","0"),i.set("type","collection"),i.set(o,"1"),jt()({method:"post",url:quix.url+"/index.php?option=com_quix&task=collection.save",data:i,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data;"object"==po(n)?(n.success?m.success('Uploaded successfully to your collection! Visit "My Templates" to import.'):m.warning(n.message),e.onClose()):m.error(n)})).catch((function(){return e.setState({process:!1})}))}))})),e}return t=a,(n=[{key:"render",value:function(){var e={data:this.onFileUploadDone};return(0,y.jsx)(lo,{width:550,classes:"quix-library-importer",show:this.props.visible,close:this.onClose,title:"Import To Library",footer:!1,expandable:!1,style:{left:"calc(50vw - 225px)"},onCancel:this.onClose,closeModal:this.onClose,children:(0,y.jsxs)(xo,uo(uo({},e),{},{children:[(0,y.jsx)("p",{children:(0,y.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,y.jsx)("h5",{className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,y.jsxs)("p",{children:["Click or drag ",(0,y.jsx)("em",{children:".json"})," file to this area to upload"]})]}))})}}])&&ho(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||so,So=(n(26713),n(59348)),Po=quix.api;function qo(e,t){return new Promise((function(n,r){var o=e?"".concat(Po,"&id=").concat(e):Po;jQuery.ajax({data:t,url:o,type:"POST",success:function(e){try{return(e=JSON.parse(e)).success?n(e):r(e)}catch(t){return r(e)}},error:function(e,t,n){return r(n)}})}))}var Co=function(e){return e.preventDefault(),e.returnValue="Are you sure you want to exit?"},ko=null;function No(e){return ur("jform_data").value=JSON.stringify(e),ur("jform_metadata_icons").value=JSON.stringify(Bn(e,"svg")),jQuery("#adminForm").serializeArray()}function Ro(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e||null!==ko){var t=parseInt(document.getElementById("jform_id").value);if(0===t)return m.warning("Please save the page first! then see the preview."),!1;null===ko||null===ko.parent?ko=window.open(atob(document.getElementById("return_url").value)):ko&&(ko.location.href=atob(document.getElementById("return_url").value))}}function Eo(){window.PageChanged=!1,removeEventListener("beforeunload",Co,{capture:!0})}function To(){window.PageChanged=!0,addEventListener("beforeunload",Co,{capture:!0})}function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}var Ao,Io=ut(),Mo=jQuery;function Lo(e){return new Promise((function(t,n){var r,o=e.state.title||ct();o||(o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Page",t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date;return"".concat(e,"-").concat(n.getDate(),"-").concat(t[n.getMonth()]," ").concat(n.getHours(),":").concat(n.getSeconds())}()),ur("jform_title_hidden").value=o;var i,a=null===(r=ur("jform_template_type"))||void 0===r?void 0:r.value;if(!_t(a)&&["article","header","footer","mainbody"].includes(a)&&_t(null===(i=ur("jform_conditions"))||void 0===i?void 0:i.value))return e.props.invokeDisplayConditionModal(!0),t();var l="page"===Io?"page.apply":"collection.apply";if(Mo('input[name="task"]').val(l),"page"===Io){var s=e.props,c=s.nodes,u=s.qid;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=No(e=Mn(e));return qo(t,n)}(c,u).then((function(t){if(!1===t.data){var n;m.error((null==t||null===(n=t.messages)||void 0===n?void 0:n.warning)||t)}else{var r=+t.data.id;m.success("Settings saved successfully"),0==+u&&(function(e,t,n,r){document.getElementById("jform_id").value=e,document.getElementById("return_url").value=t,history&&history.pushState?window.history.pushState(null,null,n):window.location.href=n}(r,t.data.view,t.data.url,t.data.edit),e.props.updateQid(r)),setTimeout((function(){console.log("Reloading..."),Ro(!1)}),1e3),Eo()}})).then((function(){Mo(".savePage span.save-text").html("Save"),t()})).catch((function(e){Mo(".savePage").removeClass("qxui-btn-success").addClass("qxui-btn-danger"),Mo(".savePage span.save-text").html("!Save"),m.error((null==e?void 0:e.message)||"Something went wrong!!!"),n()}))}return"collection"===Io?Bo(e,o,Mo("#jform_template_type").val(),!0,t):void 0}))}function Bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.props,a=i.nodes,l=i.qid,s=n?l:0,c={type:n=n||"layout",data:a};r&&(ur("jform_data").value=JSON.stringify(c));var u=ur("jform_token").getAttribute("name"),p=new FormData;p.set("jform[data]",JSON.stringify(c)),p.set("jform[title]",t),p.set("jform[builder]","frontend"),p.set("jform[type]",n),p.set("jform[state]","1"),p.set("jform[id]",s),p.set("id",s),p.set("type","collection"),r&&(p.set("jform[conditions]",ur("jform_conditions").value),p.set("jform[params][image_optimized]",ur("jform_params_image_optimized").value),p.set("jform[params][enabled_image_optimization]",ur("jform_params_enabled_image_optimization").value),p.set("jform[params][enabled_webp_support]",ur("jform_params_enabled_webp_support").value),p.set("jform[params][codecss]",ur("jform_params_codecss").value),p.set("jform[params][codejs]",ur("jform_params_codejs").value),p.set("jform[params][style]",ur("jform_params_style").value),p.set("jform[metadata][title]",ur("jform_metadata_title").value),p.set("jform[metadata][desc]",ur("jform_metadata_desc").value),p.set("jform[metadata][seo_score]",ur("jform_metadata_seo_score").value),p.set("jform[metadata][focus_keywords]",ur("jform_metadata_focus_keywords").value),p.set("jform[state]",ur("jform_state").value),p.set("jform[access]",ur("jform_access").value),p.set("jform[language]",ur("jform_language").value)),p.set(u,"1"),jt()({method:"post",url:"index.php?option=com_quix&task=collection.save",data:p,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){Mo(".savePage span.save-text").html("Save");var t=e.data;"object"===Do(t)?t.success?(Eo(),m.success("Template saved"),setTimeout((function(){console.log("Reloading..."),Ro(!1)}),1e3)):m.warning(t.message):m.error(t),o&&o()}))}function Uo(e){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function Fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ho(e,t)}function Qo(e,t){if(t&&("object"===Uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wo(e)}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vo=So.default.Group,Go="OPEN_TEMPLATE_SAVER",Xo=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Go:null}}},Zo={openTemplateSaver:Xo},Yo=(0,v.$j)((function(e){var t=e.action.action,n=e.nodes.nodes;return{visible:t===Go,nodes:n}}),Zo)(Ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ho(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wo(r);if(o){var n=Wo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qo(this,e)});function a(){var e;Fo(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $o(Jo(e=i.call.apply(i,[this].concat(n))),"state",{title:"",waiting:!1}),$o(Jo(e),"titleChanged",(function(t){e.setState({title:t.target.value})})),$o(Jo(e),"saveTemplate",(function(){e.state.title?(Bo(Jo(e),e.state.title),e.onClose()):m.error("Title can't be empty")})),$o(Jo(e),"onClose",(function(){e.props.openTemplateSaver(!1)})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(lo,{width:550,className:"modal--export-import",title:"Save To Library",show:this.props.visible,close:function(){return e.onClose()},expandable:!1,style:{left:"calc(50vw - 225px)"},footer:!1,children:(0,y.jsxs)("div",{className:"qx-fb-infobox sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-margin-medium-bottom qx-text-center",children:[(0,y.jsx)("i",{className:"qxuicon-cubes qx-fb-title-icon"}),(0,y.jsx)("h2",{className:"qx-margin-small-top",children:"Save To Library"}),(0,y.jsx)("p",{className:"qx-text-meta",children:"You can reuse this template anywhere you want"})]}),(0,y.jsxs)(Vo,{className:"qx-width-2-3 qx-margin-auto",children:[(0,y.jsx)(So.default,{placeholder:"Name",id:"export",value:this.state.title,onChange:this.titleChanged}),(0,y.jsxs)(p.default,{disabled:this.state.waiting,type:"primary",onClick:this.saveTemplate,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&zo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Ao;const Ko=Yo;n(70057);var ei,ti=n(75235),ni=(n(64832),n(36609));function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ai(e,t){return ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ai(e,t)}function li(e,t){if(t&&("object"===ri(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return si(e)}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ci(e)}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pi="OPEN_PAGE_MANAGER",fi=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?pi:null}}},di={openPageManager:fi,updateQid:Qe},hi=(0,v.$j)((function(e){var t=e.action,n=e.nodes.nodes,r=e.meta.qid;return{visible:t.action===pi,nodes:n,qid:r}}),di)(ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ai(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ci(r);if(o){var n=ci(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return li(this,e)});function a(){var e;oi(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ui(si(e=i.call.apply(i,[this].concat(n))),"nodes",""),ui(si(e),"timer",void 0),ui(si(e),"offset",1e4),ui(si(e),"state",{title:ct(),type:ut()}),ui(si(e),"getQuixPages",(function(){var e=ot();return(0,y.jsx)(ni.default,{children:e.length?e.map((function(e){var t=tt()+"/index.php?option=com_quix&task=page.edit&id="+e.id;return(0,y.jsx)(ni.default.Item,{children:(0,y.jsx)(ni.default.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,y.jsx)("i",{className:[Ye[e.state],Ze[e.state]].join(" ")}),title:(0,y.jsxs)("a",{href:t,className:"qxui-text-ellipsis",target:"_blank",children:[e.title," "]})})},e.id)})):(0,y.jsx)("div",{className:"qx-alert qx-alert-primary",children:"No page found!"})})})),ui(si(e),"getQuixCollectionList",(function(){var e=rt();return(0,y.jsx)(ni.default,{children:e.length?e.map((function(e){var t=tt()+"/index.php?option=com_quix&task=collection.edit&id="+e.id;return(0,y.jsx)(ni.default.Item,{children:(0,y.jsx)(ni.default.Item.Meta,{className:"qx-flex-row-reverse",avatar:(0,y.jsx)("i",{className:"qx-label",children:e.type}),title:(0,y.jsx)("a",{href:t,target:"_blank",children:e.title})})},e.id)})):(0,y.jsx)("div",{className:"qx-alert qx-alert-primary",children:"No template found!"})})})),ui(si(e),"saveDraft",(function(){console.warn("Save this page as draft now")})),ui(si(e),"savePageAjax",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t||t.preventDefault(),e.props.onSaveStateChange&&e.props.onSaveStateChange(!0),Lo(si(e)).then((function(){e.props.onSaveStateChange&&e.props.onSaveStateChange(!1)}))})),ui(si(e),"addPage",(function(e){e.preventDefault(),qxUIkit.modal.prompt("Page Name:","New Page").then((function(e){if(e.length){var t={title:e};t[Joomla.getOptions("csrf.token")]=1,jQuery.ajax({url:tt()+"/index.php?option=com_quix&task=page.pageCreateAjax",type:"POST",data:t,success:function(e){var t=JSON.parse(e);t.success||alert(t.message),window.location=t.data}})}else alert("Page name is required!")}))})),ui(si(e),"addCollection",(function(e){e.preventDefault(),confirm("Save this page before creating new page. Ready to proceed?")&&(window.location=tt()+"/index.php?option=com_quix&task=collection.add")})),ui(si(e),"onTitleChange",(function(t){e.setState({title:t.target.value})})),ui(si(e),"onClose",(function(){e.props.openPageManager(!1)})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.nodes=JSON.stringify(this.props.nodes)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t,n){var r=this,o=JSON.stringify(this.props.nodes);this.nodes!==o&&(clearTimeout(this.timer),this.nodes=o,this.timer=setTimeout((function(){return r.saveDraft()}),this.offset))}},{key:"render",value:function(){var e=this.getQuixPages(),t=this.getQuixCollectionList(),n=this.state,r=n.title,o=n.type;return(0,y.jsxs)(Or.Z,{title:"Manage Pages",placement:"left",width:320,onClose:this.onClose,visible:this.props.visible,className:"manage-pages",children:[(0,y.jsx)("div",{className:"qx-margin-bottom",children:(0,y.jsxs)(So.default.Group,{children:[(0,y.jsx)(So.default,{name:"jform[title]",placeholder:"Page name",defaultValue:r||"New page",id:"jform_title",onChange:this.onTitleChange}),(0,y.jsx)(p.default,{type:"success",onClick:this.savePageAjax,disabled:this.props.isSaving,loading:this.props.isSaving,children:(0,y.jsx)("i",{className:"qxuicon-check"})})]})}),(0,y.jsxs)(ti.default,{defaultActiveKey:"collection"===o?"2":"1",children:[(0,y.jsxs)(ti.default.TabPane,{tab:"Pages",children:[(0,y.jsx)(p.default,{className:"qx-margin-small-bottom",block:!0,type:"primary",onClick:this.addPage,children:"Create Page"}),(0,y.jsx)("span",{className:"qx-text-truncate",children:e})]},"1"),(0,y.jsx)(ti.default.TabPane,{tab:"Templates",children:t},"2")]})]})}}],n&&ii(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ei;function yi(e){return yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yi(e)}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t){return vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vi(e,t)}function gi(e,t){if(t&&("object"===yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}var ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&vi(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xi(r);if(o){var n=xi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gi(this,e)});function a(){return mi(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)("div",{children:this.props.pro?null:(0,y.jsxs)("div",{className:"qx-fb-field-code qx-fb-gopro",children:[(0,y.jsxs)("div",{className:"qx-fb-gopro__icon",children:[(0,y.jsx)("i",{className:"qxuicon-unlock"}),(0,y.jsx)("sup",{className:"qxui-label qxui-label-success",children:"License"})]}),(0,y.jsxs)("p",{children:["This features requires you to activate your license. Please insert your username and API key ",(0,y.jsx)("a",{target:"_blank",href:"administrator/index.php?option=com_quix&action=license",children:"here"})," to activate it."]})]})})}}])&&bi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),wi=(n(60028),n(32397)),Oi=n(33962),_i=n.n(Oi);function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function Pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ci(e,t){return Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ci(e,t)}function ki(e,t){if(t&&("object"===Si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ni(e)}function Ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ri(e)}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ci(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ri(r);if(o){var n=Ri(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ki(this,e)});function a(){var e;Pi(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ei(Ni(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){var n=e.props.onChange;n&&n(t.target.value,t)})),Ei(Ni(e),"getLabelMarkup",(function(){var t=e.props.label;return e.props.onlyBaseText||!t?null:(0,y.jsx)("span",{children:t})})),e}return t=a,(n=[{key:"getHelpMarkup",value:function(){var e=this.props.help;return this.props.onlyBaseText?null:e?(0,y.jsx)(wi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})}):void 0}},{key:"getResetMarkup",value:function(){return this.props.onlyBaseText||_i()(this.props.default,this.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:this.props.onReset})})})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.placeholder,r=e.onClick,o=e.style,i=e.id,a=e.addonBefore,l=e.addonAfter,s=e.readOnly,c=e.allowClear;return i=i||"_"+Math.random().toString(36).substr(2,9),(0,y.jsxs)("div",{className:"qx-fb-field-text",style:o,children:[this.props.onlyBaseText?null:(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.props.onReset?this.getResetMarkup():null]}),(0,y.jsx)(So.default,{ref:i,id:i,placeholder:n||"",value:t,onChange:this.onChange,onClick:r||function(){},addonBefore:a,addonAfter:l,disabled:s,allowClear:c||!1})]})}}])&&qi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Ei(Ti,"propTypes",{}),Ei(Ti,"defaultProps",{}),Ti.Group=So.default.Group,Ti.Search=So.default.Search;const Di=Ti;function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}var Ii;function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){Qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ui(e,t)}function Fi(e,t){if(t&&("object"===Ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hi(e){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(e)}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.e(325).then(n.bind(n,27325));var Ji="OPEN_SEO_PANEL",Wi=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Ji:null}}},$i={openSEOPanel:Wi,setNodes:Ce},Vi=(0,v.$j)((function(e){return{visible:e.action.action===Ji}}),$i)(Ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ui(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hi(r);if(o){var n=Hi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fi(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Qi(zi(t=i.call(this,e)),"presentSeoResult",(function(){if(t.setState({visibleSeoModal:!0}),!t.state.is_pro_user)return m.info("Please validate your license to use SEO feature.");er().then((function(e){var n,r=null===(n=e.querySelector("#qx-fb-mount .frontend-blocks"))||void 0===n?void 0:n.innerHTML,o={title:ur("jform_metadata_title").value,description:ur("jform_metadata_desc").value,keyword:t.state.focusKeyword||ur("jform_metadata_focus_keywords").value,content:r};t.loadAndRenderSEOResult(o)}))})),Qi(zi(t),"loadAndRenderSEOResult",(function(e){t.setState({loadingSeoResult:!0}),new Promise((function(e,t){if(window.qxSEO)return e(window.qxSEO);var n=document.createElement("script");n.onload=function(){e(window.qxSEO)},n.onerror=function(){t()},n.src=pkg_quix_public_path+"/builder/seo/seo.js",document.head.appendChild(n)})).then((function(n){t.renderSEOResult(n,e)}))})),Qi(zi(t),"renderSEOResult",(function(e,n){var r=Li({},t.state),o={title:n.title||"Quix SEO title of this page.",metaDesc:n.description||"Your Quix SEO meta description will show here.",urlPath:window.QuixPageAlias||"quix-seo-page"},i=function(){return Li({keyword:n.keyword,text:n.content,titleWidth:n.title.length},o)};r.app?(r.app.snippetPreview.data=Li({},i()),r.app.callbacks={getData:i}):(r.i18n=new e.Jed({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}),r.snippetPreview=new e.SnippetPreview({i18n:r.i18n,data:o,baseURL:it(),previewMode:"desktop",targetElement:ur("snippet")}),r.app=new e.App({snippetPreview:r.snippetPreview,targets:{output:"output"},callbacks:{getData:i}})),r.app.refresh();var a=r.app.seoAssessor.calculateOverallScore(),l=Math.max(0,a);ur("jform_metadata_seo_score").value=l,t.setSeoScore(l),t.setState(Li(Li({},r),{},{loadingSeoResult:!1}))})),Qi(zi(t),"setSeoScore",(function(e){t.props.onChangeSeoScore&&t.props.onChangeSeoScore(e)})),Qi(zi(t),"seoToolbar",(function(){return(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Preview"}),(0,y.jsx)("div",{id:"snippet"}),(0,y.jsx)("p",{className:"qx-fb-field__label",children:"SEO Assessment"}),(0,y.jsx)("p",{id:"output"}),(0,y.jsx)("button",{className:"seo-snippet qxui-drawer-close seo-snippet-reload",onClick:t.presentSeoResult,children:(0,y.jsx)("span",{className:"seo-snippet qxui-drawer-close-x seo-snippet-icon",children:(0,y.jsx)(c.default,{title:"Re-Check",getTooltipContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-undo"})})})}),(0,y.jsx)("div",{className:t.state.loadingSeoResult?"preloader":"preloader hide",children:(0,y.jsxs)("div",{className:"wrap",children:[(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"}),(0,y.jsx)("div",{className:"ball"})]})})]})})),Qi(zi(t),"seoRankTitle",(function(){return(0,y.jsx)(Di,{label:"SEO Focus Keyword",placeholder:"Write your keyword & Re-Check",value:t.state.focusKeyword,onChange:function(e){return t.setState({focusKeyword:e})},onReset:function(){return t.setState({focusKeyword:""})}})})),Qi(zi(t),"onClose",(function(){t.props.openSEOPanel(!1)}));var n,r,o=(null===(n=ur("jform_metadata_seo_score"))||void 0===n?void 0:n.value)||0;return t.state={is_pro_user:pt(),loadingSeoResult:!1,focusKeyword:(null===(r=ur("jform_metadata_focus_keywords"))||void 0===r?void 0:r.value)||"",seoScore:o,i18n:"",visibleSeoModal:!1},t.setSeoScore(o),t}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t,n){e.visible!==this.props.visible&&this.props.visible&&this.presentSeoResult()}},{key:"render",value:function(){return(0,y.jsx)(Or.Z,{title:this.state.is_pro_user?this.seoRankTitle():null,id:"quix-seo-snippet",placement:"right",closable:!0,width:480,onClose:this.onClose,visible:this.props.visible,maskClosable:!1,prefixCls:"seo-snippet qxui-drawer",style:this.props.visible?{overflow:"auto",height:"100vh",width:"480px",paddingBottom:"55px"}:null,children:this.state.is_pro_user?(0,y.jsx)(y.Fragment,{children:this.seoToolbar()}):(0,y.jsx)(ji,{pro:this.state.is_pro_user})})}}])&&Bi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Ii;function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zi(e,t)}function Yi(e,t){if(t&&("object"===Gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ki(e){return Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ki(e)}var ea,ta,na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Zi(e,t)}(l,e);var t,n,r,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ki(o);if(i){var n=Ki(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yi(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={hasError:!1,message:null},t}return t=l,r=[{key:"getDerivedStateFromError",value:function(e){return console.error("Error occurred",e),{hasError:!0,message:e.message}}}],(n=[{key:"componentDidCatch",value:function(e,t){console.log("Error occurred",e,t)}},{key:"render",value:function(){return this.state.hasError?(0,y.jsxs)("p",{style:{background:"red",color:"#fff",padding:"10px 20px"},children:["This component had an error and crashed ",(0,y.jsxs)("i",{children:['"',this.state.message,'"']})]}):this.props.children}}])&&Xi(t.prototype,n),r&&Xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component),ra=(n(13981),n(16256));function oa(e){return oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(e)}function ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},la(e,t)}function sa(e,t){if(t&&("object"===oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ca(e)}function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){da(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ma,ba={section:["section","row"],row:["row","column"],column:["column","element"],element:["element"]},va={moveNode:De},ga=(ea=(0,v.$j)((function(e){var t=e.nodes.nodes,n=function e(t,n){var r={children:[]};t.children&&t.children.length>0&&(r.children=t.children.map((function(t,r){return e(t,[].concat(ha(n),["children",r]))})));var o=zt(t)?"element":t.slug;return fa(fa({},r),{},{key:t.id,title:t.name||St(t.slug),path:n,type:o,slug:t.slug,dropTypes:ba[o]})};return{treeData:t.map((function(e,t){return n(e,[t])}))}}),va),ea(ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&la(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ua(r);if(o){var n=ua(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sa(this,e)});function a(){var e;ia(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return da(ca(e=i.call.apply(i,[this].concat(n))),"onDragStart",(function(t){var n=t.node;e.node=n})),da(ca(e),"allowDrop",(function(t){return t.dropNode.dropTypes.includes(e.node.type)})),da(ca(e),"onDrop",(function(t){var n=t.dragNode,r=t.node,o=t.dropPosition;if(delete e.node,0===r.dropTypes.indexOf(n.type)){var i=ha(r.path);i.pop()===o&&(o+=1),e.props.moveNode(n.path,[].concat(ha(i),[o]))}else e.props.moveNode(n.path,[].concat(ha(r.path),["children",0===o?o:r.children.length]))})),da(ca(e),"onSelect",(function(e){er().then((function(t){var n,r=null===(n=ur(e,t))||void 0===n?void 0:n.parentNode;console.log(r),null==r||r.scrollIntoView({behavior:"smooth"})}))})),da(ca(e),"getIcon",(function(e){var t=e.slug,n=e.name;return(0,y.jsx)("img",{src:It(t),alt:n})})),da(ca(e),"onChange",(function(t){var n=t.target.value,r=e.props.treeData.map((function(e){return e.title.indexOf(n)>-1?getParentKey(e.key,gData):null})).filter((function(e,t,n){return e&&n.indexOf(e)===t}));e.setState({expandedKeys:r,searchValue:n,autoExpandParent:!0})})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"navigator",children:[(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle qx-flex-between",style:{padding:"8px"},children:[(0,y.jsxs)(p.default,{children:[(0,y.jsx)("i",{className:"qxuicon-plus qx-margin-small-right"}),"Expand All"]}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsx)(So.default,{onChange:this.onChange,placeholder:"Search",size:"small",className:"qx-form-blank"})})]}),(0,y.jsx)(ra.default,{showIcon:!0,draggable:!0,blockNode:!0,selectable:!0,multiple:!1,checkable:!1,className:"draggable-navigator",onDragStart:this.onDragStart,allowDrop:this.allowDrop,onDrop:this.onDrop,onSelect:this.onSelect,icon:this.getIcon,treeData:this.props.treeData})]})}}])&&aa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ta);function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oa(e,t){return Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oa(e,t)}function _a(e,t){if(t&&("object"===xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}var Pa="OPEN_NAVIGATOR_MODAL",qa=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?Pa:null}}},Ca={openNavigatorModal:qa};const ka=(0,v.$j)((function(e){return{visible:e.action.action===Pa}}),Ca)(ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Oa(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sa(r);if(o){var n=Sa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _a(this,e)});function a(){return ja(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(lo,{show:this.props.visible,close:function(){return e.props.openNavigatorModal(!1)},expandable:!1,width:520,className:"qxui-modal--with-tab qxui-modal--elements",style:{left:"calc(50vw - 260px)",display:this.props.visible?"block":"none"},title:(0,y.jsx)("h4",{className:"qxui-modal-title",children:"Navigator"}),children:this.props.visible?(0,y.jsx)(ga,{}):(0,y.jsx)("span",{style:{minHeight:"100px"}})})}}])&&wa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ma;function Na(e,t,n){var r=new Blob([e],{type:n||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var o=window.URL.createObjectURL(r),i=window.document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),window.document.body.appendChild(i),i.click(),window.document.body.removeChild(i),window.URL.revokeObjectURL(o)}}function Ra(){var e="index.php?option=com_quix&task=api.exportCollection&type=".concat(quix.type,"&").concat(quix._token,"=1"),t="0"!==quix.id?quix.id:jQuery("#jform_id").val();jt().get(e+"&id=".concat(t)).then((function(e){var t,n="".concat(QuixPageAlias,".json"),r=JSON.parse(e.data.data.config),o={groups:[],title:QuixPageAlias,type:"section"!==r.type?"layout":"section",data:r.data,builder_version:null!==(t=r.builder_version)&&void 0!==t?t:"2.0.0"};Na(JSON.stringify(o),n,"application/json")}))}n(36159);var Ea=n(86715),Ta=(n(12280),n(24298));function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ia(e,t)}function Ma(e,t){if(t&&("object"===Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function La(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ba(e)}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fa=So.default.TextArea,za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ia(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ba(r);if(o){var n=Ba(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ma(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ua(La(t=i.call(this,e)),"getHelpMarkup",(function(){var e=t.props.help;if(e)return(0,y.jsx)(wi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),Ua(La(t),"getResetMarkup",(function(){return t.props.onlyBaseText||_i()(t.props.default,t.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:function(){return t.onCodeChange("")}})})})})),t.state={code:"",modes:[{value:"javascript",label:"JavaScript"},{value:"css",label:"CSS"},{value:"html",label:"HTML"}]},t.onCodeChange=t.onCodeChange.bind(La(t)),t}return t=a,n=[{key:"onCodeChange",value:function(e){this.setState({code:e}),this.props.onChange({code:e,mode:this.props.value.mode?this.props.value.mode:"css"})}},{key:"getLabelMarkup",value:function(){var e=this.props.label;return(0,y.jsx)("span",{children:e})}},{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-field-code",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.getResetMarkup()]}),(0,y.jsx)(Fa,{rows:4,value:this.props.value.code,onChange:function(t){return e.onCodeChange(t.target.value)},prefixCls:"qxui-input"})]})}}],n&&Aa(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);za.propTypes={},za.defaultProps={};const Ha=za;function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}var Ja,Wa,$a;function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Xa(e,t){if(t&&("object"===Qa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Za(e)}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ya(e){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(e)}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var el=Ta.Z.Panel,tl=ti.default.TabPane,nl=Ea.default.Option,rl="OPEN_PAGE_MODAL",ol=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:pe,payload:{action:e?rl:null,tab:t}}},il={openPageSettings:ol},al=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.tab;return{visible:n===rl,tab:r}}),il)(($a=Wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ga(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ya(r);if(o){var n=Ya(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xa(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ka(Za(t=i.call(this,e)),"state",{CSS_Code:"",JS_Code:"",color:"",accessListArray:[],LanguageListArray:[],globalStyles:"",enabledImageOptimization:!0,enable_amp:!0,enabledWebpSupport:!0}),t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;this.setState({CSS_Code:{code:ur("jform_params_codecss").value,mode:"css"}}),this.setState({JS_Code:{code:ur("jform_params_codejs").value,mode:"javascript"}});for(var t=ur("jform_access").options,n=[],r=t.length,o=0;o<r;o++)""!==t[o].value&&n.push({text:t[o].text,value:t[o].value});this.setState({accessListArray:n});for(var i=ur("jform_language").options,a=[],l=i.length,s=0;s<l;s++)a.push({text:i[s].text,value:i[s].value});this.setState({LanguageListArray:a}),ur("jform_access").value=ur("jform_access").value?ur("jform_access").value:ur("jform_access").options[0].value,ur("jform_language").value=ur("jform_language").value?ur("jform_language").value:ur("jform_language").options[0].value,setTimeout((function(){e.setState({enabledImageOptimization:!!_t(ur("jform_params_enabled_image_optimization").value)||JSON.parse(ur("jform_params_enabled_image_optimization").value),enabledWebpSupport:!!_t(ur("jform_params_enabled_webp_support").value)||JSON.parse(ur("jform_params_enabled_webp_support").value),enable_amp:!!_t(ur("jform_metadata_enable_amp").value)||JSON.parse(ur("jform_metadata_enable_amp").value)})}),100)}},{key:"onGlobalStylesChange",value:function(e){this.setState({globalStyles:e})}},{key:"saveGlobalStyles",value:function(){"function"==typeof this.state.globalStyles.toJS&&jQuery("#jform_params_style").val(JSON.stringify(this.state.globalStyles.toJS()))}},{key:"onChange",value:function(e){To()}},{key:"render",value:function(){var e=this,t=ur("jform_type").value;return(0,y.jsx)(lo,{className:"qxui-modal--with-tab page-options",title:"collection"===t?"Settings":"Page Settings",show:!0,close:function(){return e.props.openPageSettings(!1)},expandable:!1,style:{left:"calc(50vw - 250px)",display:this.props.visible?"block":"none"},footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:function(){To(),e.saveGlobalStyles(),e.props.openPageSettings(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Apply "]},"save")],children:(0,y.jsxs)(ti.default,{defaultActiveKey:this.state.tab,onChange:function(t){ht("qx-page-tab",t),e.setState({tab:t})},children:[(0,y.jsx)(tl,{tab:"General",children:(0,y.jsx)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"right",children:(0,y.jsxs)(el,{header:"General Options",children:[(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Status"}),(0,y.jsxs)(Ea.default,{label:"Page status",defaultValue:ur("jform_state").value,onChange:function(e){ur("jform_state").value=e,To()},children:[(0,y.jsx)(nl,{value:"1",children:"Published"}),(0,y.jsx)(nl,{value:"0",children:"Unpublished"}),(0,y.jsx)(nl,{value:"2",children:"Archived"}),(0,y.jsx)(nl,{value:"-2",children:"Trashed"})]})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Access"}),(0,y.jsx)(Ea.default,{label:"Page Access",defaultValue:ur("jform_access").value,style:{width:"100%"},onChange:function(e){ur("jform_access").value=e,To()},children:this.state.accessListArray.map((function(e){return(0,y.jsx)(nl,{value:e.value,children:e.text},e.value)}))})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Language"}),(0,y.jsx)(Ea.default,{label:"Language",defaultValue:ur("jform_language").value,style:{width:"100%"},onChange:function(e){ur("jform_language").value=e,To()},children:this.state.LanguageListArray.map((function(e){return(0,y.jsx)(nl,{value:e.value,children:e.text},e.value)}))})]})]},"1")})},"general"),(0,y.jsx)(tl,{tab:"Advanced",children:(0,y.jsxs)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,ghost:!0,expandIconPosition:"right",children:[(0,y.jsx)(el,{header:"CSS",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Ha,{label:"Custom CSS",name:"jform[params][codecss]",value:this.state.CSS_Code,onChange:function(t){e.setState({CSS_Code:{code:t.code}}),ur("jform_params_codecss").value=t.code,To()}})})},"1"),(0,y.jsx)(el,{header:"JS",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Ha,{label:"Custom JS",mode:"javascript",name:"jform[params][codejs]",value:this.state.JS_Code,onChange:function(t){e.setState({JS_Code:{code:t.code}}),ur("jform_params_codejs").value=t.code,To()}})})},"2")]})},"advanced")]})})}}],n&&Va(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Ka(Wa,"propTypes",{}),Ka(Wa,"defaultProps",{}),Ja=$a))||Ja;const ll=al;n(238);var sl,cl,ul,pl=n(70933),fl=quix.url;function dl(e){return dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(e)}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yl(e,t)}function ml(e,t){if(t&&("object"===dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bl(e)}function bl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vl(e)}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xl=Ea.default.Option,jl="OPEN_LINK_PAGE_MODAL",wl=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?jl:null}}},Ol={openLinkMenuPicker:wl},_l=(0,v.$j)((function(e){return{visible:e.action.action===jl}}),Ol)((ul=cl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yl(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vl(r);if(o){var n=vl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ml(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),gl(bl(t=i.call(this,e)),"state",{MenuList:[],ParentList:[],mainmenu:"",parentmenu:"1",noMenu:!0,pageLink:"",Itemid:""}),gl(bl(t),"onChange",(function(){To()})),gl(bl(t),"makeMenuLink",(function(){if(t.state.title)if(t.state.alias){if(t.state.mainmenu){t.state.parentmenu||t.setState({parentmenu:"1"});var e,n,r,o,i=(e=t.state.title,n=t.state.alias,r=t.state.mainmenu,o=t.state.parentmenu,new Promise((function(t,i){var a=document.getElementById("jform_token").name,l="".concat(fl,"/index.php?option=com_quix&task=api.createMenu&").concat(a,"=1"),s=document.getElementById("jform_id").value;console.log(l);var c={title:e,link:"index.php?option=com_quix&view=page&id="+s,alias:n,menu:r,parentid:o};console.log(c),jQuery.ajax({data:c,url:l,type:"POST",success:function(e){return(e=JSON.parse(e)).success?t(e):i(e)}})})));return i.then((function(e){if(!1===e.success)m.error(e.message);else{var n=e.data;m.success("Menu created successfully."),t.setState({noMenu:!1}),t.setState({Itemid:n.Itemid}),t.setState({pageLink:n.link}),ur("return_url").value=btoa(n.link)}}),(function(e){m.error(e.message)})),i}m.warning("Please select menu group")}else m.warning("Alias is required");else m.warning("Title is required")})),gl(bl(t),"updateParentItem",(function(e){t.setState({ParentList:e})})),gl(bl(t),"handleChange",(function(e,n){t.setState({mainmenu:e}),jQuery.ajax({url:quix.url+"/index.php?option=com_quix&task=api.getParentItem&menutype="+e,dataType:"json"}).done((function(e){var t=[],r=e.length,o=0,i=[];for(i.value="1",i.text="Menu Item Root",t.push(i);o<r;o++){var a=[];a.value=e[o].id,a.text=e[o].title,t.push(a)}return n(t)}))})),t}return t=a,(n=[{key:"componentDidMount",value:function(){for(var e=ur("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++){var o=[];o.value=e[r].value,o.text=e[r].text,t.push(o)}this.setState({MenuList:t});var i=[],a=[];a.value="1",a.text="Menu Item Root",i.push(a),this.setState({ParentList:i}),1==!!+window.QuixPageHasMenu&&(this.setState({noMenu:!1}),this.setState({pageLink:atob(ur("return_url").value)})),this.setState({Itemid:ur("jform_Itemid").value})}},{key:"render",value:function(){var e=this;return this.props.visible,(0,y.jsxs)(lo,{className:"modal--small",title:"Add To Menu",show:this.props.visible,close:function(){return e.props.openLinkMenuPicker(!1)},dismisible:!0,expandable:!1,style:{left:"calc(50vw - 250px)"},footer:[(0,y.jsxs)(p.default,{type:"primary",style:{display:this.state.noMenu?"initial":"none"},size:"large",onClick:this.makeMenuLink,children:[(0,y.jsx)("i",{className:"qxuicon-link"})," Create Menu"]},Math.random())],children:[(0,y.jsxs)("div",{style:{display:this.state.noMenu?"initial":"none"},children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"Menu Title",placeholder:"Home",value:this.state.title,onChange:function(t){e.setState({title:t})},onReset:function(){e.setState({title:""})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"Menu alias",placeholder:"menu-alias",value:this.state.alias,onChange:function(t){e.setState({alias:t})},onReset:function(){e.setState({alias:""})}})}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Select Menu"}),(0,y.jsx)(Ea.default,{label:"Select Menu",defaultValue:this.state.mainmenu,style:{width:"100%"},onChange:function(t){e.handleChange(t,e.updateParentItem)},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.MenuList.map((function(e,t){return(0,y.jsxs)(xl,{value:e.value.toString(),children:[" ",e.text," "]},t)}))})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Select Parent Item"}),(0,y.jsx)(Ea.default,{label:"Parent Item",defaultValue:this.state.parentmenu,style:{width:"100%"},onChange:function(t){e.setState({parentmenu:t})},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.ParentList.map((function(e,t){return(0,y.jsxs)(xl,{value:e.value.toString(),children:[" ",e.text," "]},t)}))})]})]}),(0,y.jsx)(pl.ZP,{status:"success",title:"Page Linked To Menu",subTitle:"This page is already linked to a menu item",style:{display:this.state.noMenu?"none":"block"},extra:[(0,y.jsx)("a",{className:"qx-button qx-button-primary",target:"_blank",href:"".concat(quix.url,"/administrator/index.php?option=com_menus&task=item.edit&id=").concat(this.state.Itemid),children:"Update Menu"},"1"),(0,y.jsxs)("a",{className:"qx-button qx-button-default qx-margin-small-left",target:"_blank",href:this.state.pageLink,children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Visit Page"]},"2")]})]})}}])&&hl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),gl(cl,"propTypes",{}),gl(cl,"defaultProps",{}),sl=ul))||sl;const Sl=_l;function Pl(e){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(e)}var ql;function Cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nl(e,t){return Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nl(e,t)}function Rl(e,t){if(t&&("object"===Pl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return El(e)}function El(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tl(e){return Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tl(e)}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Al=p.default.Group,Il={openNodeImporter:wo,openHistoryPanel:Qr,openPageManager:fi,openSEOPanel:Wi,openNavigatorPanel:qa,openExportImportModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:x,payload:e}},openSaveAsCollectionModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&!t)throw new Error("Data is required when state is true for openSaveAsCollectionModal");return{type:j,payload:{visible:e,data:t}}},invokeSEORankModal:qe,openPageSettings:ol,openTemplateSaver:Xo,invokeDisplayConditionModal:Se,invokeElementPickerModal:we,updateQid:Qe,setDevice:He,emptyNodes:function(){return{type:ue}},openLinkMenuPicker:wl,invokeOptimizationModal:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:pe,payload:{action:e?ve:null}}}},Ml=(0,v.$j)((function(e){var t=e.meta.qid,n=e.nodes;return{qid:t,nodes:n.nodes,device:n.device}}),Il)(ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Nl(e,t)}(f,e);var t,n,r,o,i=(r=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tl(r);if(o){var n=Tl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rl(this,e)});function f(){var e;Cl(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dl(El(e=i.call.apply(i,[this].concat(n))),"state",{title:"",loading:!1,device:"desktop",iconLoading:!1,outputType:"html",visibleSeoModal:!1,showSaveModal:!1,showImportModal:!1,isSaving:!1}),Dl(El(e),"setDevice",(function(t){var n;n=void 0===t.currentTarget?t.target.value:t.currentTarget.value,e.props.setDevice(Ke[n])})),Dl(El(e),"changeIframeWidth",(function(){var t=e.props.device,n=et[t];document.querySelector("body").setAttribute("data-device",n),document.querySelectorAll("div[data-".concat(n,"]")).forEach((function(e){var t=e.attributes["data-".concat(n)].value;e.style.maxWidth=t,e.style.flex="0 0 ".concat(t)})),updateBodyDeviceClass(n)})),Dl(El(e),"changeOutputFrame",(function(t){t.preventDefault();var n=confirm("This will reload the builder, make sure you have saved the changes"),r=new URL(window.location.href).searchParams.get("output"),o="component";if(!0!==n)return!1;"html"===r?o="component":"component"===r&&(o="html");var i=new URL(window.location.href);i.searchParams.set("output",o),window.location.href=i.href,e.setState({outputType:o})})),Dl(El(e),"closePage",(function(){var e="page"===ur("jform_type").value?"page.cancel":"collection.cancel";ft().submitform(e)})),Dl(El(e),"backToAdmin",(function(){window.location=tt()+"/administrator/index.php?option=com_quix"})),Dl(El(e),"onChange",(function(t){e.setState({title:t}),ur("jform_title_hidden").value=t,To()})),Dl(El(e),"showTemplateSaveModal",(function(){e.setState({showSaveModal:!0})})),Dl(El(e),"showImportModal",(function(){e.setState({showImportModal:!0})})),Dl(El(e),"settingsDropdown",(function(e,t,n){return(0,y.jsx)(u.default,{overlay:"collection"===e?t:n,prefixCls:"qxui-dropdown",getPopupContainer:function(){return window.document.body},placement:"bottomCenter",children:(0,y.jsx)(p.default,{children:(0,y.jsx)("i",{className:"qxuicon-cog"})})})})),Dl(El(e),"savePageAjax",(function(t){t.preventDefault(),e.onSaveStateChange(!0),Lo(El(e)).then((function(){e.onSaveStateChange(!1)})).catch((function(t){e.onSaveStateChange(!1)}))})),Dl(El(e),"getDeviceToolbar",(function(){return(0,y.jsx)("div",{children:(0,y.jsxs)(Al,{children:[(0,y.jsx)(c.default,{title:"All",children:(0,y.jsx)(p.default,{type:"text",className:"desktop"===e.state.device?"active":"",value:"desktop",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-desktop"})})}),(0,y.jsx)(c.default,{title:"Tablet: @media screen and (max-width:768px)",children:(0,y.jsx)(p.default,{type:"text",className:"tablet"===e.state.device?"active":"",value:"tablet",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-tablet"})})}),(0,y.jsx)(c.default,{title:"@media screen and (max-width:480px)",children:(0,y.jsx)(p.default,{type:"text",className:"mobile"===e.state.device?"active":"",value:"mobile",onClick:e.setDevice,children:(0,y.jsx)("i",{className:"qxuicon-mobile"})})})]})})})),Dl(El(e),"getSaveToolbar",(function(){var t=e.saveButtonsOptions(El(e)),n=new URLSearchParams(window.location.search).get("output");return(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)(c.default,{title:"Toggle Distraction free mode",placement:"bottom",children:(0,y.jsxs)("div",{className:"qx-distraction-mode",style:{marginRight:"15px"},onClick:e.changeOutputFrame,children:[(0,y.jsx)("span",{children:"Distraction"}),(0,y.jsx)(s.Z,{size:"small",defaultChecked:"component"===n?1:0,checked:"component"===e.state.outputType})]})}),(0,y.jsx)(c.default,{title:"SEO Score",children:(0,y.jsx)(p.default,{type:"text",onClick:e.props.openSEOPanel,style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)(l.default,{status:"active",type:"circle",width:30,strokeColor:{"0%":"#fdf260","100%":"#87d068"},percent:parseInt(e.state.seoScore)})})}),(0,y.jsx)(c.default,{title:"Browse all your edits history from here.",placement:"bottom",children:(0,y.jsx)(p.default,{id:"quix-builder-history-cta",type:"text",onClick:e.props.openHistoryPanel,style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)("i",{className:"qxuicon-history"})})}),(0,y.jsx)(c.default,{title:"Page Preview",children:(0,y.jsx)(p.default,{type:"text",value:"preview",onClick:function(){return Ro(!0)},style:{borderLeft:"1px solid #eee"},children:(0,y.jsx)("i",{className:"qxuicon-eye preview"},"preview")})}),(0,y.jsx)(p.default,{type:"success",className:e.state.isSaving?"savePage qxui-btn-loading":"savePage",onClick:e.savePageAjax,style:{paddingLeft:"25px",paddingRight:"25px"},children:(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)("span",{className:"qx-margin-small-right qx-icon cloud-upload",children:e.state.isSaving?(0,y.jsx)("div",{"qx-spinner":"ratio:0.5",className:"qx-icon qx-spinner"}):(0,y.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","data-svg":"cloud-upload",children:[(0,y.jsx)("path",{fill:"none",stroke:"#000",strokeWidth:"1.1",d:"M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6"}),(0,y.jsx)("polyline",{fill:"none",stroke:"#000",points:"7.25 11.75 9.5 9.5 11.75 11.75"}),(0,y.jsx)("path",{fill:"none",stroke:"#000",d:"M9.5,18 L9.5,9.5"})]})}),(0,y.jsx)("span",{className:"save-text",children:"Save"})]})},"save"),(0,y.jsx)(u.default,{overlay:t,prefixCls:"qxui-dropdown",trigger:"click",children:(0,y.jsx)(p.default,{type:"text",id:"quix-builder-settings-dropdown",children:(0,y.jsx)("i",{className:"qxuicon-bars"})})})]})})),Dl(El(e),"getPageNavToolbar",(function(){var t=ct();return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"qx-fb-toolbar__logo"}),(0,y.jsxs)(p.default,{id:"quix-builder-page-title",type:"link",onClick:e.props.openPageManager,children:[(0,y.jsx)("i",{className:"qxuicon-pencil qx-text-primary qx-margin-small-right"}),(0,y.jsx)("strong",{children:t||"New page"})]})]})})),Dl(El(e),"onExportPageJson",(function(){"0"===ur("jform_id").value?m.warning("Please save the page first!"):Ra()})),Dl(El(e),"onLinkToMenu",(function(){0===ur("jform_id").value?m.warning("Please save the page first! then create menu link."):e.props.openLinkMenuPicker(!0)})),Dl(El(e),"onSaveStateChange",(function(t){e.setState({isSaving:t})})),e}return t=f,n=[{key:"componentDidMount",value:function(){var e=new URL(window.location.href).searchParams.get("output");this.setState({is_pro_user:pt(),device:et[this.props.device],outputType:e})}},{key:"componentDidUpdate",value:function(e,t,n){e.device!==this.props.device&&(this.setState({device:et[this.props.device]}),this.changeIframeWidth())}},{key:"saveButtonsOptions",value:function(){var e=ut(),t=null;return d()(ur("jform_template_type"))||["article","header","footer","mainbody"].includes(ur("jform_template_type").value)&&(t=(0,y.jsxs)(a.default.Item,{onClick:this.props.invokeDisplayConditionModal,children:[(0,y.jsx)("i",{className:"qxuicon-adjust qx-margin-small-right"})," Display Condition"]},"1")),(0,y.jsxs)(a.default,{children:["collection"===e?(0,y.jsxs)(a.default.Item,{onClick:this.props.openPageSettings,children:[(0,y.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," Template Options"]},"page"):null,"page"===e?(0,y.jsxs)(a.default.Item,{onClick:this.props.openPageSettings,children:[(0,y.jsx)("i",{className:"qxuicon-window-alt qx-margin-small-right"})," Page Settings"]},"page"):null,(0,y.jsxs)(a.default.Item,{onClick:this.props.invokeSEORankModal,children:[(0,y.jsx)("i",{className:"qxuicon-binoculars qx-margin-small-right"})," SEO Settings"]},"seo"),t,(0,y.jsx)(a.default.Divider,{}),"page"===e?(0,y.jsxs)(a.default.Item,{onClick:this.onLinkToMenu,children:[(0,y.jsx)("i",{className:"qxuicon-link qx-margin-small-right"})," Link To Menu"]},"menu"):null,(0,y.jsxs)(a.default.Item,{onClick:this.props.openTemplateSaver,children:[(0,y.jsx)("i",{className:"qxuicon-save qx-margin-small-right"})," Save as Template"]},"saveTemplate"),(0,y.jsxs)(a.default.Item,{onClick:this.props.openNodeImporter,children:[(0,y.jsx)("i",{className:"qxuicon-upload qx-margin-small-right"},"import-json")," Import JSON"]},"importJson"),(0,y.jsxs)(a.default.Item,{onClick:this.onExportPageJson,children:[(0,y.jsx)("i",{className:"qxuicon-parachute-box qx-margin-small-right"},"export-page")," Export JSON"]},"exportJson"),(0,y.jsx)(a.default.Divider,{}),(0,y.jsxs)(a.default.Item,{onClick:this.closePage,children:[(0,y.jsx)("i",{className:"qxuicon-times qx-margin-small-right"})," Close Builder"]},"close"),(0,y.jsxs)(a.default.Item,{onClick:this.backToAdmin,children:[(0,y.jsx)("i",{className:"qxuicon-arrow-left qx-margin-small-right"})," Back to Admin"]},"back2Admin")]})}},{key:"render",value:function(){var e=this;return(0,y.jsxs)(y.Fragment,{children:[this.getPageNavToolbar(),this.getDeviceToolbar(),this.getSaveToolbar(),(0,y.jsx)(na,{name:"SEOPanel",children:(0,y.jsx)(Vi,{onChangeSeoScore:function(t){return e.setState({seoScore:t})}})}),(0,y.jsx)(na,{name:"ManagePages",children:(0,y.jsx)(hi,{isSaving:this.state.isSaving,onSaveStateChange:this.onSaveStateChange})}),(0,y.jsx)(na,{name:"HistoryPanel",children:(0,y.jsx)(Wr,{})}),(0,y.jsx)(na,{name:"SaveTemplate",children:(0,y.jsx)(Ko,{})}),(0,y.jsx)(na,{name:"TemplateImportModal",children:(0,y.jsx)(_o,{})}),(0,y.jsx)(na,{name:"NavigatorModal",children:(0,y.jsx)(ka,{})})]})}}],n&&kl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(b.Component))||ql;const Ll=Ml;n(73098);var Bl=n(74518),Ul=JSON.parse(window.QUIX_SHAPES);function Fl(e){var t=null;try{t=window.atob(Ul[e])}catch(e){t=null}return t}var zl=n(3468),Hl=n.n(zl);function Ql(e){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(e)}function Jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $l(e,t){return $l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$l(e,t)}function Vl(e,t){if(t&&("object"===Ql(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gl(e)}function Gl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xl(e)}function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$l(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xl(r);if(o){var n=Xl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vl(this,e)});function a(){var e;Jl(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zl(Gl(e=i.call.apply(i,[this].concat(n))),"state",{width:0,mousePosition:0}),Zl(Gl(e),"onResize",(function(t){var n=e.props,r=n.min,o=n.max,i=e.state.width+(t.screenX-e.state.mousePosition);i<=r&&i<e.props.width||i>=o&&i>e.props.width||(e.setState({width:i,mousePosition:t.screenX}),e.props.onResize(i))})),Zl(Gl(e),"onResizeStart",(function(t){e.setState({mousePosition:t.screenX}),e.props.onResizeStart(t),er().then((function(t){t.addEventListener("mousemove",e.onResize,!1),t.addEventListener("mouseup",e.onResizeStop,!1)}))})),Zl(Gl(e),"onResizeStop",(function(){e.props.onResizeStop(),er().then((function(t){t.removeEventListener("mousemove",e.onResize),t.removeEventListener("mouseup",e.onResizeStop)}))})),e}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t,n){this.props.width!==e.width&&this.setState({width:this.props.width})}},{key:"render",value:function(){return(0,y.jsx)("div",{className:"qx-fb-resizable-grid react-resizable",children:(0,y.jsxs)("div",{className:"qx-fb-resizable-grid",children:[this.props.children,(0,y.jsx)("span",{className:"react-resizable-handle react-resizable-handle-se",onMouseDown:this.onResizeStart})]})})}}])&&Wl(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Zl(Yl,"propTypes",{}),Zl(Yl,"defaultProps",{});const Kl=Yl;var es=function(e){var t=e.id,n=e.children,r=e.menu,o=(0,wt.av)({id:t}).show,i=function(e){e.preventDefault(),e.stopPropagation(),o(e)};return r&&r({handleEvent:i}),(0,y.jsx)("div",{className:"qx-context-menu",onContextMenu:i,children:n})};function ts(e,t){return{type:ge,payload:{node:t,path:e}}}function ns(e,t){return{type:je,payload:{path:e,placement:t}}}function rs(e){return!e.props.device||e.props.node.visibility[e.props.device]}function os(e,t){var n;e.setState({inserting:!0,loading:!0});var r=e.state.originItems.find((function(e){return e.id===t})),o=+r.min_version.replace(".","");if(+window.QUIXNXT_VERSION.replace(".","")<o)return m.warning("Quix version ".concat(r.min_version," is required to use this template. Please update Quix first.")),void e.setState({inserting:!1,loading:!1});var i=new URL(r.json_url);i.protocol="https","pro"===e.state.is_pro_user&&i.searchParams.append("auth","1");var a=null===(n=i.search.match(/id=(\d+)/))||void 0===n?void 0:n[1];jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getRemoteTemplate&v=").concat(r.min_version,"&id=").concat(a)).then((function(t){try{var n=t.data;e.props.insertNodes(e.props.sectionPath,n)}catch(e){m.error("Something went wrong! Possible reason:  ".concat(e.message)),console.log(e)}})).then((function(){m.success("Template inserted"),e._mounted&&e.setState({inserting:!1,loading:!1}),e.props.closeModal()}))}var is=n(18840),as=n.n(is);function ls(e){return function(e){if(Array.isArray(e))return ss(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ss(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fs,ds,hs,ys=function(e){e.createDragPreview=function(e,t){var n=ur(zt(e)?"".concat(e.id,"-preview"):e.id,t),r=n,o=r.clientHeight,i=r.clientWidth;return window.QUIX.drag=us(us({},window.QUIX.drag),{},{el:n}),(n=n.cloneNode(!0)).style.width="".concat(i,"px"),n.style.height="".concat(o,"px"),n.style.zoom=i>o?300/i:300/o,n.style.position="absolute",n.style.top="-700px",n.style.right="-700px",n.style.overflow="hidden",n.id="drag-preview-image",t.body.appendChild(n),n},e.removeDragPreview=function(){er().then((function(e){ur("drag-preview-image",e).remove()}))},e.startDrag=function(t){t.persist(),er().then((function(n){var r=e.createDragPreview(e.props.node,n);window.QUIX.drag=us(us({},window.QUIX.drag),{},{path:ls(e.props.path),type:e.getType()}),t.dataTransfer.setDragImage(r,0,0)}))},e.onDragOver=function(t){var n=window.QUIX.drag;if(e.getDropTypes().includes(null==n?void 0:n.type)){t.preventDefault(),t.stopPropagation();var r=t.currentTarget.offsetTop+44,o=t.pageY-r;t.currentTarget.offsetHeight/2>o?e.showDragPlaceholder(Ge):e.showDragPlaceholder(Xe)}},e.onDragLeave=function(){e.showDragPlaceholder(null)},e.showDragPlaceholder=as()((function(t){t&&(window.QUIX.drag.placement=t),er().then((function(n){var r=ur("".concat(e.getId(),"-drop-before"),n),o=ur("".concat(e.getId(),"-drop-after"),n);t===Ge?(null==r||r.classList.remove("qx-hidden"),null==o||o.classList.add("qx-hidden")):t===Xe?(null==r||r.classList.add("qx-hidden"),null==o||o.classList.remove("qx-hidden")):(null==r||r.classList.add("qx-hidden"),null==o||o.classList.add("qx-hidden"))}))}),10),e.onDrop=function(t){e.showDragPlaceholder(null),e.removeDragPreview();var n=window.QUIX.drag;if(console.log(e.getDropTypes(),e.getType(),n),e.getDropTypes().includes(null==n?void 0:n.type)){t.preventDefault(),t.stopPropagation();var r=n.path;e.handleDrop(ls(r),n.placement,n.type),delete window.QUIX.drag}}};function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){Ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gs(e){return function(e){if(Array.isArray(e))return xs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t){return ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ws(e,t)}function Os(e,t){if(t&&("object"===ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _s(e)}function _s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ss(e)}function Ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs={invokeElementPickerModal:we,showFormModal:ts,replaceNode:Ie,deleteNode:Fe,duplicateNode:Ae,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Ue,resetNodeStyle:function(e,t){return{type:Z,payload:{path:e,name:t}}},setNodeVisibility:ze,setDndPlacement:ns,moveNode:De,invokeElementSaveModal:_e},Cs=(0,v.$j)(null,qs)((hs=ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ws(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ss(r);if(o){var n=Ss(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Os(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ps(_s(t=i.call(this,e)),"hash",void 0),Ps(_s(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),Ps(_s(t),"getDropTypes",(function(){return["element"]})),Ps(_s(t),"getType",(function(){return"element"})),Ps(_s(t),"handleDrop",(function(e,n){var r=gs(t.props.path);if(n===Ge)t.props.moveNode(e,gs(r));else{var o=r.pop();t.props.moveNode(e,[].concat(gs(r),[o+1]))}})),Ps(_s(t),"injectStyleAndScript",(function(){pr(t.props.node.slug)})),Ps(_s(t),"removeStyleAndScript",(function(){jQuery("script#"+t.props.node.id+"-preview").remove(),jQuery("style#"+t.props.node.id+"-preview").remove()})),Ps(_s(t),"loadElement",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.props.isModalOpen||t.hash!==e.hash)&&("column"!==e.slug?("form"===e.slug&&(n=!0),t.hash=e.hash,console.log("Rendering element",e.slug,n),!n&&t.props.isModalOpen&&"general"===window.QUIX.formTab?(console.log("Rendering Element HTML and SCRIPT",e.id,e),br(e,t.props.path).then((function(){gr(e).catch((function(e){return e}))}))):t.props.isModalOpen&&"styles"===window.QUIX.formTab?(console.log("Rendering Element STYLES",e.id,e),vr(e).catch((function(e){return e}))):(console.log("Rendering Element ALL",e.id,e),br(e,t.props.path).then((function(){gr(e).catch((function(e){return e})),vr(e).catch((function(e){return e}))})))):vr(e).catch((function(e){return e})))})),Ps(_s(t),"goPro",(function(){window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank")})),Ps(_s(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,t.props.node.slug)})),Ps(_s(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,t.props.node.slug)})),Ps(_s(t),"resetNodeStyle",(function(){t.props.resetNodeStyle(t.props.path,t.props.node.slug)})),Ps(_s(t),"openSettingsModal",(function(){var e=t.props,n=e.path,r=e.isModalOpen,o=e.formPath,i=e.formNode,a=t.props.node;r&&t.props.replaceNode(o,i),t.props.showFormModal(n,a)})),Ps(_s(t),"saveElement",(function(){t.props.invokeElementSaveModal(t.props.path)})),Ps(_s(t),"elementContextMenu",(function(){if(!rs(_s(t)))return(0,y.jsx)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:Ht(_s(t))});var e=(0,y.jsxs)(wt.ck,{onClick:t.resetNodeStyle,children:[(0,y.jsx)("i",{className:"qxuicon-redo"})," Reset Style"]}),n=null,r=null;return"free"===t.state.is_pro_user&&(r=(0,y.jsx)(wt.Z0,{}),n=(0,y.jsxs)(wt.ck,{onClick:t.goPro,className:"goProLink",children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Go Pro Xyz"]})),(0,y.jsxs)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Element",children:"Element"},"title"),(0,y.jsxs)(wt.ck,{onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-pencil"})," Edit"]}),(0,y.jsxs)(wt.ck,{onClick:t.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]}),(0,y.jsx)(wt.Z0,{}),Wt(_s(t)),e,(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.saveElement,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save to Library"]}),Ht(_s(t)),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]}),r,n]})})),Ps(_s(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,vs(vs({},o),{},Ps({},i,!0)))})),Ps(_s(t),"renderSettings",(function(e){var n=rs(_s(t)),r=(0,y.jsxs)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Edit",onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-pencil"})," "]},e+"-setting"),o=n?(0,y.jsxs)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Delete",onClick:t.deleteNode,children:[" ",(0,y.jsx)("i",{className:"qxuicon-trash-alt"})]},e+"-delete"):"",i="column"===t.props.node.slug?null:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})});if(!n)return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsx)(Bl.default,{className:"qx-fb-settings qx-fb-settings--element",children:(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small","qx-tooltip":n?"Disable":"Enable",onClick:t.enableVisibility,children:(0,y.jsx)("i",{className:n?"qxuicon-low-vision":"qxuicon-eye"})})})});var a=t.props.node.slug.charAt(0).toUpperCase()+t.props.node.slug.slice(1);return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(Bl.default,{size:1,className:"qx-fb-settings qx-fb-settings--element",children:["column"===t.props.node.slug?o:null,"column"===t.props.node.slug?null:r,i,(0,y.jsx)(p.default,{type:"text",size:"small",className:"qx-animation-slide-right-small",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move ".concat(a),children:(0,y.jsx)("i",{className:"qxuicon-arrows"})})]})})})),Ps(_s(t),"getDevice",(function(){var e=dt("qx-device");return void 0===e&&(e="desktop"),"mobile"===e?"phone":e})),ys(_s(t)),t.state={needPasteOption:!1,enableEdit:!1,elementRawHTML:"",elementRawStyle:"",elementRawScript:"",elementRawScripts:[],id:Ln("qx-element-id-"),field:{},draggingEnabled:!0,forceRender:null,modalOpen:!1,is_pro_user:window.QuixLicenseStatus},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.injectStyleAndScript(),this.loadElement(this.props.node,!0)}},{key:"shouldComponentUpdate",value:function(e,t,n){var r,o,i;return"column"===e.node.slug||!!(this.props.isModalOpen&&(this,this.props.node.id===(null===(i=this.props.formNode)||void 0===i?void 0:i.id))||this.hash!==e.node.hash||this.props.device!==e.device)||(null===(r=this.props.copiedNode)||void 0===r?void 0:r.id)!==(null===(o=e.copiedNode)||void 0===o?void 0:o.id)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadElement(this.props.node)}},{key:"componentWillUnmount",value:function(){this.removeStyleAndScript()}},{key:"render",value:function(){var e=this,t=this.props.node,n=rs(this),r=null==t?void 0:t.id,o=Ve()("qx-fb-element",{"qx-fb-dragging":!1,"qx-fb-column--nested":"column"===t.slug,"qx-fb-disabled":!n}),i=Ve()({"qx-fb-disabled":!n});if("column"===this.props.node.slug){var a=(0,y.jsx)(yu,{elementPath:this.props.path,children:t.children,path:[].concat(gs(this.props.path),["children"]),device:this.props.device,resize:this.props.resize,hidePlusIcon:!0});return(0,y.jsx)("div",{className:o,style:{flex:"0 0 100%",maxWidth:"100%"},children:(0,y.jsx)("div",{id:r,children:(0,y.jsxs)("div",{className:i,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast"}),this.renderSettings(r),a]})})})}return(0,y.jsxs)("div",{className:o,tabIndex:"0",children:[(0,y.jsxs)(es,{id:this.state.id,menu:function(t){return e.menu=t},children:[this.renderSettings(r),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,y.jsx)("div",{id:r+"-preview"}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),this.elementContextMenu()]})}}])&&js(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Ps(ds,"propTypes",{path:Hl().array.isRequired}),fs=hs))||fs;const ks=Cs;function Ns(e){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(e)}var Rs,Es,Ts;function Ds(e){return function(e){if(Array.isArray(e))return As(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ls(e,t){return Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ls(e,t)}function Bs(e,t){if(t&&("object"===Ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Us(e)}function Us(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fs(e){return Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fs(e)}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hs={invokeElementPickerModal:we,setDndPlacement:ns,moveNode:De,pasteNode:Le,insertCopiedNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:U,payload:{targetPath:e}}}},Qs=(0,v.$j)(null,Hs)((Ts=Es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ls(e,t)}(l,e);var t,n,r,o,a=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fs(r);if(o){var n=Fs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bs(this,e)});function l(){var e;Is(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zs(Us(e=a.call.apply(a,[this].concat(n))),"state",{id:Ln("qx"),needPasteOption:!1,is_pro_user:!1}),zs(Us(e),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),zs(Us(e),"handleInsertElementClick",(function(){var t=e.props,n=t.path,r=t.children;e.props.invokeElementPickerModal(Ds(n),r.length)})),zs(Us(e),"renderElement",(function(t,n){var r=e.props,o=r.path,i=r.formNode,a=r.formPath,l=r.device,s=r.copiedNode,c=r.dnd,u=r.isModalOpen,p=r.resize,f=[].concat(Ds(o),[n]);if(an(t.slug))return(0,y.jsx)(ks,{path:f,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,index:n,node:t,columnId:e.props.columnId,rowId:e.props.rowId,rowPath:e.props.rowPath,resize:p},t.id)})),zs(Us(e),"renderFooter",(function(t){return(0,y.jsxs)("div",{className:t?"qx-fb-area-blank":"qx-fb-button--add",children:[(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qxui-btn--small","qx-tooltip":"Add New Element",onClick:e.handleInsertElementClick,children:(0,y.jsx)("i",{className:"qxuicon-plus"})}),e.props.children.length?null:Un(Us(e),!0)?(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qxui-btn--small qx-margin-small-left","qx-tooltip":"Paste Element",onClick:function(){e.props.insertCopiedNodes(e.props.path.concat(0))},children:(0,y.jsx)("i",{className:"qxuicon-paste"})}):null]})})),zs(Us(e),"renderElements",(function(t){return t.map(e.renderElement)})),e}return t=l,n=[{key:"componentDidMount",value:function(){this.setState({is_pro_user:nt()})}},{key:"render",value:function(){var e=this,t=this.props.children,n=0===t.length,r=null,o=null;return"free"===this.state.is_pro_user&&(o=(0,y.jsx)(wt.Z0,{}),r=(0,y.jsxs)(wt.ck,{onClick:this.goPro.bind(this),className:"goProLink",children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Go Pro"]})),(0,y.jsxs)("div",{className:"qx-fb-elements",children:[this.renderElements(t),this.renderFooter(n),this.state.needPasteOption?(0,y.jsx)(es,{id:this.state.id,children:(0,y.jsxs)(wt.v2,{id:this.state.id,theme:wt.dw.dark,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Element",children:"Element"},"title"),(0,y.jsxs)(wt.ck,{onClick:function(){Le(e.props.path.concat(0)),i.emit("Element_WANT_TO_COPY")},children:[(0,y.jsx)("i",{className:"qxuicon-paste"})," Paste"]}),o,r]})}):null]})}}],n&&Ms(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component),zs(Es,"propTypes",{path:Hl().array.isRequired,children:Hl().array.isRequired}),Rs=Ts))||Rs;const Js=Qs;function Ws(e,t,n){var r,o;if(null!==(r=this.props.resize.column1)&&void 0!==r&&r.id||null!==(o=e.resize.column1)&&void 0!==o&&o.id){var i,a=null!==(i=this.props.resize.column1)&&void 0!==i&&i.id?this.props.resize:e.resize,l=Math.min(a.rowPath.length,this.props.path.length);return a.rowPath.slice(0,l).join()===this.props.path.slice(0,l).join()}if(e.isModalOpen){var s=Math.min(e.formPath.length,e.path.length);return e.formPath.slice(0,s).join()===e.path.slice(0,s).join()}return!("section"===this.props.node.slug&&this.props.isModalOpen&&!e.isModalOpen)}function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}var Vs,Gs,Xs;function Zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(n),!0).forEach((function(t){ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ks(e){return function(e){if(Array.isArray(e))return ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){return nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nc(e,t)}function rc(e,t){if(t&&("object"===$s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ic(e)}function ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc={addColumnNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:T,payload:{path:e,index:t}}},showFormModal:ts,deleteNode:Fe,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Ue,setNodeVisibility:ze,duplicateColumnNode:function(e){return{type:Y,payload:{path:e}}},changeColumnWidth:function(e,t){return{type:se,payload:{path:e,width:t}}},setColumnWidth:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:ce,payload:{path:e,width:t}}},setDndPlacement:ns,moveNode:De},sc=(0,v.$j)(null,lc)((Xs=Gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&nc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ic(r);if(o){var n=ic(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rc(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ac(oc(t=i.call(this,e)),"hash",Ln()),ac(oc(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),ac(oc(t),"getDropTypes",(function(){return["column","element"]})),ac(oc(t),"getType",(function(){return"column"})),ac(oc(t),"handleDrop",(function(e,n,r){var o=Ks(t.props.path);"element"===r&&(n===Ge?t.props.moveNode(e,[].concat(Ks(o),["children",0])):t.props.moveNode(e,[].concat(Ks(o),["children",t.props.node.children.length])))})),ac(oc(t),"shouldComponentUpdate",Ws),ac(oc(t),"getDevice",(function(){return Pt(t.props.device).toLowerCase()})),ac(oc(t),"loadColumn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.hash!==e.hash)&&(t.hash=e.hash,console.log("Re-render",e.id,e.hash),vr(e))})),ac(oc(t),"copyNode",(function(){t.props.copyNode(t.props.path,t.props.node)})),ac(oc(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),ac(oc(t),"duplicateNode",(function(){t.props.duplicateColumnNode(t.props.path)})),ac(oc(t),"openSettingsModal",(function(){t.props.showFormModal(t.props.path,t.props.node)})),ac(oc(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Column")})),ac(oc(t),"handleResizeStart",(function(){er().then((function(e){var n=ur(t.props.rowId,e).offsetWidth;t.props.changeColumnWidth(t.props.path,n)}))})),ac(oc(t),"handleResize",(function(e){t.w=t.getUpdatedWidth(e),jr(t.w.column1.id,t.w.column1.width[t.w.device]),jr(t.w.column2.id,t.w.column2.width[t.w.device],!0)})),ac(oc(t),"getUpdatedWidth",(function(e){var n=t.getDevice(),r=t.getWidth();r[n]=e;var o=r[n],i=t.props.resize,a=i.column1,l=a.width,s=a.id,c=i.column2,u=c.width,p=c.id,f=Ys({},l),d=Ys({},u),h=f[n]+d[n];return f[n]=o,d[n]=h-o,{column1:{id:s,width:f},column2:{id:p,width:d},device:n}})),ac(oc(t),"handleResizeStop",(function(){t.w&&(delete t.w.device,t.props.setColumnWidth(t.props.path,t.w),jr(t.w.column1.id),jr(t.w.column2.id),delete t.w)})),ac(oc(t),"addColumn",(function(){var e=Ks(t.props.path),n=e.pop();t.props.addColumnNode(e,n)})),ac(oc(t),"getWidth",(function(){var e,n=t.props,r=n.node,o=r.id,i=r.form,a=n.node,l=n.resize,s=l.column1,c=l.column2;return Ys({},(null==s?void 0:s.id)===a.id||(null===(e=a.column2)||void 0===e?void 0:e.id)===a.id?s.id===o?s.width:c.width:i.general.layout_fields_group.col_width)})),ac(oc(t),"renderElements",(function(){var e=t.props,n=e.path,r=e.device,o=e.formNode,i=e.formPath,a=e.copiedNode,l=e.dnd,s=e.node,c=(s.id,s.children),u=s.form,p=e.isModalOpen,f=e.resize;return t.props.rowPath.length>9?null:(0,y.jsx)(Js,{path:[].concat(Ks(n),["children"]),device:r,formNode:o,formPath:i,copiedNode:a,dnd:l,isModalOpen:p,children:c,columnId:u.advanced.identifier.id,rowId:t.props.rowId,rowPath:t.props.rowPath,resize:f},"elements")})),ac(oc(t),"toggleNodeVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.node.visibility,o=e.path,i=e.device;n(o,Ys(Ys({},r),{},ac({},i,!r[i])))})),ac(oc(t),"renderSettings",(function(){var e=t.props.node.children,n=rs(oc(t)),r=null;(e.length||1)<12&&(r=(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Add Column",onClick:t.addColumn,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})),r=n?r:"";var o=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Column Settings",onClick:t.openSettingsModal,children:(0,y.jsx)("i",{className:"qxuicon-cog"})}):"",i=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Duplicate Column",onClick:t.duplicateNode,children:(0,y.jsx)("i",{className:"qxuicon-clone"})}):"",a=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Delete Column",onClick:t.deleteNode,children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})}):"";return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(Bl.default,{size:1,className:"qx-fb-settings qx-fb-settings--column",children:[o,i,r,(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":n?"Disable Column":"Enable Column",onClick:t.toggleNodeVisibility,children:(0,y.jsx)("i",{className:n?"qxuicon-low-vision":"qxuicon-eye"})}),a]})})})),ys(oc(t)),t.state={needPasteOption:!1,showCols:!1,enableEdit:!1,columnRawHtml:"",columnRawStyle:"",id:Ln("qx-column-id-"),elementKey:Ln("qx-element-key-"),flex:null,maxWidth:null,showWidth:!1,align:null,field:{},resizeDone:!0,hash:null,columns:{left:{id:"",path:[]},right:{id:"",path:[]}}},t}return t=a,n=[{key:"componentDidMount",value:function(){this.loadColumn(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadColumn(this.props.node)}},{key:"render",value:function(){for(var e=this.props,t=e.isDragging,n=e.node,r=n.children,o=n.form,i=e.prentNodes,a=e.resize,l=a.column1,s=a.column2,c=(e.device,rs(this)),u=o.advanced.identifier.id,p=this.getWidth(),f=0,d=Object.keys(p);f<d.length;f++){var h=d[f],m=p[h];(null===m||Number.isNaN(m)||void 0===m)&&(p[h]=i/100)}var b=p[this.getDevice()],v=window.column[u]?window.column[u]:{classes:"lg"},g=0===r.length?"qx-fb-column--empty":"",x=[this.renderElements(),(0,y.jsx)("div",{className:"qx-hidden qx-fb-column__width "+this.state.align},"width-spacer")],j=0,w=0,O=0;null!=l&&l.id&&null!=s&&s.id&&(O=(j=l.width[this.getDevice()]+s.width[this.getDevice()])-(w=.1*j));var _=(0,y.jsx)(Kl,{onResizeStart:this.handleResizeStart,onResizeStop:this.handleResizeStop,onResize:this.handleResize,min:w,max:O,width:b,children:(0,y.jsx)(na,{children:x})}),S=Ve()("qx-fb-column","qx-column",g,v.classes,{"qx-fb-disabled":!c,"qx-fb-dragging":t}),P=o.styles.background_overlay_fields_group.background_overlay;if(P){var q="qx-background-overlay "+u+"-background-overlay";P=(0,y.jsx)("div",{className:q})}var C=o.advanced.animation_fields_group.animation,k=o.advanced.animation_fields_group.animation_repeat,N=o.advanced.animation_fields_group.animation_delay,R={};return"none"!==C&&(_t(C)||(C="cls:"+C+";"),k&&(C+="repeat:ture;"),N&&(C=C+"delay:"+N),R["qx-scrollspy"]=C),(0,y.jsxs)("div",Ys(Ys({id:u,className:S},R),{},{onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[this.renderSettings(),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),(0,y.jsxs)("div",{className:"qx-col-wrap",children:[P,_]}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),u+"-"+C)}}],n&&tc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),ac(Gs,"propTypes",{path:Hl().array.isRequired}),Vs=Xs))||Vs;const cc=sc;function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}var pc,fc,dc;function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mc(e,t)}function bc(e,t){if(t&&("object"===uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vc(e)}function vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gc(e)}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc={setDndPlacement:ns,moveNode:De},wc=(0,v.$j)(null,jc)((dc=fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&mc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gc(r);if(o){var n=gc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bc(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),xc(vc(t=i.call(this,e)),"getId",(function(){return t.props.rowId+"-column"})),xc(vc(t),"getDropTypes",(function(){return["column"]})),xc(vc(t),"getType",(function(){return"column"})),xc(vc(t),"renderColumn",(function(e,n){var r,o=t.props,i=o.path,a=o.children,l=o.formNode,s=o.formPath,c=o.device,u=o.copiedNode,p=o.dnd,f=o.isModalOpen,d=o.resize,h=o.responsive,m=a.length;return i=[].concat(function(e){if(Array.isArray(e))return hc(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hc(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]),(0,y.jsx)(na,{children:(0,y.jsx)(cc,{path:i,node:e,formNode:l,formPath:s,device:c,copiedNode:u,dnd:p,isModalOpen:f,resize:d,responsive:h,rowId:t.props.rowId,rowPath:t.props.rowPath,prentNodes:m})},e.id)})),xc(vc(t),"renderColumns",(function(e){return e.map((function(e,n){return t.renderColumn(e,n)}))})),xc(vc(t),"renderEmptyRow",(function(){return(0,y.jsxs)("div",{className:"qx-fb-area-blank",onDragOver:t.onDragOver,onDragLeave:t.onDragLeave,onDrop:t.onDrop,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(t.props.rowId,"-drop-before")}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-bottom-small qx-animation-fast",id:"".concat(t.props.rowId,"-drop-after")})," ",t.props.layoutTooltip]})})),xc(vc(t),"deviceListMapper",(function(e){return{lg:"desktop",md:"tablet",xs:"phone"}[e]})),ys(vc(t)),t}return t=a,n=[{key:"render",value:function(){var e=this.props.children,t=0===e.length;return(0,y.jsx)(y.Fragment,{children:t?this.renderEmptyRow():this.renderColumns(e)})}}],n&&yc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),xc(fc,"propTypes",{path:Hl().array.isRequired,children:Hl().array.isRequired}),pc=dc))||pc;const Oc=wc;function _c(e){var t=e.name;return t="1-1"===t?"1":t,(0,y.jsx)("div",{title:t,className:"qx-fb-col qx-fb-col-layout-".concat(t)})}function Sc(e){var t=e.onSelect,n=e.sizes,r=e.layout;return(0,y.jsx)("div",{className:"qx-padding-small qx-box-shadow-hover-small",onClick:function(){return t(n)},children:r.map((function(e,t){return(0,y.jsx)(_c,{name:e.join("-")},t)}))})}function Pc(e){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(e)}var qc;function Cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nc(e,t)}function Rc(e,t){if(t&&("object"===Pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ec(e)}function Ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tc(e){return Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tc(e)}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ac={changeRowLayout:Te},Ic=(0,v.$j)(null,Ac)(qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Nc(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tc(r);if(o){var n=Tc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rc(this,e)});function a(){var e;Cc(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dc(Ec(e=i.call.apply(i,[this].concat(n))),"handleSelectLayout",(function(t){var n=e.props.callbackParams,r=n.rowPath,o=n.index,i=n.ignoreRowNode,a=e.props.callback(r,o,i);e.props.changeRowLayout(a,t),jQuery(".qxui-popover").addClass("qxui-popover  qxui-popover-placement-top  qxui-popover-hidden")})),Dc(Ec(e),"renderLayout",(function(t,n){var r=t.map((function(e){return e[0]/e[1]}));return(0,y.jsx)(Sc,{sizes:r,onSelect:e.handleSelectLayout,layout:t},n)})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)(wi.Z,{trigger:this.props.trigger,button:this.props.button,bottom:!0,dismissible:!1,className:"qxui-popover--col-layout",children:(0,y.jsx)("div",{className:"qx-new-column-layouts",children:on.map(this.renderLayout)})})}}])&&kc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||qc;Ic.defaultProps={visible:Hl().bool.isRequired,layouts:Hl().object.isRequired};const Mc=Ic;function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}var Bc,Uc,Fc;function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qc(e){return function(e){if(Array.isArray(e))return Jc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $c(e,t){return $c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$c(e,t)}function Vc(e,t){if(t&&("object"===Lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gc(e)}function Gc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xc(e){return Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(e)}function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc={addRowNode:Ee,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Ue,deleteNode:Fe,duplicateNode:Ae,showFormModal:ts,setNodeVisibility:ze,forceColumnResize:function(e,t){return{type:N,payload:{path:e,size:t}}},setDndPlacement:ns,moveNode:De},Kc=(0,v.$j)(null,Yc)((Fc=Uc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$c(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xc(r);if(o){var n=Xc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vc(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Zc(Gc(t=i.call(this,e)),"hash",Ln()),Zc(Gc(t),"getId",(function(){var e;return null===(e=t.props.node)||void 0===e?void 0:e.id})),Zc(Gc(t),"getDropTypes",(function(){return["row"]})),Zc(Gc(t),"getType",(function(){return"row"})),Zc(Gc(t),"handleDrop",(function(e,n){var r=Qc(t.props.path);if(n===Ge)t.props.moveNode(e,Qc(r));else{var o=r.pop();t.props.moveNode(e,[].concat(Qc(r),[o+1]))}})),Zc(Gc(t),"shouldComponentUpdate",Ws),Zc(Gc(t),"getDevice",(function(e){switch(e||t.props.device){case"md":return"tablet";case"xs":return"phone";default:return"desktop"}})),Zc(Gc(t),"loadRow",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n||t.hash!==e.hash)&&(t.hash=e.hash,vr(e))})),Zc(Gc(t),"openSettingsModal",(function(){t.props.showFormModal(t.props.path,t.props.node)})),Zc(Gc(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Row")})),Zc(Gc(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,"Row")})),Zc(Gc(t),"copyNode",(function(){t.props.copyNode(t.props.path)})),Zc(Gc(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),Zc(Gc(t),"handleAddRowClick",(function(){var e=t.props.path.slice(),n=e.pop()+1;t.props.addRowNode(e,n)})),Zc(Gc(t),"handleDuplicateClick",(function(){var e=t.props,n=e.path;(0,e.duplicateNode)(n,"Row")})),Zc(Gc(t),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),Zc(Gc(t),"forceColumnResize",(function(){t.props.forceColumnResize(t.props.path)})),Zc(Gc(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,Hc(Hc({},o),{},Zc({},i,!0)))})),Zc(Gc(t),"rowContextMenu",(function(){var e,n;return rs(Gc(t))?((null===(e=t.props.copiedNode)||void 0===e?void 0:e.id)!==t.props.node.id&&(wt.ck,t.copyNode),(null===(n=t.props.copiedNode)||void 0===n?void 0:n.slug)===t.props.node.slug&&(wt.ck,t.pasteNode),(0,y.jsxs)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Row",children:"Row"},"title"),(0,y.jsxs)(wt.ck,{onClick:t.openSettingsModal,children:[(0,y.jsx)("i",{className:"qxuicon-cog"})," Settings"]}),(0,y.jsxs)(wt.ck,{onClick:t.handleAddRowClick,children:[(0,y.jsx)("i",{className:"qxuicon-plus"})," Add"]}),(0,y.jsxs)(wt.ck,{onClick:t.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"})," Duplicate"]}),(0,y.jsx)(wt.Z0,{}),Wt(Gc(t)),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.forceColumnResize,children:[(0,y.jsx)("i",{className:"qxuicon-columns"})," Grid Reset"]}),Ht(Gc(t)),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:t.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"})," Delete"]}),null,null]})):(0,y.jsx)(wt.v2,{id:t.state.id,theme:wt.dw.light,style:{zIndex:99999},children:Ht(Gc(t))})})),Zc(Gc(t),"renderSettings",(function(e){var n=rs(Gc(t)),r=null;t.props.hidePlusIcon||(r=(0,y.jsx)("div",{className:"qx-fb-button--add",children:(0,y.jsx)(p.default,{type:"primary",shape:"circle","qx-tooltip":"Add New Row",onClick:t.handleAddRowClick,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})}));var o=n?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Row Settings",onClick:t.openSettingsModal,children:(0,y.jsx)("i",{className:"qxuicon-cog"})},e+"-settings"):"";return(0,y.jsxs)("div",{className:"qx-fb-settings-wrap",children:[(0,y.jsxs)(Bl.default,{size:1,className:"qx-fb-settings qx-fb-settings--row",children:[o,(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent&&t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})}),(0,y.jsx)(p.default,{type:"text",size:"small",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move Row",children:(0,y.jsx)("i",{className:"qxuicon-arrows"})})]}),r]})})),ys(Gc(t)),t.state={needPasteOption:!1,enableEdit:!1,rowRawHtml:"",rowRawStyle:"",id:Ln("qx-row-id-"),btnId:Ln("btn-id-"),field:{}},t}return t=a,n=[{key:"componentDidMount",value:function(){jQuery("#"+this.state.btnId).click(),this.loadRow(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadRow(this.props.node)}},{key:"render",value:function(){var e=this,t=this.props,n=t.node,r=n.children,o=n.form,i=t.device,a=t.formNode,l=t.formPath,s=t.copiedNode,u=t.dnd,f=t.isModalOpen,d=t.isDragging,h=t.resize,m=t.responsive,b=t.path,v=rs(this);b=[].concat(Qc(b),["children"]);var g=o.advanced.identifier.id,x=Ve()("qx-fb-row",{"qx-fb-dragging":d,"qx-fb-no-column":r.length,"qx-fb-disabled":!v}),j=(Ve()({"qx-fb-disabled":!v}),Ve()("qx-row",{"qx-no-gutters":"no-gutters"===o.general.layout_fields_group.columns_gap,"qx-flex-md-row qx-flex-column-reverse":!0===o.general.layout_fields_group.mobile_reverse},this.state.field.class?this.state.field.class:"",o.general.layout_fields_group.v_align)),w=[(0,y.jsx)(c.default,{"qx-tooltip":"Add Column",placement:"bottom",children:(0,y.jsx)(p.default,{id:this.state.btnId,type:"primary",shape:"circle",children:(0,y.jsx)("i",{className:"qxuicon-plus"})},this.state.btnId+"-button")},this.state.btnId+"-tolltip")],O=(0,y.jsx)(Mc,{deleteNode:this.deleteNode,trigger:"click",callback:this.props.callback,callbackParams:{rowPath:this.props.rowPath,index:this.props.index,ignoreRowNode:!0},button:w}),_=null;if(!_t(o.styles.background_overlay_fields_group.background_overlay)){var S="qx-background-overlay "+g+"-background-overlay";_=(0,y.jsx)("div",{className:S})}var P=o.styles.background_fields_group.background;if(!_t(P)&&!_t(P.state.normal.properties.parallax_method)&&"js"===P.state.normal.properties.parallax_method){var q={};_t(P.state.normal.properties.js_parallax_y)||(q.bgy=P.state.normal.properties.js_parallax_y),_t(P.state.normal.properties.js_parallax_x)||(q.bgx=P.state.normal.properties.js_parallax_x),setTimeout((function(){qxUIkit.parallax("#"+g,q)}),2e3)}return(0,y.jsxs)("div",{className:x,children:[(0,y.jsxs)(es,{id:this.state.id,menu:function(t){return e.menu=t},children:[this.renderSettings(g),(0,y.jsx)("div",{id:g,className:"qx-row-wrap",children:(0,y.jsxs)("div",{className:j,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-before")}),_,(0,y.jsx)(na,{children:(0,y.jsx)(Oc,{nested:!!this.props.elementPath,rowPath:this.props.path,layoutTooltip:O,path:b,formNode:a,formPath:l,copiedNode:s,dnd:u,isModalOpen:f,device:i,resize:h,responsive:m,children:r,rowId:g})}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(this.getId(),"-drop-after")})]})})]}),this.rowContextMenu()]})}}],n&&Wc(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Zc(Uc,"propTypes",{path:Hl().array.isRequired}),Zc(Uc,"defaultProps",{hidePlusIcon:!1}),Bc=Fc))||Bc;const eu=Kc;function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}var nu,ru,ou;function iu(e){return function(e){if(Array.isArray(e))return au(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return au(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?au(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function su(e,t){return su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},su(e,t)}function cu(e,t){if(t&&("object"===tu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uu(e)}function uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pu(e)}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var du={addRowNode:Ee,changeRowLayout:Te,duplicateNode:Ae,setDndPlacement:ns,moveNode:De},hu=(0,v.$j)(null,du)((ou=ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&su(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pu(r);if(o){var n=pu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cu(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),fu(uu(t=i.call(this,e)),"getId",(function(){return t.props.sectionId+"-row"})),fu(uu(t),"getDropTypes",(function(){return["row"]})),fu(uu(t),"getType",(function(){return"row"})),fu(uu(t),"handleDrop",(function(e,n){var r=iu(t.props.path);t.props.moveNode(e,[].concat(iu(r),[0]))})),fu(uu(t),"handleAddRowClick",(function(e,n,r){return e=e.slice(),r||t.props.addRowNode(e,n),[].concat(iu(e),[n,"children"])})),fu(uu(t),"renderEmptySection",(function(){return(0,y.jsx)("div",{className:"qx-fb-area-blank",onDragOver:t.onDragOver,onDragLeave:t.onDragLeave,onDrop:t.onDrop,children:(0,y.jsx)(Mc,{trigger:"click",callback:t.handleAddRowClick,callbackParams:{rowPath:t.props.path,index:0},button:[(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(t.getId(),"-drop-before")},"placeholder-before"),(0,y.jsx)(c.default,{title:"Add Columns",children:(0,y.jsx)(p.default,{id:t.getId()+"-button",type:"primary",shape:"circle",children:(0,y.jsx)("i",{className:"qxuicon-plus"})},"button")},"tooltip"),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder",id:"".concat(t.getId(),"-drop-after")},"placeholder-after")]})})})),fu(uu(t),"renderRow",(function(e,n){var r=t.props,o=r.path,i=r.formNode,a=r.formPath,l=r.copiedNode,s=r.device,c=r.dnd,u=r.isModalOpen,p=r.resize,f=r.responsive,d=[].concat(iu(o),[n]);return(0,y.jsx)(na,{children:(0,y.jsx)(eu,{hidePlusIcon:t.props.hidePlusIcon,elementPath:t.props.elementPath,path:d,node:e,formNode:i,formPath:a,device:s,copiedNode:l,dnd:c,isModalOpen:u,index:n,resize:p,responsive:f,callback:t.handleAddRowClick,rowPath:t.props.path})},e.id)})),ys(uu(t)),t}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;er().then((function(t){var n;null===(n=ur(e.getId()+"-button",t))||void 0===n||n.click()}))}},{key:"render",value:function(){var e=this.props.children,t=0===e.length;return(0,y.jsx)("div",{className:"qx-fb-rows",children:t?this.renderEmptySection():e.map(this.renderRow)})}}],n&&lu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),fu(ru,"propTypes",{path:Hl().array.isRequired,children:Hl().array.isRequired}),nu=ou))||nu;const yu=hu;var mu,bu,vu,gu=n(46013);function xu(e){return xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(e)}function ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(n),!0).forEach((function(t){Nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e){return function(e){if(Array.isArray(e))return _u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t){return Pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pu(e,t)}function qu(e,t){if(t&&("object"===xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cu(e)}function Cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ku(e)}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ru={addSectionNode:Re,copyNode:Me,pasteNode:Le,pasteNodeStyle:Be,pasteNodeStyleSpecial:Ue,duplicateNode:Ae,deleteNode:Fe,setNodeVisibility:ze,showFormModal:ts,setDndPlacement:ns,moveNode:De,invokeTemplateModal:Pe,invokeSectionSaveModal:Oe},Eu=(0,v.$j)(null,Ru)((vu=bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Pu(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ku(r);if(o){var n=ku(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qu(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Nu(Cu(t=i.call(this,e)),"hash",Ln()),Nu(Cu(t),"getId",(function(){return t.props.node.id})),Nu(Cu(t),"getDropTypes",(function(){return["section"]})),Nu(Cu(t),"getType",(function(){return"section"})),Nu(Cu(t),"handleDrop",(function(e,n){var r=Ou(t.props.path);if(n===Ge)t.props.moveNode(e,Ou(r));else{var o=r.pop();t.props.moveNode(e,[].concat(Ou(r),[o+1]))}})),Nu(Cu(t),"shouldComponentUpdate",Ws),Nu(Cu(t),"showBlocks",(function(){var e=+t.props.path.slice().pop()+1;t.props.invokeTemplateModal([e])})),Nu(Cu(t),"addSectionNode",(function(){t.props.addSectionNode(t.props.index)})),Nu(Cu(t),"deleteNode",(function(){t.props.deleteNode(t.props.path,"Section")})),Nu(Cu(t),"duplicateNode",(function(){t.props.duplicateNode(t.props.path,"Section")})),Nu(Cu(t),"copyNode",(function(){t.props.copyNode(t.props.path)})),Nu(Cu(t),"pasteNode",(function(){t.props.pasteNode(t.props.path)})),Nu(Cu(t),"goPro",(function(e){return window.open("https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=context-menu&utm_content=go-pro","_blank"),e})),Nu(Cu(t),"settingsNode",(function(){t.props.showFormModal(t.props.path,t.props.node)})),Nu(Cu(t),"handleAddSectionClick",(function(e){var n=+t.props.path.slice().pop()+1;return t.props.addSectionNode(n),e})),Nu(Cu(t),"handleUpdateTitle",(function(e){return(0,t.props.updateTitle)(e.target.value),e})),Nu(Cu(t),"showModal",(function(){t.props.invokeSectionSaveModal(t.props.path)})),Nu(Cu(t),"renderRows",(function(){var e=t.props,n=e.node,r=n.children,o=n.id,i=e.formNode,a=e.formPath,l=e.device,s=e.copiedNode,c=e.dnd,u=e.isModalOpen,p=e.resize,f=e.responsive,d=[].concat(Ou(t.props.path),["children"]);return(0,y.jsx)(yu,{path:d,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,resize:p,responsive:f,children:r,sectionId:o})})),Nu(Cu(t),"enableVisibility",(function(){var e=t.props,n=e.setNodeVisibility,r=e.path,o=e.node.visibility,i=e.device;n(r,wu(wu({},o),{},Nu({},i,!0)))})),Nu(Cu(t),"renderSettings",(function(e,n){var r=rs(Cu(t))?(0,y.jsx)(p.default,{type:"text",size:"small","qx-tooltip":"Section Settings",onClick:t.settingsNode,children:(0,y.jsx)("i",{className:"qxuicon-cog"})},n+"-settings"):"";return(0,y.jsx)("div",{className:"qx-fb-settings-wrap",children:(0,y.jsxs)(Bl.default,{size:1,className:"qx-fb-settings qx-fb-settings--section",children:[r,(0,y.jsx)(p.default,{type:"text",size:"small",className:"contextMenu-dropdown","qx-tooltip":"Options",onClick:function(e){e.stopPropagation(),t.menu.handleEvent(e)},children:(0,y.jsx)("i",{className:"qxuicon-bars"})}),(0,y.jsx)(p.default,{type:"text",size:"small",className:"cursor-move",draggable:!0,onDragStart:t.startDrag,"data-qx-tooltip":"Move Section",children:(0,y.jsx)("i",{className:"qxuicon-arrows"})})]})})})),window.contextMenu={needPasteOption:!1},ys(Cu(t)),t.state={id:Ln("qx"),needPasteOption:window.contextMenu.needPasteOption,enableEdit:!1,sectionRawStyle:"",sectionRawHtml:{class:""},field:{},style:{},modalId:null},t}return t=a,n=[{key:"componentDidMount",value:function(){this.loadSection(this.props.node,!0)}},{key:"componentDidUpdate",value:function(e,t,n){this.loadSection(this.props.node)}},{key:"componentWillUnmount",value:function(){jQuery(this.state.modalId).remove()}},{key:"loadSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t||this.hash!==e.hash){this.hash=e.hash,vr(e);var n={};if(e.form.general.layout_fields_group.section_stretch){var r=jQuery(window).width(),o=jQuery("html").attr("dir"),i=gu.findDOMNode(this).getBoundingClientRect().left;n={position:"relative",width:r},"rtl"===o?n.marginRight=i:n.marginLeft=-i,this.setState({style:n})}else this.setState({style:{}})}}},{key:"sectionContextMenu",value:function(){return rs(this)?(0,y.jsxs)(wt.v2,{id:this.state.id,theme:wt.dw.light,style:{zIndex:99999},children:[(0,y.jsx)(wt.ck,{disabled:!0,title:"Section",children:"Section"},"title"),(0,y.jsxs)(wt.ck,{onClick:this.settingsNode,children:[(0,y.jsx)("i",{className:"qxuicon-cog"}),"Settings"]}),(0,y.jsxs)(wt.ck,{onClick:this.addSectionNode,children:[(0,y.jsx)("i",{className:"qxuicon-plus"}),"Add"]}),(0,y.jsxs)(wt.ck,{onClick:this.duplicateNode,children:[(0,y.jsx)("i",{className:"qxuicon-clone"}),"Duplicate"]}),(0,y.jsx)(wt.Z0,{}),Wt(this),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:this.showModal,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"}),"Save"]}),Ht(this),(0,y.jsx)(wt.Z0,{}),(0,y.jsxs)(wt.ck,{onClick:this.deleteNode,children:[(0,y.jsx)("i",{className:"qxuicon-trash-alt"}),"Delete"]}),null,null]}):(0,y.jsx)(wt.v2,{id:this.state.id,theme:wt.dw.light,style:{zIndex:99999},children:Ht(this)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.isDragging,o=t.node.form,i=rs(this),a=o.advanced.identifier.id,l=0===(null==n?void 0:n.length),s=document.getElementById("jform_template_type")||!1;s&&(s=s.value);var c=(0,y.jsxs)("div",{className:"qx-fb-new-section-btns qx-fb-new-section-group qx-padding-small qx-flex qx-flex-center",children:[(0,y.jsx)(p.default,{type:"primary",onClick:this.handleAddSectionClick,children:"Add Section"}),(0,y.jsx)(p.default,{id:"quix-builder-add-template-cta",className:"qx-margin-small-left",onClick:function(){return e.showBlocks(e.props.path)},children:"Add Templates"})]});if(!a||"object"===xu(a))return console.warn("Section rendering problem found!",this.props.node),(0,y.jsx)("div",{className:"qx-alert qx-alert-danger",children:(0,y.jsx)("h3",{children:"Section rendering problem found! check console for details."})});var u=Ve()("qx-fb-section",{"qx-fb-empty-section":l,"qx-fb-dragging":r,"qx-fb-disabled":!i}),f=o.styles.background_fields_group.background,d=Ve()("qx-section",{"qx-section--stretch":o.general.layout_fields_group.section_stretch,"qx-section-height-full":"full"===o.general.layout_fields_group.height,"qx-section-height-custom":"custom"===o.general.layout_fields_group.height,"qx-cover-container":"video"===f.state.normal.type,"qx-section-has-divider":"none"!==o.styles.divider_top_fields_group.top_divider_style||"none"!==o.styles.divider_bottom_fields_group.bottom_divider_style},this.state.field.class?this.state.field.class.value:""),h=(Ve()({"qx-fb-disabled":!i}),o.advanced.identifier.class),m="qx-container";"fluid"!==o.general.layout_fields_group.container_type&&"custom"!==o.general.layout_fields_group.container_type||(m="qx-container-fluid"),("full"===o.general.layout_fields_group.height||"custom"===o.general.layout_fields_group.height&&!_t(o.general.layout_fields_group.v_align))&&(m+=" "+o.general.layout_fields_group.v_align);var b=Fl(o.styles.divider_top_fields_group.top_divider_style),v=Fl(o.styles.divider_bottom_fields_group.bottom_divider_style),g="none"!==o.styles.divider_top_fields_group.top_divider_style?(0,y.jsx)("div",{className:"qx-shape qx-shape-top",dangerouslySetInnerHTML:{__html:b}}):"",x="none"!==o.styles.divider_bottom_fields_group.bottom_divider_style?(0,y.jsx)("div",{className:"qx-shape qx-shape-bottom",dangerouslySetInnerHTML:{__html:v}}):"",j=null;_t(o.styles.background_fields_group.background)||(j="video"===f.state.normal.type?(0,y.jsx)("video",{className:"qx-background-video",src:f.state.normal.properties.url.source,autoPlay:"",loop:"",muted:"",playsInline:"","data-qx-cover":"","data-qx-video":"automute: true;autoplay: inview"}):null);var w=null;if(!_t(o.styles.background_overlay_fields_group.background_overlay)){var O="qx-background-overlay ".concat(o.advanced.identifier.id,"-background-overlay");w=(0,y.jsx)("div",{className:O})}var _={};_t(o.styles.background_fields_group.background)||_t(o.styles.background_fields_group.background.state.normal.properties.parallax_method)||"js"===o.styles.background_fields_group.background.state.normal.properties.parallax_method&&(_t(o.styles.background_fields_group.background.state.normal.properties.js_parallax_y)||(_.bgy=o.styles.background_fields_group.background.state.normal.properties.js_parallax_y),_t(o.styles.background_fields_group.background.state.normal.properties.js_parallax_x)||(_.bgx=o.styles.background_fields_group.background.state.normal.properties.js_parallax_x));var S="";return void 0!==(null==_?void 0:_.bgx)&&(S="bgy:".concat(null==_?void 0:_.bgy,";bgx:").concat(null==_?void 0:_.bgx)),(0,y.jsxs)("div",{id:"".concat(a,"-wrapper"),className:u,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,children:[(0,y.jsxs)(es,{id:this.state.id,menu:function(t){return e.menu=t},children:[(0,y.jsxs)("div",{id:a,className:[d,h].join(" "),style:this.state.style,"data-qx-parallax":S,children:[this.renderSettings(a),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-before")}),j,w,g,x,(0,y.jsx)("div",{className:m,children:this.renderRows()}),(0,y.jsx)("div",{className:"qx-hidden qx-fb-drop-placeholder qx-scrollspy-inview qx-animation-slide-top-small qx-animation-fast",id:"".concat(this.getId(),"-drop-after")})]}),"section"!==s?this.props.size-1===this.props.index?c:null:(0,y.jsxs)("div",{className:"qx-alert qx-alert-danger qx-text-center",children:["For ",(0,y.jsx)("strong",{children:"Section"})," Template, More then one section is not allowed. Please Create a Layout template, If you want multiple section."]})]}),this.sectionContextMenu()]})}}],n&&Su(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),Nu(bu,"propTypes",{path:Hl().array.isRequired}),mu=vu))||mu;const Tu=Eu;function Du(e){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(e)}var Au;function Iu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t){return Lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lu(e,t)}function Bu(e,t){if(t&&("object"===Du(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uu(e)}var Fu={addSectionNode:Re,invokeTemplateModal:Pe};const zu=(0,v.$j)(null,Fu)(Au=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Lu(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uu(r);if(o){var n=Uu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bu(this,e)});function a(){return Iu(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-blank-page__section qx-container",style:{border:"1px dashed rgb(185,186,185, 1)",padding:"40px",lineHeight:"1.5"},children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h1",{className:"qx-h3 qx-text-bold",children:["Create a new Section",(0,y.jsx)("em",{className:"qx-text-small qx-display-block qx-text-muted",children:"or Import from Templates"})]}),(0,y.jsx)("p",{className:"qx-lead qx-margin-bottom-large",children:"Start designing by adding Section, Columns (with Container) and Elements"}),(0,y.jsx)("div",{className:"qx-margin qx-padding",style:{borderBottom:"1px dashed rgb(185,186,185, 1)",marginBottom:"40px"},children:(0,y.jsxs)("div",{className:"qx-fb-section__empty qx-fb-new-section-group",children:[(0,y.jsxs)(p.default,{type:"primary",size:"large",onClick:function(){return e.props.addSectionNode()},children:[(0,y.jsx)("i",{className:"qxuicon-plus"}),"Add Section"]}),(0,y.jsxs)(p.default,{size:"large",onClick:function(){return e.props.invokeTemplateModal([0])},children:[(0,y.jsx)("i",{className:"qxuicon-columns"}),"Add Template"]})]})})]}),(0,y.jsx)("div",{className:"qx-container-fluid",style:{fontSize:"14px"},children:(0,y.jsxs)("div",{className:"qx qx-grid qx-text-left qx-child-width-1-2","qx-grid":"",children:[(0,y.jsx)("div",{className:"qx-first-column",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Control Icons"}),(0,y.jsxs)("ul",{className:"qx-list qx-margin-remove-left",style:{columnCount:"2"},children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-clipboard"}),"Copy"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-trash-alt"}),"Delete"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-arrows"}),"Move"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-low-vision"}),"Disable"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-clone"}),"Duplicate"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"}),"Save as Library"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-columns"}),"Grid Reset"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-eye-dropper"}),"Copy Style"]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-bars"}),"Context Menu"]})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"qx-grid qx-child-width-1-2","qx-grid":"",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Quix Guide"}),(0,y.jsxs)("ul",{className:"qx-list qx-margin-remove-left",children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/basics",target:"_blank",children:"Quix Basic"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/features",target:"_blank",children:"Features"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/seo",target:"_blank",children:"SEO"})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-angle-right"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/docs/quix-builder/optimization",target:"_blank",children:"QuixRank"})]})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"qx-h4",children:"Resources"}),(0,y.jsx)("a",{href:"https://www.themexpert.com/video-tutorials",children:(0,y.jsx)("img",{src:it()+"media/quixnxt/images/banners/thumb_video.jpg",style:{backgroundColor:"purple",width:"190px"},alt:"Welcome to Quix"})})]})]})})]})})]})}}])&&Mu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Au;function Hu(e){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(e)}var Qu;function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $u(e,t){return $u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$u(e,t)}function Vu(e,t){if(t&&("object"===Hu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gu(e)}function Gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xu(e)}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yu={addSectionNode:Re,invokeTemplateModal:Pe},Ku=(0,v.$j)((function(e){var t=e.meta.qid,n=e.nodes,r=n.nodes,o=n.device,i=n.responsive,a=n.clipboard.node,l=n.resize,s=e.form,c=s.node,u=s.path,p=e.action.action;return{responsive:i,formPath:u,formNode:c,copiedNode:a,device:o,dnd:e.dnd,qid:t,isModalOpen:!(null==c||!c.id),resize:l,sections:r,action:p}}),Yu)(Qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$u(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xu(r);if(o){var n=Xu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vu(this,e)});function a(){var e;Ju(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zu(Gu(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),Zu(Gu(e),"addBodyClass",(function(){er().then((function(t){0===e.props.sections.length?t.querySelector(".app-mount").classList.add("qx-fb-blank-page"):t.querySelector(".app-mount").classList.remove("qx-fb-blank-page")}))})),Zu(Gu(e),"renderSection",(function(t,n){var r=e.props,o=r.sections,i=r.formNode,a=r.formPath,l=r.device,s=r.copiedNode,c=r.dnd,u=r.isModalOpen,p=r.resize,f=r.responsive,d=r.qid;return(0,y.jsx)(na,{children:(0,y.jsx)(Tu,{size:o.length,path:[n],index:n,node:t,formNode:i,formPath:a,device:l,copiedNode:s,dnd:c,isModalOpen:u,resize:p,responsive:f,qid:d})},t.id)})),Zu(Gu(e),"renderSections",(function(t){return t.map(e.renderSection)})),e}return t=a,n=[{key:"componentDidMount",value:function(){this.addBodyClass()}},{key:"componentDidUpdate",value:function(e,t,n){e.sections.length!==this.props.sections.length&&this.addBodyClass()}},{key:"render",value:function(){var e=this.props.sections;return 0===e.length?(0,y.jsx)(zu,{}):(0,y.jsx)("div",{children:this.renderSections(e)})}}],n&&Wu(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Qu;const ep=Ku;n(33322);var tp=n(11597);function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t){return ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ip(e,t)}function ap(e,t){if(t&&("object"===np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(e)}const sp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ip(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lp(r);if(o){var n=lp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ap(this,e)});function a(){return rp(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-section-fluid qx-p-5 qx-card qx-card-body",children:[(0,y.jsx)(l.default,{prefixCls:"qxui-progress",strokeColor:{from:"#108ee9",to:"#87d068"},percent:99.99,status:"active",showInfo:!1}),(0,y.jsx)("h1",{className:"qx-text-center qx-mt-5",children:"Building your Layouts"}),(0,y.jsx)("p",{className:"qx-text-center qx-m-1 qx-text-muted",children:"Please wait for a moment, awesome things are happening here..."}),(0,y.jsx)("hr",{}),(0,y.jsx)("div",{style:{marginLeft:"-30px"},children:(0,y.jsx)(tp.Z,{title:!1,active:!0,paragraph:{rows:4}})})]})}}])&&op(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function cp(e){return cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(e)}function up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t){return pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pp(e,t)}function fp(e,t){if(t&&("object"===cp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dp(e)}function dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hp(e)}var yp=Ea.default.Option;const mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&pp(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hp(r);if(o){var n=hp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fp(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o={accessListArray:[]},(r="state")in(n=dp(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){for(var e=document.getElementById("jform_access").options,t=[],n=e.length,r=0;r<n;r++)""!=e[r].value&&t.push({text:e[r].text,value:e[r].value});this.setState({accessListArray:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:n}),(0,y.jsx)(Ea.default,{label:n,defaultValue:"1",value:r,style:{width:"100%"},onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:this.state.accessListArray.map((function(e){return(0,y.jsx)(yp,{children:e.text},e.value)}))})]})}}])&&up(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);n(817);var bp=n(1009);function vp(e){return vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(e)}function gp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(e,t){return jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jp(e,t)}function wp(e,t){if(t&&("object"===vp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Op(e)}function Op(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_p(e)}function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pp=So.default.Group,qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&jp(e,t)}(l,e);var t,n,r,o,i=(r=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_p(r);if(o){var n=_p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wp(this,e)});function l(){var e;gp(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sp(Op(e=i.call.apply(i,[this].concat(n))),"state",{visible:!1}),Sp(Op(e),"onChange",(function(t,n){void 0!==e.props.url&&"url"===t&&e.props.onChange({text:e.props.text,url:n,target:e.props.target,nofollow:e.props.nofollow})})),Sp(Op(e),"onNoFollowChange",(function(t){var n=!1;t.target.checked&&(n=!0),e.props.onChange({target:e.props.target,url:e.props.url,nofollow:n})})),Sp(Op(e),"onTargetChange",(function(t){var n="";t.target.checked&&(n=t.target.value),e.props.onChange({target:n,url:e.props.url,nofollow:e.props.nofollow})})),Sp(Op(e),"renderUrl",(function(t){return(0,y.jsx)(So.default,{label:"URL",placeholder:"https://www.yoursite.com",value:t,"data-for":"link-url",prefixCls:"qxui-input",onChange:function(t){e.onChange("url",t.target.value,Op(e))}})})),Sp(Op(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("span",{children:t})})),Sp(Op(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(wi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),Sp(Op(e),"getOptions",(function(){var t=e.props,n=t.target,r=t.nofollow;return(0,y.jsxs)(a.default,{prefixCls:"qxui-menu",children:[(0,y.jsx)(a.default.Item,{children:(0,y.jsx)(bp.default,{checked:"new_window"===n,onChange:function(t){return e.onTargetChange(t)},value:"new_window",children:"Open in new window"})},"target"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)(bp.default,{checked:r,onChange:function(t){return e.onNoFollowChange(t)},value:"nofollow",children:"Add nofollow"})},"nofollow")]})})),Sp(Op(e),"handleVisibleChange",(function(t){e.setState({visible:t})})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props.url;return(0,y.jsxs)("div",{className:"qx-fb-field-link",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup()]}),(0,y.jsxs)(Pp,{children:[void 0===e?null:this.renderUrl(e),(0,y.jsx)(u.default,{overlay:this.getOptions(),placement:"bottomRight",prefixCls:"qxui-dropdown",onVisibleChange:this.handleVisibleChange,visible:this.state.visible,getPopupContainer:function(){return window.document.body},children:(0,y.jsx)(p.default,{style:{width:"10%",padding:"0"},children:(0,y.jsx)("i",{className:"qxuicon-cog"})})})]})]})}}])&&xp(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(b.Component);qp.propTypes={label:Hl().string,url:Hl().string,target:Hl().string};const Cp=qp;n(70883);var kp=n(6347),Np=n(49323),Rp=n.n(Np),Ep=n(71811),Tp=n.n(Ep),Dp=(n(67801),n(58404)),Ap=(n(17585),n(60761)),Ip=n(22898),Mp=n.n(Ip),Lp=n(45854),Bp=n.n(Lp),Up=n(32112),Fp=n.n(Up);const zp=function(e){e.getTabName=function(){return"mobile"===dt("qx-device")?"phone":dt("qx-device")}};function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){Zp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $p(e,t){return $p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$p(e,t)}function Vp(e,t){if(t&&("object"===Hp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gp(e)}function Gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xp(e){return Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xp(e)}function Zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&$p(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xp(n);if(r){var o=Xp(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Vp(this,e)});function i(){var e;Wp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zp(Gp(e=o.call.apply(o,[this].concat(n))),"onResponsive",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setState(Jp({responsive:!e.state.responsive,tab:e.state.tab},t))})),Zp(Gp(e),"getPlaceholder",(function(t){var n,r=e.props.value;return null!==(n=r)&&void 0!==n&&n.desktop&&(r=r.desktop),r[t]||St(t)})),Zp(Gp(e),"getResponsiveTogglePreview",(function(){if(!e.props.responsive)return null;var t=(0,y.jsxs)(a.default,{onClick:function(t){var n=t.key;e.props.setDevice(Pt(n))},className:"qx-text-center",children:[(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-desktop"})},"Desktop"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-tablet"})},"Tablet"),(0,y.jsx)(a.default.Item,{children:(0,y.jsx)("span",{className:"qxuicon-mobile"})},"Phone")]}),n="phone"===e.props.device?"mobile":e.props.device;return(0,y.jsx)(u.default,{overlay:t,trigger:"click",children:(0,y.jsx)(p.default,{size:"small",type:"text",className:"device-"+n,children:(0,y.jsx)("span",{className:"qxuicon-"+n})})})})),Zp(Gp(e),"getUnitMarkup",(function(){var t=e.props,n=t.units,r=t.value,o=t.suffix;if(void 0===n)return null;if(!1===n||null===n)return o?(0,y.jsx)("div",{className:"qxui-units-switcher",children:(0,y.jsx)("span",{className:"qxui-units__value",children:o})}):null;n=n||["%","px"];var i=(0,y.jsx)(a.default,{onClick:function(t){var n=t.key;e.onUnitChange(n)},children:n.map((function(e){return(0,y.jsxs)(a.default.Item,{children:[" ",e," "]},e)}))});return(0,y.jsxs)("div",{className:"qxui-units-switcher",children:[(0,y.jsx)("span",{className:"qxui-units__value",children:null==r?void 0:r.unit}),n.length>1?(0,y.jsx)(u.default,{overlay:i,trigger:["click"],children:(0,y.jsx)(p.default,{size:"small",type:"link",children:(0,y.jsx)("span",{className:"qxuicon-ellipsis-h-alt"})})}):null]})})),Zp(Gp(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("div",{className:"qx-fb-field-label-group",children:(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-between",children:[(0,y.jsxs)("div",{className:"qx-flex qx-flex-middle",children:[(0,y.jsx)("span",{children:t}),e.getHelpMarkup(),e.getResponsiveTogglePreview(),e.getResetMarkup()]}),(0,y.jsx)("div",{children:e.getUnitMarkup()})]})})})),Zp(Gp(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(wi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",style:{paddingRight:"2px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),Zp(Gp(e),"getResetMarkup",(function(){var t,n=e.props,r=n.device,o=n.default;return o&&!_i()((null==o?void 0:o[r])||o,(null===(t=e.props.value)||void 0===t?void 0:t[r])||e.props.value)?(0,y.jsx)(c.default,{title:"Reset Settings",onClick:e.onReset,children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo"})})}):null})),Zp(Gp(e),"onReset",(function(){throw new Error("Must implement onReset")})),e}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(b.Component);var Kp,ef,tf;function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach((function(t){pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function of(e){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(e)}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lf(e,t){return lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lf(e,t)}function sf(e,t){if(t&&("object"===of(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cf(e)}function cf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uf(e){return uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uf(e)}function pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff={setDevice:He};const df=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),ff)((tf=ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&lf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uf(r);if(o){var n=uf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),pf(cf(t=i.call(this,e)),"handleChange",(function(e){var n=t.props,r=n.value,o=n.units,i=n.onChange,a=n.responsive;"object"===of(r)||a?a?(r=rf(rf({},r),{},pf({},t.props.device,e[0])),t.props.onChange(r)):!o||_t(Fp()(o))?i(rf({},e[0])):i({value:e[0],unit:o[0]}):i(e[0])})),pf(cf(t),"onReset",(function(e){if(!1!==t.props.responsive){var n,r={};r[e]=t.props.default[e],n=Bp()(t.props.value,r),t.props.onChange(n),t.setState({reset:!0,desktop:t.props.default})}else t.props.onReset()})),pf(cf(t),"onUnitChange",(function(e){t.props.onChange(rf(rf({},t.props.value),{},{unit:e}))})),pf(cf(t),"getValue",(function(e){return!1===t.props.responsive?Mp()(t.props.value)?void 0===t.props.value.desktop?t.props.value.value:t.props.value.desktop:t.props.value:t.props.value[e]})),pf(cf(t),"renderDeviceContent",(function(){var e,n,r=t.props,o=r.min,i=r.max,a=r.step,l=r.device,s=r.suffix,c=(null===(e=t.props.value)||void 0===e?void 0:e.unit)||s||t.props.default;({close:t.state.responsive})[l]=!t.state.responsive;var u=t.getValue(l)<o?o:t.getValue(l);return"desktop"!==l&&(u=t.getValue(l)),i="%"===c?100:i,n="%"===c&&u>100?u=100:u,(0,y.jsx)("div",{className:"qx-flex",children:(0,y.jsxs)(So.default.Group,{children:[(0,y.jsx)(Ap.Z,{min:o,max:i,range:!0,defaultValue:n?[parseFloat(n)]:[0],value:n?[parseFloat(n)]:[0],step:a,onChange:t.handleChange,style:{width:"100%",marginRight:"10px"}}),(0,y.jsx)(Dp.Z,{min:o,max:i,step:a,value:Mp()(u)?u.value:u||0,onChange:function(e){if(e<=i&&e>=o){var n=[];n.push(e),t.handleChange(n)}}})]})})})),zp(cf(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-slider ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&af(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Yp),pf(ef,"propTypes",{step:Hl().number,min:Hl().number,max:Hl().number,suffix:Hl().string}),pf(ef,"defaultProps",{min:0,max:100,step:1,reset:!0}),Kp=tf))||Kp;var hf=n(55329);function yf(e){return yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(e)}function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bf(e,t)}function vf(e,t){if(t&&("object"===yf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gf(e)}function gf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(e)}function jf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wf=["#007bff","#6f42c1","#e83e8c","#dc3545","#ffc107","#28a745"],Of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&bf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xf(r);if(o){var n=xf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),jf(gf(t=i.call(this,e)),"shouldComponentUpdate",Zr()),jf(gf(t),"handleClose",(function(){t.setState({displayColorPicker:!1})})),jf(gf(t),"openColorPicker",(function(){t.setState({displayColorPicker:!t.state.displayColorPicker})})),jf(gf(t),"handleChangeComplete",(function(e){t.setState({color:e}),e="rgb"===e.source?"rgb("+Object.values(e.rgb).join(", ")+")":e.hex,window.quix_preset_color=e,t.props.onChange(e)})),jf(gf(t),"resetColor",(function(){t.props.onChange("")})),jf(gf(t),"removeColor",(function(){t.props.onChange("")})),jf(gf(t),"getLabelMarkup",(function(){var e=t.props.label;return t.props.onlyBaseText?null:(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",t.getHelpMarkup()," "]})})),jf(gf(t),"getHelpMarkup",(function(){var e=t.props.help;return t.props.onlyBaseText?null:e?(0,y.jsx)(wi.Z,{content:e,placement:"right",popupStyle:{width:"300px"},getPopupContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})}):void 0})),t.state={defaultPresetColors:wf,displayColorPicker:!1,color:t.props.value},t}return t=a,(n=[{key:"componentDidMount",value:function(){if(dt("quix-preset-colors")){var e=JSON.parse(dt("quix-preset-colors"));this.setState({defaultPresetColors:e})}}},{key:"usePresetColor",value:function(e){this.props.onChange(e),window.quix_preset_color=e}},{key:"render",value:function(){var e=(0,y.jsx)(hf.iY,{colors:this.state.defaultPresetColors,onChange:this.handleChangeComplete}),t=(0,y.jsx)(hf.AI,{color:this.state.color,onChange:this.handleChangeComplete}),n=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:"Color Picker"}),(0,y.jsx)("div",{children:(0,y.jsx)(c.default,{title:"Reset Color",placement:"bottom",children:(0,y.jsx)(p.default,{className:"qx-box-shadow-small",size:"small",onClick:this.resetColor,children:(0,y.jsx)("span",{className:"qxuicon-undo",style:{fontSize:"10px"}})})})})]});return(0,y.jsxs)("div",{className:"qx-fb-field-color qx-grid qx-flex-middle",children:[(0,y.jsx)("div",{children:this.getLabelMarkup()}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsxs)(So.default.Group,{children:[(0,y.jsx)(wi.Z,{content:e,title:"Preset Colors",trigger:"click",children:(0,y.jsx)(p.default,{children:(0,y.jsx)("span",{className:"qxuicon-globe"})})}),(0,y.jsx)(wi.Z,{content:t,title:n,trigger:"click",children:(0,y.jsx)(p.default,{onClick:this.openColorPicker,style:{backgroundColor:this.props.value},children:(0,y.jsx)("span",{className:"qxuicon-eye-dropper qx-blend-difference qx-light"})})})]})})]})}}])&&mf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Of.propTypes={},Of.defaultProps={};const _f=Of;function Sf(e){return Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(e)}var Pf;function qf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kf(e,t)}function Nf(e,t){if(t&&("object"===Sf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rf(e)}function Rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ef(e)}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Df=st(),Af=function(e,t){return{type:de,payload:{config:e,callback:t,show:!!e}}},If={openMediaPicker:Af};const Mf=(0,v.$j)((function(e){var t=e.action,n=t.jmedia,r=void 0===n?{}:n;return{visible:t.openJMedia,config:null==r?void 0:r.config,callback:null==r?void 0:r.callback}}),If)(Pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&kf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ef(r);if(o){var n=Ef(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Nf(this,e)});function a(){var e;qf(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tf(Rf(e=i.call.apply(i,[this].concat(n))),"onClose",(function(){e.props.openMediaPicker(!1)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;window.getJMediaValue=function(t){window.fCallback&&(fCallback(t),e.onClose())}}},{key:"render",value:function(){var e=this,t=this.props.config,n="";_t(t)||(n=t.filters);var r="".concat(quix.url,"/index.php?option=com_jmedia&view=images&source=quix&tmpl=component&filters=").concat(n.replaceAll(",","-"),"&callback=onSelectJMedia&").concat(Df,"=1"),o=(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-width-1-1",children:[(0,y.jsx)("span",{children:"JMedia - File Manager for Joomla!"}),(0,y.jsx)(c.default,{title:"Toggle window size",children:(0,y.jsx)(p.default,{type:"link",size:"small",onClick:function(){return document.getElementById("jmedia-builder-iframe").contentDocument.location.reload(!0)},children:(0,y.jsx)("i",{className:"qxuicon-redo qx-light"})},"resize")},"resize")]});return(0,y.jsx)(lo,{className:"jmedia-filemanager fm-modal",title:o,show:!0,wrapClassName:"",onCancel:this.onClose,closable:!1,width:1080,close:function(){return e.props.openMediaPicker(!1)},style:{left:"calc(50vw - 540px)",display:this.props.visible?"block":"none"},expandable:!1,overrideHeader:!0,bodyStyle:{margin:"0px",padding:"0px"},destroyOnClose:!1,children:(0,y.jsx)("iframe",{id:"jmedia-builder-iframe","data-src":r,src:"",width:"1080px",height:"500px"})})}}])&&Cf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Pf;function Lf(e){return Lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(e)}var Bf;function Uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(n),!0).forEach((function(t){$f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hf(e,t){return Hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hf(e,t)}function Qf(e,t){if(t&&("object"===Lf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jf(e)}function Jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wf(e)}function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vf="rgba(0, 0, 0, 1)",Gf=["svg","image","video"],Xf={openMediaPicker:Af},Zf=(0,v.$j)(null,Xf)(Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Hf(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wf(r);if(o){var n=Wf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qf(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),$f(Jf(t=i.call(this,e)),"fileSelectCallback",(function(e){var n,r,o,i;if(-1!==Tp()(Gf,e.type))return e={type:e.type,base_domain:it(),source:e[e.type],dimension:null!==(n=null===(r=t.props.value)||void 0===r?void 0:r.dimension)&&void 0!==n?n:{width:"",height:""},properties:null!==(o=null===(i=t.props.value)||void 0===i?void 0:i.properties)&&void 0!==o?o:{color:Vf,size:30}},t.props.onChange(Ff({},e)),!0;m.error("Only you can select [ "+Gf.join(", ")+" ]. Current format is "+e.type)})),$f(Jf(t),"handleChange",(function(e){var n,r=e.target.value,o=void 0===r?"":r;switch(o.split(".").pop().toLowerCase()){case"svg":n="svg";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":case"bmp":case"ico":n="image";break;case"mp4":case"mov":case"flv":case"mkv":case"movie":case"mpeg":case"mpg":n="video";break;default:n=t.getTypeFromFilters()}t.props.onChange(Ff(Ff({},t.props.value),{},{source:o,type:n}))})),$f(Jf(t),"handleChangeWidth",(function(e){var n=e.target.value,r=void 0===n?"":n;t.props.onChange(Ff(Ff({},t.props.value),{},{dimension:Ff(Ff({},t.props.value.dimension),{},{width:r})}))})),$f(Jf(t),"handleChangeHeight",(function(e){var n=e.target.value,r=void 0===n?"":n;t.props.onChange(Ff(Ff({},t.props.value),{},{dimension:Ff(Ff({},t.props.value.dimension),{},{height:r})}))})),$f(Jf(t),"getTypeFromFilters",(function(){return t.props.filters.includes("image")?"image":t.props.filters.includes("video")?"video":t.props.filters.includes("icon")?"svg":"unknown"})),$f(Jf(t),"handleReset",(function(){t.props.onChange({type:t.getTypeFromFilters(),source:"",dimension:{width:"",height:""}})})),$f(Jf(t),"loadSvg",(function(e){return bt()(e,"<svg")||bt()(e,"<?xml")?e:"svg"===e.split(".").pop()?'<img src="'+tt()+"/"+e+'" class="qx-preserve" qx-svg="" />':'<i class="'+e+'"/>'})),$f(Jf(t),"handleSvgChange",(function(e){var n=e.size,r=e.color,o=t.props.value,i=o.properties;n&&(i=Rp()(i,{size:n})),r&&(r="null"===r?"":r,i=Rp()(i,{color:r})),t.props.onChange(Ff({},Rp()(o,{properties:i})))})),$f(Jf(t),"getPickerPlaceholder",(function(){var e=t.props.value,n=t.props.filters,r=qt(e.source);if(_t(r)){var o=t.props.filters.split(",").join(" qx-picker-");return(0,y.jsx)(kp.default,{className:o,image:qt("media/quixnxt/images/empty.svg"),imageStyle:{height:60},description:(0,y.jsx)("span",{children:"Click here to add your media"}),onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})},style:{cursor:"pointer"}})}var i=(0,y.jsx)("img",{className:"qx-cover",alt:"qx-image",src:r,onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})}});if(e&&"svg"===e.type&&(i=(0,y.jsx)("div",{className:"media-component-svg-icon qx-cover",style:{fontSize:"100px"},onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:n})},dangerouslySetInnerHTML:{__html:t.loadSvg(e.source)}})),e&&"video"===e.type){var a="video/"+r.split(".").pop();i=(0,y.jsx)("video",{playsInline:!0,controls:!0,children:(0,y.jsx)("source",{type:a,src:r})})}var l="qx-position-relative qx-transition-toggle qx-height-small qx-cover-container qx-dot-background "+t.props.filters.split(",").join(" qx-picker-");return(0,y.jsxs)("div",{className:l,children:[i,(0,y.jsx)("div",{className:"qx-position-cover qx-overlay qx-overlay-default qx-transition-fade"}),(0,y.jsxs)("div",{className:"qx-flex qx-flex-center qx-flex-middle h-100 qx-transition-scale-up qx-position-cover",children:[(0,y.jsx)(c.default,{title:"Add Image",children:(0,y.jsx)(p.default,{type:"text",onClick:function(){t.getFileManagerModal(t.fileSelectCallback,{filters:t.props.filters})},children:(0,y.jsx)("span",{className:"qxuicon-plus"})})}),(0,y.jsx)(c.default,{title:"Remove Image",children:(0,y.jsx)(p.default,{danger:!0,type:"text",onClick:t.handleReset,children:(0,y.jsx)("span",{className:"qxuicon-trash-alt"})})})]})]})})),$f(Jf(t),"onReset",(function(e){var n=e.color,r=t.props.value,o=r.properties;o=n?Rp()(o,{color:Vf}):Rp()(o,{size:30}),t.props.onChange(Ff({},Rp()(r,{properties:o})))})),$f(Jf(t),"renderSvgSettings",(function(){var e=t.props.value,n=e.properties,r=["px"];e.source||(n={color:Vf,size:30},r=["px","%"]);var o=n,i=o.color,a=o.size;return(0,y.jsxs)("div",{className:"qx-fb-field-image__svg-settings",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{units:r,defaultUnit:"px",label:"Size",min:0,max:500,value:a,default:0,onChange:function(e){return t.handleSvgChange({size:e})},responsive:!1,onReset:function(){return t.onReset({})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{label:"Color",onlyColorPicker:!0,labelFor:"background__color",value:i,onChange:function(e){e?t.handleSvgChange({color:e}):t.handleSvgChange({color:"null"})},onReset:function(){return t.onReset({color:!0})}})})]})})),$f(Jf(t),"getLabelMarkup",(function(){var e=t.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",t.getHelpMarkup()," "]})})),$f(Jf(t),"getHelpMarkup",(function(){var e=t.props.help;if(e)return(0,y.jsx)(wi.Z,{content:e,placement:"right",popupStyle:{width:"350px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})})),$f(Jf(t),"getFileManagerModal",(function(e,n){window.fCallback=e,t.props.openMediaPicker(n,e),setTimeout((function(){var e,t,n,r=ur("jmedia-builder-iframe"),o=null===(e=ur("jmedia-builder-iframe").attributes)||void 0===e||null===(t=e.src)||void 0===t?void 0:t.value,i=null===(n=ur("jmedia-builder-iframe").dataset)||void 0===n?void 0:n.src;o!==i&&(r.attributes.src.value=i)}),100)})),t.state={url:null,visible:!0,id:Ln("qx-jmedia-")},t}return t=a,n=[{key:"render",value:function(){var e,t,n=this.props,r=n.value,o=n.showStyle,i=null;return r&&"svg"===r.type&&!1!==o&&(i=this.renderSvgSettings()),(0,y.jsxs)("div",{className:"qx-fb-field-image",children:[this.getLabelMarkup(),(0,y.jsxs)("div",{className:"qx-padding-small qx-box-shadow-small qx-margin-small-bottom",style:{border:"1px solid #eee"},children:[this.getPickerPlaceholder(),"svg"!==r.type?(0,y.jsx)(So.default,{value:r.source,onChange:this.handleChange,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"URL:"}):(0,y.jsx)(So.default,{value:r.source,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"SVG"}),i]}),"image"===r.type?(0,y.jsxs)("div",{className:"qx-flex",style:{columnGap:"5px"},children:[(0,y.jsx)(So.default,{style:{border:"1px solid #ddd"},value:null==r||null===(e=r.dimension)||void 0===e?void 0:e.width,onChange:this.handleChangeWidth,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"WIDTH:"}),(0,y.jsx)(So.default,{value:null==r||null===(t=r.dimension)||void 0===t?void 0:t.height,onChange:this.handleChangeHeight,className:"qx-form-blank qx-margin-small-top",size:"small",prefix:"HEIGHT:",style:{border:"1px solid #ddd"}})]}):null]})}}],n&&zf(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Bf;Zf.propTypes={},Zf.defaultProps={};const Yf=Zf;function Kf(e){return Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(e)}var ed;function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nd(e,t){return nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nd(e,t)}function rd(e,t){if(t&&("object"===Kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return od(e)}function od(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},id(e)}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ld=(0,v.$j)((function(e){var t=e.form.node;return{id:null==t?void 0:t.id}}))(ed=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&nd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=id(r);if(o){var n=id(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rd(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ad(od(t=i.call(this,e)),"setEditorState",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.props.value;e={editorId:t.eId,editorState:r,activeEditor:"draft-js"},n?(t.setState(e),t.editor.setContent(e.editorState)):t.state=e})),ad(od(t),"onChange",(function(e){var n=null!=e&&e.target?null==e?void 0:e.target.value:e.getContent();t.setState({content:n}),t.props.onChange(n)})),t.eId=Ln("editor"),t.setEditorState(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.state.editorId,n=WFEditor.settings.plugins.replace("preview,","");n=n.replace("source,",""),jQuery.extend(WFEditor.settings,{height:"200",plugins:n,setup:function(t){t.onNodeChange.add(e.onChange),t.onChange.add(e.onChange),t.onKeyUp.add(e.onChange),t.onPaste.add(e.onChange),t.onSetContent.add(e.onChange),e.editor=t}}),WFEditor.create(t)}},{key:"componentDidUpdate",value:function(e,t,n){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.help,r=this.state.editorState;return(0,y.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:t}),(0,y.jsx)("div",{children:(0,y.jsx)("textarea",{value:r,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),(0,y.jsx)("p",{className:Ve()("qx-fb-field__help",{hide:!n}),children:n})]})}}])&&td(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ed;function sd(e){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(e)}var cd;function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pd(e,t){return pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pd(e,t)}function fd(e,t){if(t&&("object"===sd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dd(e)}function dd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(e)}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const md=(0,v.$j)((function(e){var t=e.form.node;return{id:null==t?void 0:t.id}}))(cd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&pd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=hd(r);if(o){var n=hd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return fd(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),yd(dd(t=i.call(this,e)),"setEditorState",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.props.value;e={editorId:t.eId,editorState:r,activeEditor:"draft-js"},n?(t.setState(e),t.editor.setContent(e.editorState)):t.state=e})),yd(dd(t),"onChange",(function(e){var n=e.getContent();t.setState({content:n}),t.props.onChange(n)})),t.eId=Ln("editor"),t.setEditorState(),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.state.editorId;tinymce.init({selector:"textarea#".concat(t),force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"",toolbar_items_size:"small",invalid_elements:"script,applet",menubar:!1,setup:function(t){t.on("change keyup cut paste redo undo",(function(n){e.onChange(t)})),e.editor=t},plugins:["advlist autolink lists link charmap preview image table","searchreplace code fullscreen","media contextmenu paste"],relative_urls:!0,document_base_url:tt(),image_class_list:[{title:"None",value:""},{title:"Left",value:"pull-left"},{title:"Right",value:"pull-right"}],toolbar:"undo redo | bold italic alignleft aligncenter alignright alignjustify | bullist numlist | blockquote fontsizeselect | link image code table"})}},{key:"componentDidUpdate",value:function(e,t,n){e.id!==this.props.id&&this.props.id&&this.setEditorState(!0)}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.help,r=this.state.editorState;return(0,y.jsxs)("div",{className:"qx-fb-field-editor",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:t}),(0,y.jsx)("div",{children:(0,y.jsx)("textarea",{value:r,id:this.state.editorId,onChange:this.onChange,disabled:"disabled",className:"qx-textarea qx-input mce_editable wf-editor qx-background-muted qx-form-blank"})}),(0,y.jsx)("p",{className:Ve()("qx-fb-field__help",{hide:!n}),children:n})]})}}])&&ud(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||cd;function bd(e){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(e)}function vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(n),!0).forEach((function(t){xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(e,t){return Od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Od(e,t)}function _d(e,t){if(t&&("object"===bd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}const Pd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Od(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sd(r);if(o){var n=Sd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _d(this,e)});function a(){return jd(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return"undefined"!=typeof WFEditor?(0,y.jsx)(ld,gd({},this.props)):(0,y.jsx)(md,gd({},this.props))}}])&&wd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function qd(e){return qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(e)}function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t){return Rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rd(e,t)}function Ed(e,t){if(t&&("object"===qd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Td(e)}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dd(e)}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Id=Ea.default.Option,Md=[{label:"Outside",value:"outline"},{label:"Inset",value:"inset"}];const Ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Rd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dd(r);if(o){var n=Dd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ed(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ad(Td(t=i.call(this,e)),"onChange",(function(e){t.props.onChange(kd(kd({},t.props.value),e))})),Ad(Td(t),"onReset",(function(){t.props.onChange(kd(kd({},t.props.value),t.props.default))})),Ad(Td(t),"getFields",(function(){var e=t.props.value,n=e.color,r=e.blur,o=e.spread,i=e.position,a=e.horizontal,l=e.vertical,s=t.props.default;return(0,y.jsx)("div",{className:"shadowfieldsContentWrapper",children:(0,y.jsxs)("div",{className:"shadowfields clearfix",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{onlyColorPicker:!0,addonAfter:"Select",label:"Color",value:n,onChange:function(e){return t.onChange({color:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{responsive:!1,reset:!1,label:"Horizontal",min:-100,units:["px"],value:a,onChange:function(e){return t.onChange({horizontal:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{responsive:!1,reset:!1,label:"Vertical",min:-100,units:["px"],value:l,onChange:function(e){return t.onChange({vertical:e})}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{responsive:!1,reset:!1,label:"Blur",value:r,units:["px"],onChange:function(e){return t.onChange({blur:e})}})}),void 0!==o?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{responsive:!1,reset:!1,label:"Spread",value:o,units:["px"],onChange:function(e){return t.onChange({spread:e})}})}):null,void 0!==i?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsxs)(Ea.default,{value:i,default:s.position,responsive:"false",label:"Position",options:Md,prefixCls:"qxui-select",onChange:function(e){return t.onChange({position:e})},onReset:function(e){return t.onChange({position:s.position})},dropdownClassName:"qxui-zi-l",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Id,{value:"outline",children:"Outside"},0),(0,y.jsx)(Id,{value:"inset",children:"Inset"},1)]})}):null]})})})),t}return t=a,(n=[{key:"render",value:function(){var e=!_i()(this.props.default,this.props.value);return(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsxs)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:[" ",(0,y.jsx)("i",{className:"qxuicon-undo"})," "]}):null,(0,y.jsx)(wi.Z,{content:this.getFields(),trigger:"click",placement:"left",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{className:e?"qx-text-primary":"",children:(0,y.jsx)("i",{className:"qxuicon-window-restore"})})})]})]})}}])&&Nd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var Bd,Ud=n(53038),Fd=n.n(Ud);function zd(e){return zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(e)}function Hd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hd(Object(n),!0).forEach((function(t){Xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t){return Wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wd(e,t)}function $d(e,t){if(t&&("object"===zd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vd(e)}function Vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gd(e)}function Xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd=So.default.Group,Yd={setDevice:He},Kd=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),Yd)(Bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Wd(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gd(r);if(o){var n=Gd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Xd(Vd(t=i.call(this,e)),"sync",(function(){var e=t.props.device,n={};n[e]=!t.state.sync[e],t.setState({sync:Bp()(t.state.sync,n)})})),Xd(Vd(t),"renderSyncJsx",(function(){var e=t.props.device,n=t.state.sync[e];return(0,y.jsx)(c.default,{title:"Link values together",overlayClassName:"qxui-zi-l",placement:"bottom",children:(0,y.jsx)(p.default,{type:n?"primary":"",onClick:t.sync.bind(Vd(t),e),style:{width:"8%",padding:0},children:(0,y.jsx)("i",{className:n?"qxuicon-link":"qxuicon-unlink"})})})})),Xd(Vd(t),"toggleSyncMode",(function(e){var t=e.top,n=e.bottom,r=e.right,o=e.left;if(t===n&&n===r&&r===o)return!!Fd()(t)})),Xd(Vd(t),"handleChange",(function(e,n){var r=t.props.device,o={};if(e||0===e||(e=""),t.state.sync[r])o=t.props.value.desktop?Xd({},r,{top:e,bottom:e,right:e,left:e}):{top:e,bottom:e,right:e,left:e};else{var i={};i[n]=e,o=t.props.value.desktop?Xd({},r,Qd(Qd({},t.props.value[r]),i)):Qd(Qd({},t.props.value),i)}o=Bp()({responsive_preview:!0},o),e=Bp()(t.props.value,o),console.log("dimensions update",e),t.props.onChange(e)})),Xd(Vd(t),"onUnitChange",(function(e){t.props.onChange(Bp()(t.props.value,{unit:e}))})),Xd(Vd(t),"onReset",(function(){var e=t.props.device;t.props.value.desktop?t.props.onChange(Qd(Qd({},t.props.value),Xd({},e,{top:"",bottom:"",right:"",left:""}))):t.props.onChange(Qd(Qd({},t.props.value),{top:"",bottom:"",right:"",left:""})),t.setState({reset:!0})})),Xd(Vd(t),"renderDimensionsFields",(function(e){var n=e.top,r=e.right,o=e.bottom,i=e.left,a=t.getPlaceholder("top"),l=t.getPlaceholder("bottom"),s=t.getPlaceholder("right"),c=t.getPlaceholder("left");return(0,y.jsx)("div",{children:(0,y.jsxs)(Zd,{compact:!0,children:[void 0!==n?(0,y.jsx)(Dp.Z,{placeholder:a,value:n,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"top")}}):null,void 0!==r?(0,y.jsx)(Dp.Z,{placeholder:s,value:r,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"right")}}):null,void 0!==o?(0,y.jsx)(Dp.Z,{placeholder:l,value:o,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"bottom")}}):null,void 0!==i?(0,y.jsx)(Dp.Z,{placeholder:c,value:i,style:{width:"23%"},onChange:function(e){return t.handleChange(e,"left")}}):null,t.renderSyncJsx()]})})})),zp(Vd(t)),t.state={responsive:"desktop"!==t.getTabName(),valueFor:t.getTabName(),tab:t.getTabName(),sync:{desktop:!1,tablet:!1,phone:!1}},t}return t=a,n=[{key:"componentDidMount",value:function(){var e=Bp()(this.props.default,this.props.value);_i()(this.props.default,this.props.value)||this.props.onChange(e);var t={desktop:!1,tablet:!1,phone:!1};t.desktop=this.toggleSyncMode(e.desktop||e),this.props.responsive&&(t.tablet=this.toggleSyncMode(e.tablet),t.phone=this.toggleSyncMode(e.phone)),this.setState({sync:t})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.responsive,r=e.device,o=t;return n&&(o=o[r]),(0,y.jsxs)("div",{className:"qx-fb-field-dimensions ".concat(n?"hasResponsive":""," "),children:[this.getLabelMarkup(),this.renderDimensionsFields(o)]})}}],n&&Jd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Yp))||Bd;Kd.propTypes={},Kd.defaultProps={responsive:!0};const eh=Kd;var th=n(41578),nh=n.n(th),rh=n(88374),oh=n.n(rh);function ih(e){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(e)}function ah(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lh(e,t){return lh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lh(e,t)}function sh(e,t){if(t&&("object"===ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ch(e)}function ch(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(e)}var ph=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&lh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uh(r);if(o){var n=uh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sh(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=ch(t=i.call(this,e)),r="shouldComponentUpdate",o=Zr(),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={id:Ln("quix-select-"),value:"",fallbackImageSrc:"/media/quixnxt/images/",options:[]},t.getImageUrl=t.getImageUrl.bind(ch(t)),t.getImageSrc=t.getImageSrc.bind(ch(t)),t.imageExists=t.imageExists.bind(ch(t)),t.handleChange=t.handleChange.bind(ch(t)),t.renderOption=t.renderOption.bind(ch(t)),t.getFallbackImageUrl=t.getFallbackImageUrl.bind(ch(t)),void 0===window.checkedImages&&(window.checkedImages=[]),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.value&&this.setState({value:this.props.value});var t=this.props.path+"/"+window.FORM.ELEMENT_SLUG+"/images/";this.props.options.length,this.props.options.map((function(n,r){e.getImageSrc(n.value,t).then((function(t){n.imgSrc=t;var o=e.state.options;o[r]=n,e.setState({options:o}),e.forceUpdate(),e.render()}),(function(t){n.imgSrc=t;var o=e.state.options;o[r]=n,e.setState({options:o}),e.forceUpdate(),e.render()}))})),this.bindImagePickerPlugin()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(e,t){this.bindImagePickerPlugin()}},{key:"bindImagePickerPlugin",value:function(){var e=this;jQuery("#"+this.state.id).imagepicker({show_label:!0,changed:function(t,n,r){e.props.multiple?e.props.onChange(n):e.props.onChange(n[0]),e.setState({value:n})}})}},{key:"imageExists",value:function(e,t){var n=this;return new Promise((function(r,o){if(n.imageExistenceChecked(e,t))window.checkedImages[n.getImageUrl(e,t)]&&r(response.success),o(!response.success);else{var i=new XMLHttpRequest;i.open("GET","index.php?option=com_quix&view=pages&task=api.checkImage&path="+n.getImageUrl(e,t)),i.onreadystatechange=function(){try{var e=JSON.parse(this.responseText);e.success?r(e.success):o(!e.success)}catch(e){}},i.send()}}))}},{key:"imageExistenceChecked",value:function(e,t){return void 0!==window.checkedImages[this.getImageUrl(e,t)]}},{key:"getImageUrl",value:function(e,t){return t+this.props.name+"_"+e+".png"}},{key:"getFallbackImageUrl",value:function(e){return this.state.fallbackImageSrc+this.props.name+"_"+e+".png"}},{key:"getImageSrc",value:function(e,t){var n=this;return new Promise((function(r,o){n.imageExists(e,t).then((function(o){r(n.getImageUrl(e,t))}),(function(t){o(n.getFallbackImageUrl(e))}))}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this;return(0,y.jsx)("div",{className:this.props.name+" input-col qx-image-select",children:(0,y.jsx)("select",{id:this.state.id,multiple:!!this.props.multiple&&"multiple",className:"image-picker",value:this.state.value,onChange:this.handleChange,children:this.state.options.map((function(t){return e.renderOption(t)}))})})}},{key:"renderOption",value:function(e){return(0,y.jsxs)("option",{"data-img-src":window.jRoot+e.imgSrc,"data-img-class":"quix-select__image-picker","data-img-alt":e.value,value:e.value,children:["  ",e.label,"  "]},e.value)}}])&&ah(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ph.propTypes={},ph.defaultProps={};const fh=ph;function dh(e){return dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(e)}var hh;function yh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e,t){return mh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mh(e,t)}function bh(e,t){if(t&&("object"===dh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vh(e)}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gh(e)}function xh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jh=Ea.default.Option,wh={setDevice:He},Oh=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),wh)(hh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&mh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=gh(r);if(o){var n=gh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bh(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),xh(vh(t=i.call(this,e)),"shouldComponentUpdate",Zr()),xh(vh(t),"preserveType",(function(e){return+e===e?+e:e})),xh(vh(t),"getValue",(function(e){return e?oh()(t.props.value,e)?t.props.value[e]:{desktop:t.props.value,tablet:"",phone:""}:oh()(t.props.value,"desktop")?t.props.value:{desktop:t.props.value,tablet:"",phone:""}})),xh(vh(t),"handleChange",(function(e){if(e=t.props.multiple?nh()(e)?e.map(t.preserveType):e.split(",").map(t.preserveType):t.preserveType(e),t.props.responsive){var n=t.props.device;"desktop"===n?e=Bp()(t.getValue(),{responsive_preview:!0,desktop:e}):"tablet"===n?e=Bp()(t.getValue(),{responsive_preview:!0,tablet:e}):"phone"===n&&(e=Bp()(t.getValue(),{responsive_preview:!0,phone:e})),t.props.onChange(e)}else t.props.onChange(e)})),xh(vh(t),"onReset",(function(e){if(t.props.responsive){var n={};n[e]=void 0===t.props.default[e]?"":t.props.default[e];var r=Bp()(t.props.value,n);t.props.onChange(r),t.setState({reset:!0})}else t.props.onChange(t.props.default)})),xh(vh(t),"getSelectView",(function(e,n,r,o){var i=!1,a=t.props.tags;e.image&&(i=e.image);var l=(0,y.jsx)(Ea.default,{showSearch:!0,mode:o?"multiple":a?"tags":"",optionFilterProp:"children",filterOption:function(e,t){if(void 0!==t.props.children)return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},value:n?o||a?n:n.toString():o||a?[]:"",onChange:t.handleChange,getPopupContainer:function(){return window.document.body},dropdownClassName:"qxui-zi-l",isrequired:0,children:r.map((function(e,t){return(0,y.jsx)(jh,{value:e.value.toString(),children:e.label},t)}))});return i&&(l=(0,y.jsx)(fh,{onChange:t.handleChange,path:t.props.path,value:n,options:r,responsive:t.props.responsive,multiple:o,name:t.props.name})),l})),xh(vh(t),"renderDeviceContent",(function(){var e,n=t.props,r=n.value,o=n.options,i=n.select,a=n.multiple,l=n.responsive,s=n.device;return e=l?void 0===r[s]?r:r[s]:r,(0,y.jsx)("div",{children:t.getSelectView(i,e,o,a)})})),zp(vh(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-select ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&yh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Yp))||hh;Oh.defaultProps={responsive:!0,select:{}};const _h=Oh;function Sh(e){return Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(e)}function Ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qh(e,t){return qh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qh(e,t)}function Ch(e,t){if(t&&("object"===Sh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kh(e)}function kh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nh(e)}var Rh=[{label:"None",value:"none"},{label:"Solid",value:"solid"},{label:"Double",value:"double"},{label:"Dotted",value:"dotted"},{label:"Dashed",value:"dashed"}];const Eh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&qh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nh(r);if(o){var n=Nh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ch(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChange=t.onChange.bind(kh(t)),t.borderType=t.borderType.bind(kh(t)),t.borderRadius=t.borderRadius.bind(kh(t)),t}return t=a,(n=[{key:"onChange",value:function(e){var t={state:{}},n="normal";"normal"===this.props.state&&(n="hover"),t.state[this.props.state]={properties:Bp()(this.props.value.state[this.props.state].properties,e)},t.state[n]=this.props.value.state[n],this.props.onChange(Bp()(this.props.value,t))}},{key:"borderType",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_type,n=this.props.default.state[this.props.state].properties.border_type;return(0,y.jsx)(_h,{label:"Border Type",value:t,default:n,responsive:!1,onChange:function(t){e.onChange({border_type:t})},options:Rh})}},{key:"borderRadius",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_radius,n=this.props.default.state[this.props.state].properties.border_radius;return(0,y.jsx)(eh,{className:"quix-border-raduis",responsive:!1,default:n,value:t,label:"Border Radius",onChange:function(t){e.onChange({border_radius:t})},onReset:function(){e.onChange({border_radius:n})},reset:!0,units:["px","em","%"]})}},{key:"borderWidth",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_width,n=this.props.default.state[this.props.state].properties.border_width;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,y.jsx)(eh,{className:"quix-border-width",responsive:!1,default:n,value:t,label:"Border Width",onChange:function(t){e.onChange({border_width:t})},onReset:function(){e.onChange({border_width:n})},reset:!0,units:["px","em"]}):null}},{key:"borderColor",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.border_color,n=this.props.default.state[this.props.state].properties.border_color;return"none"!=this.props.value.state[this.props.state].properties.border_type?(0,y.jsx)(_f,{onlyColorPicker:!0,label:"Color",value:t,onChange:function(t){e.onChange({border_color:t})},onReset:function(){e.onChange({border_color:n})}}):null}},{key:"boxShadow",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.box_shadow,n=this.props.default.state[this.props.state].properties.box_shadow;return(0,y.jsx)(Ld,{label:"Box Shadow",value:t,default:n,onChange:function(t){e.onChange({box_shadow:t})}})}},{key:"hoverTransition",value:function(){var e=this,t=this.props.value.state[this.props.state].properties.transition,n=this.props.default.state[this.props.state].properties.transition;return"hover"==this.props.state?(0,y.jsx)(df,{responsive:!1,label:"Transition",units:["s"],defaultUnit:"s",min:0,max:3,step:.1,value:t,onChange:function(t){e.onChange({transition:t})},onReset:function(){e.onChange({transition:n})}}):null}},{key:"render",value:function(){return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"qx-fb-field-border__fields",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderType()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderWidth()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderColor()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.borderRadius()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.boxShadow()}),(0,y.jsx)("div",{className:"qx-fb-field",children:this.hoverTransition()})]})})}}])&&Ph(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}function Dh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ah(e,t){return Ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ah(e,t)}function Ih(e,t){if(t&&("object"===Th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mh(e)}function Mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e){return Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lh(e)}var Bh=ti.default.TabPane;const Uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ah(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lh(r);if(o){var n=Lh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ih(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={state:"normal",visible:!1},t.onReset=t.onReset.bind(Mh(t)),t.onTabChange=t.onTabChange.bind(Mh(t)),t.getFields=t.getFields.bind(Mh(t)),t.showPopover=t.showPopover.bind(Mh(t)),t}return t=a,(n=[{key:"onTabChange",value:function(e){this.setState({state:e})}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){return(0,y.jsx)("div",{className:"qx-fb-field-border",children:(0,y.jsxs)(ti.default,{defaultActiveKey:"normal",onChange:this.onTabChange,children:[(0,y.jsx)(Bh,{tab:"Normal",children:(0,y.jsx)(Eh,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})},"normal"),(0,y.jsx)(Bh,{tab:"Hover",children:(0,y.jsx)(Eh,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,onReset:this.onReset,default:this.props.default})},"hover")]})})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!_i()(this.props.default,this.props.value);return this.props.popover?(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)("i",{className:"qxuicon-undo",onClick:this.onReset}):null,(0,y.jsx)(wi.Z,{prefixCls:"qxui-popover",placement:"left",popupStyle:{width:"320px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-square-full"})})})]})]}):this.getFields()}}])&&Dh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);n(42756);var Fh,zh=n(80155),Hh=n(60873),Qh=n.n(Hh);function Jh(e){return Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(e)}function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wh(Object(n),!0).forEach((function(t){Kh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gh(e,t){return Gh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gh(e,t)}function Xh(e,t){if(t&&("object"===Jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zh(e)}function Zh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yh(e)}function Kh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ey=zh.default.Button,ty=zh.default.Group,ny={setDevice:He};const ry=(0,v.$j)((function(e){return{device:Pt(e.nodes.device,!0)}}),ny)(Fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Gh(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yh(r);if(o){var n=Yh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xh(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Kh(Zh(t=i.call(this,e)),"handleChange",(function(e){var n=t.props.value,r=e.target.value;!1!==t.props.responsive?(n=$h($h({},n),Kh({},t.props.device,r)),t.props.onChange(n)):t.props.onChange(r)})),Kh(Zh(t),"onReset",(function(e){if(!1!==t.props.responsive)return t.props.onChange(t.props.default);t.props.onReset()})),Kh(Zh(t),"getValue",(function(e){return!1===t.props.responsive?Mp()(t.props.value)&&t.props.value.desktop?t.props.value.desktop:t.props.value:t.props.value[e]})),Kh(Zh(t),"renderDeviceContent",(function(){var e=t.props.device,n=Mp()(t.getValue(e))?t.getValue(e).value:t.getValue(e);return{close:t.state.responsive}[e]=!t.state.responsive,(0,y.jsxs)("div",{children:[(0,y.jsx)(ty,{value:n,onChange:t.handleChange,children:Qh()(t.props.options,(function(e,t){return(0,y.jsxs)(ey,{value:t,children:[(0,y.jsx)("span",{className:e.icon,style:{fontSize:"12px"}})," ",e.label]},t)}))}),t.getResetMarkup(e)]})})),zp(Zh(t)),t.state={responsive:"desktop"!==t.getTabName(),reset:!1},t}return t=a,(n=[{key:"render",value:function(){return(0,y.jsxs)("div",{className:"qx-fb-field-choose ".concat(this.props.responsive?"hasResponsive":""," clearfix"),children:[this.getLabelMarkup(),this.renderDeviceContent()]})}}])&&Vh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(Yp))||Fh;function oy(e){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(e)}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ay(e,t){return ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ay(e,t)}function ly(e,t){if(t&&("object"===oy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sy(e)}function sy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cy(e)}var uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ay(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cy(r);if(o){var n=cy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ly(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChange=t.onChange.bind(sy(t)),t.state={id:Ln("switch-")},t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"getLabelMarkup",value:function(){var e=this.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[e," ",this.getHelpMarkup()," "]})}},{key:"getHelpMarkup",value:function(){var e=this.props.help;if(e)return(0,y.jsx)(wi.Z,{content:e,overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"300px"},getPopupContainer:function(){return window.document.body},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.checked,r=(e.help,this.state.id),o=!0===n;return(0,y.jsxs)("div",{className:"qx-fb-field-switch",children:[this.getLabelMarkup(),(0,y.jsx)(s.Z,{checkedChildren:"Yes",unCheckedChildren:"No",defaultChecked:o,onChange:this.onChange,id:r,"data-for":t})]})}}])&&iy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const py=uy;function fy(e){return fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(e)}function dy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(e,t){return yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yy(e,t)}function my(e,t){if(t&&("object"===fy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},by(e)}const vy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=by(r);if(o){var n=by(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return my(this,e)});function a(){return dy(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){return this.props.reset&&this.props.label,this.props.help?(0,y.jsx)("p",{className:"qx-text-muted qx-small",style:{margin:"-10px 0 0 0"},dangerouslySetInnerHTML:this.createMarkup(this.props.help)}):(0,y.jsx)("div",{className:"qx-fb-field-divider",children:(0,y.jsx)("span",{children:this.props.label})})}}])&&hy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),gy=function(){return""};function xy(e){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(e)}function jy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oy(e,t){return Oy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oy(e,t)}function _y(e,t){if(t&&("object"===xy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sy(e)}function Sy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(e)}function qy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cy=So.default.TextArea,ky=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Oy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Py(r);if(o){var n=Py(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _y(this,e)});function a(){var e;jy(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qy(Sy(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e.props.onChange(t.target.value)})),qy(Sy(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsx)("span",{children:t})})),qy(Sy(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(wi.Z,{content:t,placement:"right",popupStyle:{width:"300px"},children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-question-circle"})})})})),qy(Sy(e),"getResetMarkup",(function(){return e.props.onlyBaseText||_i()(e.props.default,e.props.value)?null:(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{size:"small",type:"text",children:(0,y.jsx)("i",{className:"qxuicon-undo",onClick:e.props.onReset})})})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.value;return(0,y.jsxs)("div",{className:"qx-fb-field-textarea",children:[(0,y.jsxs)("div",{className:"qx-fb-field__label qx-flex qx-flex-middle",children:[this.getLabelMarkup(),this.getHelpMarkup(),this.props.onReset?this.getResetMarkup():null]}),(0,y.jsx)(Cy,{rows:4,value:e,onChange:this.onChange,prefixCls:"qxui-input"})]})}}])&&wy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);qy(ky,"propTypes",{}),qy(ky,"defaultProps",{});const Ny=ky,Ry={text_shadow:{color:"",blur:0,horizontal:0,vertical:0}};var Ey=Ea.default.Option,Ty=Ea.default.OptGroup;function Dy(e){var t=e.fontFamilies.map((function(e){return{label:e,value:e,clearable:!1}}));return(0,y.jsxs)("div",{className:"qx-fb-field-typography__typeface",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:e.label}),(0,y.jsxs)(Ea.default,{defaultValue:e.family?e.family.toString():"",onChange:e.onChange,allowClear:!1,showSearch:!0,style:{width:"100%"},prefixCls:"qxui-select",dropdownClassName:"qxui-zi-l",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Ty,{label:"Custom Fonts",children:(0,y.jsx)(Ey,{value:"",children:"Default"},"default")}),(0,y.jsx)(Ty,{label:"Google Fonts",children:t.map((function(e,t){return(0,y.jsx)(Ey,{value:e.value.toString(),children:e.label},t)}))})]})]})}function Ay(e){return Ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(e)}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function My(e,t){return My=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},My(e,t)}function Ly(e,t){if(t&&("object"===Ay(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return By(e)}function By(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uy(e)}var Fy=Ea.default.Option,zy=["100","200","300","400","500","600","700","800","900"],Hy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&My(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uy(r);if(o){var n=Uy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ly(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).state={value:e.value,expand:!1,fontFamilies:[],weights:[],family:null,weight:{label:"",value:"",clearable:!0},visible:!1},t.handleChange=t.handleChange.bind(By(t)),t.token=jQuery("#jform_token").attr("name"),t.getFields=t.getFields.bind(By(t)),t.showPopover=t.showPopover.bind(By(t)),t.onReset=t.onReset.bind(By(t)),t}return t=a,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;if(localStorage.getItem("qx-fonts"))this.setState(JSON.parse(localStorage.getItem("qx-fonts")));else{var t="index.php?option=com_quix&task=api.getWebFonts&".concat(this.token,"=1");jt().get(t).then((function(t){var n=[],r={};t.data.items.forEach((function(e){n.push(e.family),r[e.family]=e.variants})),localStorage.setItem("qx-fonts",JSON.stringify({fontFamilies:n,weights:r})),e.setState({fontFamilies:n,weights:r})}))}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){null!==e.value.family&&this.state.family!==e.value.family&&this.setState({family:e.value.family}),null===e.value.family&&this.props.onChange(Bp()(e.value,{weight:{label:"",value:"",clearable:!0}}))}},{key:"handleChange",value:function(e){var t=Bp()(this.props.value,e);this.setState({value:t}),this.props.onChange(t)}},{key:"getValue",value:function(){return this.state.value}},{key:"getFontWeights",value:function(e){var t=[];return _t(e)?zy.map((function(e){return{label:e,value:e,clearable:!0}})):(this.state.weights[e]&&(t=this.state.weights[e].map((function(e){return{label:e,value:e,clearable:!0}}))),t)}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){var e=this,t=this.props,n=(t.label,t.value),r=(t.name,t.help,n.family),o=n.size,i=n.spacing,a=n.height,l=n.weight,s=n.transform,c=n.style,u=n.text_shadow,p=n.decoration;return(0,y.jsxs)("div",{className:"qx-fb-field-typography",children:[(0,y.jsxs)("div",{className:"qx-grid qx-grid-small",children:[(0,y.jsx)("div",{className:"qx-width-2-3",children:(0,y.jsx)(Dy,{label:"Font",family:r,fontFamilies:this.state.fontFamilies,onChange:function(t){return e.handleChange({family:t})}})}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Weight"}),(0,y.jsx)(Ea.default,{defaultValue:l?l.toString():"400",onChange:function(t){return e.handleChange({weight:t})},allowClear:!0,getPopupContainer:function(){return window.document.body},children:this.getFontWeights(r).map((function(e,t){return(0,y.jsx)(Fy,{value:e.value.toString(),children:e.label},t)}))})]})]}),(0,y.jsx)("div",{className:"qx-fb-field-typography__size",children:(0,y.jsx)(df,{label:"Size",min:0,max:200,value:o,units:["px","em","rem"],default:this.props.default.size,onChange:function(t){return e.handleChange({size:t})},responsive:!0})}),(0,y.jsxs)("div",{className:"qx-grid qx-grid-small",children:[(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Transform"}),(0,y.jsxs)(Ea.default,{defaultValue:s.toString(),onChange:function(t){return e.handleChange({transform:t})},children:[(0,y.jsx)(Fy,{value:"",children:"None"}),(0,y.jsx)(Fy,{value:"uppercase",children:"Uppercase"}),(0,y.jsx)(Fy,{value:"lowercase",children:"Lowercase"}),(0,y.jsx)(Fy,{value:"capitalize",children:"Capitalize"})]})]}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Style"}),(0,y.jsxs)(Ea.default,{defaultValue:c.toString(),onChange:function(t){return e.handleChange({style:t})},children:[(0,y.jsx)(Fy,{value:"",children:"Normal"}),(0,y.jsx)(Fy,{value:"italic",children:"Italic"}),(0,y.jsx)(Fy,{value:"oblique",children:"Oblique"})]})]}),(0,y.jsxs)("div",{className:"qx-width-1-3",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Decoration"}),(0,y.jsxs)(Ea.default,{defaultValue:p.toString(),onChange:function(t){return e.handleChange({decoration:t})},children:[(0,y.jsx)(Fy,{value:"",children:"None"}),(0,y.jsx)(Fy,{value:"overline",children:"Overline"}),(0,y.jsx)(Fy,{value:"line-through",children:"Line Through"}),(0,y.jsx)(Fy,{value:"underline",children:"Underline"})]})]})]}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__height",children:(0,y.jsx)(df,{label:"Line Height",max:40,step:.1,value:a,units:["px","em","rem"],default:this.props.default.height,onChange:function(t){return e.handleChange({height:t})},responsive:!0})}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__height",children:(0,y.jsx)(df,{label:"Letter Spacing",min:-5,max:10,step:.1,value:i,units:["px","em","rem"],default:this.props.default.spacing,onChange:function(t){return e.handleChange({spacing:t})},responsive:!0})}),(0,y.jsx)("div",{className:"qx-fb-field-typograpy__text_shadow",children:(0,y.jsx)(Ld,{label:"Text Shadow",value:u||(this.props.default.text_shadow?this.props.default.text_shadow:Ry.text_shadow),default:this.props.default.text_shadow?this.props.default.text_shadow:Ry.text_shadow,onChange:function(t){return e.handleChange({text_shadow:t})}})})]})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!_i()(this.props.default,this.props.value);return(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label qx-mb-0",htmlFor:"text_shadow",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:(0,y.jsx)("i",{className:"qxuicon-undo"})}):null,(0,y.jsx)(wi.Z,{placement:"left",popupStyle:{width:"350px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-font"})})})]})]})}}])&&Iy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Hy.propTypes={},Hy.defaultProps={};const Qy=Hy;var Jy=n(33023),Wy=n.n(Jy);function $y(e){return $y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(e)}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e,t){return Gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gy(e,t)}function Xy(e,t){if(t&&("object"===$y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yy(e)}var Ky=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Gy(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yy(r);if(o){var n=Yy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xy(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={},t.onChange=t.onChange.bind(Zy(t)),t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange({type:"video",properties:Bp()(this.props.properties,e)})}},{key:"render",value:function(){var e=this,t=this.props.properties,n=this.props.default;return(0,y.jsx)("div",{className:"qx-fb-field-background__image",children:(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Yf,{filters:"video",value:t.url,label:"",onChange:function(t){e.onChange({url:t})},onReset:this.onChange.bind(this,{url:n.url})})})})}}])&&Vy(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Ky.type="qxuicon-video";const em=Ky;function tm(e){return tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(e)}function nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rm(e,t){return rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rm(e,t)}function om(e,t){if(t&&("object"===tm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return im(e)}function im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function am(e){return am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},am(e)}var lm=[{label:"Center",value:"center"},{label:"Top Left",value:"top left"},{label:"Top",value:"top"},{label:"Top Right",value:"top right"},{label:"Right",value:"right"},{label:"Bottom",value:"bottom"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"},{label:"Left",value:"left"}],sm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&rm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=am(r);if(o){var n=am(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return om(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={},t.onChange=t.onChange.bind(im(t)),t}return t=a,(n=[{key:"onChange",value:function(e){this.props.onChange({type:"classic",properties:Rp()(this.props.properties,e)})}},{key:"render",value:function(){var e=this,t=this.props.properties,n=t.color,r=this.props.default,o=t.parallax?[{label:"CSS Based",value:"css"},{label:"JS Based",value:"js"}]:[{label:"CSS Based",value:"css"}],i=t.parallax?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(_h,{label:"Parallax Method",help:"Define the method, used for the parallax effect. CSS used background-fixed properties while JS gives you the true parallax effect using javascript libaray.",value:t.parallax_method,default:"true_parallax",responsive:!1,onChange:function(t){e.onChange({parallax_method:t})},onReset:this.onChange.bind(this,{parallax_method:r.parallax_method}),options:o})}):null,a="js"===t.parallax_method?(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"qx-fb-field qx-margin-small-bottom",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"Y-Axis"}),(0,y.jsx)(So.default,{default:0,value:t.js_parallax_y,prefixCls:"qxui-input",placeholder:"-50",onChange:function(t){e.onChange({js_parallax_y:t.target.value})}})]}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)("p",{className:"qx-fb-field__label",children:"X-Axis"}),(0,y.jsx)(So.default,{value:t.js_parallax_x,placeholder:"-50",prefixCls:"qxui-input",onChange:function(t){e.onChange({js_parallax_x:t.target.value})}})]})]}):null;return(0,y.jsxs)("div",{className:"qx-fb-field-background__image",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(_f,{onlyColorPicker:!0,label:"Color",value:n,onChange:function(t){return e.onChange({color:t})},onReset:this.onChange.bind(this,{color:r.color})})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Yf,{filters:"image",value:t.src,label:"",onChange:function(t){e.onChange({src:t})},onReset:this.onChange.bind(this,{src:r.src})})}),t.src&&t.required_parallax?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(py,{label:"Use Parallax Effect",help:"If enabled, your background image will stay fixed as your scroll, creating a fun parallax-like effect.",name:"parallax",checked:t.parallax,onChange:function(t){e.onChange({parallax:t})},onReset:this.onChange.bind(this,{parallax:r.size})})}):null,t.required_parallax?i:null,t.required_parallax?a:null,(0,y.jsxs)("div",{className:"qx-grid qx-grid-small qx-child-width-1-2",children:[t.src?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(_h,{label:"Size",value:t.size,default:"initial",responsive:!1,onChange:function(t){e.onChange({size:t})},options:[{label:"Cover",value:"cover"},{label:"Fit",value:"contain"},{label:"Actual Size",value:"initial"}]})}):null,t.src?(0,y.jsx)("div",{className:"qx-margin-small-bottom",children:(0,y.jsx)(_h,{label:"Position",value:t.position,default:"center",responsive:!1,onChange:function(t){e.onChange({position:t})},options:lm})}):null,t.src?(0,y.jsx)("div",{children:(0,y.jsx)(_h,{label:"Repeat",value:t.repeat,default:"no-repeat",responsive:!1,onChange:function(t){e.onChange({repeat:t})},options:[{label:"No Repeat",value:"no-repeat"},{label:"Repeat",value:"repeat"},{label:"Repeat X ( Horizontal )",value:"repeat-x"},{label:"Repeat Y ( Vertical )",value:"repeat-y"},{label:"Space",value:"space"},{label:"Round",value:"round"}]})}):null,t.src?(0,y.jsx)("div",{children:(0,y.jsx)(_h,{label:"Blend Mode",value:t.blend,default:"normal",responsive:!1,onChange:function(t){e.onChange({blend:t})},help:"Set background color in order to use blend mode properly",options:[{label:"Normal",value:"normal"},{label:"Multiply",value:"multiply"},{label:"Screen",value:"screen"},{label:"Overlay",value:"overlay"},{label:"Darken",value:"darken"},{label:"Lighten",value:"lighten"},{label:"Color Dodge",value:"color-dodge"},{label:"Saturation",value:"saturation"},{label:"Color",value:"color"},{label:"Luminosity",value:"luminosity"}]})}):null]})]})}}])&&nm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);sm.type="qxuicon-paint-brush";const cm=sm;var um=n(41957),pm=n.n(um);function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ym(e,t){return ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ym(e,t)}function mm(e,t){if(t&&("object"===fm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bm(e)}function bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vm(e){return vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vm(e)}function gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xm=[{label:"Center Center",value:"center center"},{label:"Center left",value:"center left"},{label:"Center right",value:"center right"},{label:"Top Center",value:"top center"},{label:"Top left",value:"top left"},{label:"Top Right",value:"top right"},{label:"Bottom Center",value:"bottom center"},{label:"Bottom Left",value:"bottom left"},{label:"Bottom Right",value:"bottom right"}],jm=[{label:"Linear",value:"linear"},{label:"Radial",value:"radial"}],wm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ym(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vm(r);if(o){var n=vm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mm(this,e)});function a(){var e;dm(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gm(bm(e=i.call.apply(i,[this].concat(n))),"state",{defaultPosition:0}),gm(bm(e),"onChange",(function(t){e.props.onChange({type:"gradient",properties:Bp()(e.props.properties,t)})})),gm(bm(e),"onReset",(function(){e.props.onReset&&e.props.onReset()})),gm(bm(e),"renderDirection",(function(){return"linear"===e.props.properties.type?e.renderLinearDirection():e.renderRadialDirection()})),gm(bm(e),"renderLinearDirection",(function(){var t=e.props.default,n="linear"===e.props.properties.type&&(Fd()(e.props.properties.direction)||Fd()(e.props.properties.direction.value))?pm()(e.props.properties.direction.value)?e.props.properties.direction:e.props.properties.direction.value:e.state.defaultPosition;return(0,y.jsx)(df,{responsive:!1,default:t.direction,units:["deg"],label:"Direction",value:n,max:360,onChange:function(t){e.onChange({direction:t})},onReset:e.onChange.bind(bm(e),{direction:t.direction})})})),gm(bm(e),"renderRadialDirection",(function(){var t="radial"!==e.props.properties.type||Fd()(e.props.properties.direction)?"center center":e.props.properties.direction,n=e.props.default;return(0,y.jsx)(_h,{label:"Direction",value:t,default:"center center",responsive:!1,onChange:function(t){e.onChange({direction:t})},onReset:e.onChange.bind(bm(e),{direction:n.direction}),options:xm})})),gm(bm(e),"getGradientPreview",(function(){var t={},n=e.props.properties,r=n.type,o=n.color_1,i=n.color_2,a=n.start_position,l=n.end_position,s=n.direction;return"linear"===r?t.backgroundImage="linear-gradient(".concat(s,"deg, ").concat(o," ").concat(a,"%, ").concat(i," ").concat(l,"%)"):"radial"===r&&(t.backgroundImage="radial-gradient(at ".concat(s,", ").concat(o," ").concat(a,"%, ").concat(i," ").concat(l,"%)")),(0,y.jsx)("div",{className:"gradient-preview qx-box-shadow-medium qx-margin-small-bottom qx-height-small qx-position-relative qx-transition-toggle qx-border-rounded",style:t,children:(0,y.jsx)(p.default,{className:"qx-position-top-right qx-transition-scale-up",type:"text",onClick:e.onReset,children:(0,y.jsx)("span",{className:"qxuicon-trash-alt qx-blend-difference"})})})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.properties,n=t.color_1,r=t.color_2,o=this.props.default;return(0,y.jsxs)("div",{className:"qx-background__gradient",children:[this.getGradientPreview(),(0,y.jsxs)("div",{className:"qx-flex qx-margin-small-bottom",children:[(0,y.jsx)("div",{children:(0,y.jsx)(_f,{addonAfter:"Select",value:n,label:"Color 1",onChange:function(t){e.onChange({color_1:t})},onReset:this.onChange.bind(this,{color_1:o.color_1,color_2:o.color_2})})}),(0,y.jsx)("div",{className:"qx-margin-auto-left",children:(0,y.jsx)(_f,{addonAfter:"Select",value:r,label:"Color 2",onChange:function(t){e.onChange({color_2:t})},onReset:this.onChange.bind(this,{color_1:o.color_1,color_2:o.color_2})})})]}),(0,y.jsxs)("div",{className:"qx-flex qx-margin-small-bottom",children:[(0,y.jsx)("div",{className:"qx-margin-small-right",children:(0,y.jsx)(_h,{value:this.props.properties.type,default:"linear",responsive:!1,label:"Type",onChange:function(t){var n=0;"radial"===t&&(n="center center"),e.onChange({type:t,direction:n})},onReset:this.onChange.bind(this,{type:o.type}),options:jm})}),(0,y.jsx)("div",{className:"qx-width-expand qx-margin-small-left",children:this.renderDirection()})]}),(0,y.jsxs)("div",{className:"qx-fllex",children:[(0,y.jsx)("div",{children:(0,y.jsx)(df,{responsive:!1,default:o.start_position,label:"Start Position",units:null,value:this.props.properties.start_position?pm()(this.props.properties.start_position.value)?this.props.properties.start_position:this.props.properties.start_position.value:this.state.defaultPosition,onChange:function(t){return e.onChange({start_position:t})},onReset:this.onChange.bind(this,{start_position:o.start_position})})}),(0,y.jsx)("div",{children:(0,y.jsx)(df,{responsive:!1,default:o.end_position,label:"End Position",units:null,value:this.props.properties.end_position?pm()(this.props.properties.end_position.value)?this.props.properties.end_position:this.props.properties.end_position.value:this.state.defaultPosition,onChange:function(t){e.onChange({end_position:t})},onReset:this.onChange.bind(this,{end_position:o.end_position})})})]})]})}}])&&hm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);wm.type="qxuicon-adjust";const Om=wm;function _m(e){return _m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(e)}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qm(e,t){return qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qm(e,t)}function Cm(e,t){if(t&&("object"===_m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return km(e)}function km(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nm(e){return Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nm(e)}function Rm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Em=p.default.Group,Tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&qm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nm(r);if(o){var n=Nm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Cm(this,e)});function a(){var e;Sm(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Rm(km(e=i.call.apply(i,[this].concat(n))),"state",{type:"classic",types:{classic:cm,gradient:Om,video:em}}),Rm(km(e),"setType",(function(t){e.setState({type:t})})),Rm(km(e),"onChange",(function(t){var n={state:{}},r="normal";"normal"===e.props.state&&(r="hover"),n.state[e.props.state]=Bp()(e.props.value.state[e.props.state],t),n.state[r]=e.props.value.state[r],e.props.onChange(Bp()(e.props.value,n))})),Rm(km(e),"onReset",(function(){e.props.onReset&&e.props.onReset()})),Rm(km(e),"onCommonPropertyChange",(function(t){var n=e.props.value.state[e.props.state];n=Rp()(n,t);var r={state:{}};r.state[e.props.state]=n;var o="normal";"normal"===e.props.state&&(o="hover"),r.state[o]=e.props.value.state[o],e.props.onChange(Bp()(e.props.value,r))})),Rm(km(e),"renderBackgroundType",(function(){return(0,y.jsxs)("div",{className:"qx-fb-field-background__types",children:[(0,y.jsx)("label",{className:"qx-fb-field__label",children:"Background Type"}),(0,y.jsx)(Em,{prefixCls:"qxui-btn-group",children:e.props.supportedTypes.map((function(t,n){return(0,y.jsx)(c.default,{title:t.toUpperCase(),children:(0,y.jsx)(p.default,{onClick:e.setType.bind(km(e),t),className:e.state.type===t?"active":"",children:(0,y.jsx)("i",{className:e.state.types[t].type})},n)},n)}))})]})})),Rm(km(e),"renderBackgroundProperties",(function(){var t;switch(t=e.state.type===e.props.value.state[e.props.state].type?e.props.value.state[e.props.state].properties:e.props.types[e.state.type].properties,e.state.type){case"classic":return(0,y.jsx)(cm,{properties:t,default:e.props.types.classic.properties,onChange:e.onChange,onReset:e.onReset});case"gradient":return(0,y.jsx)(Om,{properties:t,default:e.props.types.gradient.properties,onChange:e.onChange,onReset:e.onReset});case"video":return(0,y.jsx)(em,{properties:t,default:e.props.types.video.properties,onChange:e.onChange,onReset:e.onReset});default:return""}})),Rm(km(e),"renderCommonProperties",(function(){var t=e.props.value.state[e.props.state],n=e.props.default.state[e.props.for];return(0,y.jsxs)("div",{className:"qx-fb-field-background__common",children:[t.required_opacity?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{units:!1,responsive:!1,label:"Opacity",min:0,max:1,step:.01,value:t.opacity,onChange:function(t){return e.onCommonPropertyChange({opacity:t})},onReset:function(){var r={};r[e.props.state]=Bp()(t,{opacity:n.opacity}),e.props.onReset(r)}})}):null,"hover"===e.props.state&&t.required_transition?(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(df,{units:!1,responsive:!1,label:"Transition",defaultUnit:"s",min:0,max:3,step:.1,value:t.transition,onChange:function(t){return e.onCommonPropertyChange({transition:t})},onReset:function(){var r={};r[e.props.state]=Bp()(t,{transition:n.transition}),e.props.onReset(r)}})}):null]})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setState({type:this.props.value.state[this.props.state].type})}},{key:"render",value:function(){return(0,y.jsxs)("div",{children:[this.renderBackgroundType(),(0,y.jsxs)("div",{className:"qx-fb-field-background__fields",children:[this.renderBackgroundProperties(),this.renderCommonProperties()]})]})}}])&&Pm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const Dm=Tm;function Am(e){return Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(e)}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mm(e,t){return Mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mm(e,t)}function Lm(e,t){if(t&&("object"===Am(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bm(e)}function Bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Um(e){return Um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Um(e)}var Fm=ti.default.TabPane;const zm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Mm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Um(r);if(o){var n=Um(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lm(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={state:"normal",visible:!1},t.onReset=t.onReset.bind(Bm(t)),t.onTabChange=t.onTabChange.bind(Bm(t)),t.getFields=t.getFields.bind(Bm(t)),t.showPopover=t.showPopover.bind(Bm(t)),t}return t=a,(n=[{key:"onTabChange",value:function(e){this.setState({state:e})}},{key:"onReset",value:function(){this.props.onChange(this.props.default)}},{key:"getFields",value:function(){var e=this.props.tab;return Wy()(e)?(0,y.jsx)(Dm,{for:e,state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default}):(0,y.jsx)("div",{className:"qx-fb-field-background",children:(0,y.jsxs)(ti.default,{defaultActiveKey:"normal",onChange:this.onTabChange,children:[(0,y.jsx)(Fm,{tab:"Normal",children:(0,y.jsx)(Dm,{for:"normal",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})},"normal"),(0,y.jsx)(Fm,{tab:"Hover",children:(0,y.jsx)(Dm,{for:"hover",state:this.state.state,value:this.props.value,onChange:this.props.onChange,supportedTypes:this.props.supportedTypes,types:this.props.types,onReset:this.onReset,default:this.props.default})},"hover")]})})}},{key:"showPopover",value:function(){this.setState({visible:!this.state.visible})}},{key:"render",value:function(){var e=!_i()(this.props.default,this.props.value);return this.props.popover?(0,y.jsxs)("div",{className:"qx-flex qx-flex-between qx-flex-middle",children:[(0,y.jsx)("div",{children:(0,y.jsx)("label",{className:"qx-fb-field__label",children:this.props.label})}),(0,y.jsxs)("div",{children:[e?(0,y.jsx)(c.default,{title:"Reset to default",children:(0,y.jsx)(p.default,{type:"link",className:"qx-text-meta",onClick:this.onReset,children:(0,y.jsx)("i",{className:"qxuicon-undo"})})}):null,(0,y.jsx)(wi.Z,{placement:"left",popupStyle:{width:"350px"},content:this.getFields(),trigger:"click",children:(0,y.jsx)(p.default,{className:e?"active":"",children:(0,y.jsx)("i",{className:"qxuicon-paint-brush"})})})]})]}):this.getFields()}}])&&Im(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Hm(e){return Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(e)}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jm(e,t){return Jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jm(e,t)}function Wm(e,t){if(t&&("object"===Hm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $m(e)}function $m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vm(e){return Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vm(e)}var Gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Jm(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vm(r);if(o){var n=Vm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wm(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=st(),n="index.php?option=com_quix&task=api.getJoomlaModules&".concat(e,"=1");jt().get(n).then((function(e){var n=e.data.data;n=n.map((function(e){return{label:e.title,value:e.id}})),t.setState({options:n})}))},(r="getModuleList")in(n=$m(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t.getModuleList(),t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(_h,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&Qm(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const Xm=Gm;function Zm(e){return Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(e)}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Km(e,t){return Km=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Km(e,t)}function eb(e,t){if(t&&("object"===Zm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tb(e)}function tb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nb(e)}var rb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Km(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nb(r);if(o){var n=nb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return eb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=st(),n="index.php?option=com_quix&task=api.getJoomlaCategories&".concat(e,"=1");jt().get(n).then((function(e){var n=e.data.data;n=n.map((function(e){return{label:e.text,value:e.value}})),t.setState({options:n})}))},(r="getCategoryList")in(n=tb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t.getCategoryList(),t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(_h,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&Ym(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);const ob=rb;function ib(e){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(e)}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lb(e,t){return lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lb(e,t)}function sb(e,t){if(t&&("object"===ib(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cb(e)}function cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ub(e)}const pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&lb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ub(r);if(o){var n=ub(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){for(var e=document.getElementById("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++){var o=[];o.value=e[r].value,o.label=e[r].text,t.push(o)}return t},(r="getApiData")in(n=cb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:t.getApiData()},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(_h,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&ab(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var fb=n(38268),db=n(99749);n(83140);const hb=(0,db.default)(fb.Z);var yb=n(44477);function mb(e){return mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mb(e)}function bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gb(e,t){return gb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gb(e,t)}function xb(e,t){if(t&&("object"===mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jb(e)}function jb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wb(e)}function Ob(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&gb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wb(r);if(o){var n=wb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xb(this,e)});function a(){var e;bb(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ob(jb(e=i.call.apply(i,[this].concat(n))),"state",{open:!1}),Ob(jb(e),"getLabelMarkup",(function(){var t=e.props.label;return(0,y.jsxs)("p",{className:"qx-fb-field__label",children:[t," ",e.getHelpMarkup()," "]})})),Ob(jb(e),"getHelpMarkup",(function(){var t=e.props.help;if(t)return(0,y.jsx)(wi.Z,{content:t,prefixCls:"qxui-popover",overlayClassName:"qxui-zi-l",placement:"right",popupStyle:{width:"350px"},children:(0,y.jsx)("i",{className:"qxuicon-question-circle qx-fb-field__help"})})})),Ob(jb(e),"handleDateChange",(function(t){if(null!==t){var n,r=t.format(null!==(n=e.props.format)&&void 0!==n?n:"YYYY-MM-DD HH:mm:ss");e.props.onChange(JSON.stringify({string:r}))}else e.props.onChange(JSON.stringify({}));e.setState({open:!1})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.value,n=this.props.format||"YYYY-MM-DD HH:mm:ss",r=(t=t?JSON.parse(t).string:"")?yb.Z.locale.parse("en",t,[n]):null;return(0,y.jsxs)("div",{className:"qx-fb-field-text",children:[this.getLabelMarkup(),(0,y.jsx)(hb,{showTime:!0,format:n,defaultValue:r,getContainer:function(){return window.document.body},prefixCls:"qxui-picker",style:{width:"100%"},getPopupContainer:function(){return window.document.body},getCalendarContainer:function(){return window.document.body},open:this.state.open,onChange:this.handleDateChange,onOpenChange:function(t){e.state.open||e.setState({open:t})},onOk:function(t){return e.setState({open:!1}),t}})]})}}])&&vb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);_b.propTypes={},_b.defaultProps={};const Sb=_b;function Pb(e){return Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(e)}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cb(e,t){return Cb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cb(e,t)}function kb(e,t){if(t&&("object"===Pb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nb(e)}function Nb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rb(e)}const Eb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Cb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rb(r);if(o){var n=Rb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kb(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(){var e=rt().map((function(e){return{label:e.title,value:e.id}}));t.setState({options:e})},(r="getTemplateList")in(n=Nb(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={options:[]},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.getTemplateList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.value;return(0,y.jsx)(_h,{label:n,value:r,default:"",responsive:!1,onChange:function(t){return e.props.onChange(t)},onReset:function(){return e.props.onChange("")},options:this.state.options})}}])&&qb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var Tb;function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ab(e,t){return Ab=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ab(e,t)}function Ib(e,t){if(t&&("object"===Ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}function Mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lb(e)}function Bb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ub(e){return Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(e)}function Fb(e){return function(e){if(Array.isArray(e))return zb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hb=(0,v.$j)((function(e,t){var n=e.form.node,r=t.control,o=t.path,i=!0;if(r.depends&&Object.keys(r.depends).length>0){var a=Fb(o).slice(0,-1),l=Rn(n,["form"].concat(Fb(a)));for(var s in r.depends)if(r.depends.hasOwnProperty(s)){var c=Rn(l,s.split(".")),u=r.depends[s];if("object"!==Ub(u)){if("*"===u){if(!c){i=!1;break}}else if(c!==r.depends[s]){i=!1;break}}else if(Array.isArray(u)&&!u.includes(c)){i=!1;break}}}return{shouldShow:i,value:r.value}}))(Tb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ab(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lb(r);if(o){var n=Lb(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ib(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Bb(Mb(t=i.call(this,e)),"onReset",(function(){var e=t.props;(0,e.update)(e.options.default)})),Bb(Mb(t),"onChange",(function(e){t.setState({value:e}),t.bubbleChange(e)})),Bb(Mb(t),"bubbleChange",as()((function(e){(0,t.props.update)(e)}),20)),t.state={value:e.value,parentValue:null},t}return t=a,n=[{key:"componentDidUpdate",value:function(e,t,n){this.props.value!==this.state.parentValue&&this.setState({value:this.props.value,parentValue:this.props.value})}},{key:"render",value:function(){var e=this.props,t=e.hidden;if(!e.shouldShow)return null;var n,r,o=this.state.value,i=this.props.options,a=i.help,l=i.name,s=i.label,c=i.type,u=i.placeholder,p=i.reset;switch(c){case"border":r=(0,y.jsx)(Uh,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default,popover:i.popover});break;case"media":r=(0,y.jsx)(Yf,{value:o,label:s,name:l,help:a,className:i.class,showstyle:i.showstyle,onChange:this.onChange,onReset:this.onReset,reset:p,filters:this.props.options.filters});break;case"date":r=(0,y.jsx)(Sb,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"time":r=(0,y.jsx)(TimePicker,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"acl":r=(0,y.jsx)(mp,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jmenu":r=(0,y.jsx)(pb,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jmodule":r=(0,y.jsx)(Xm,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"jcategory":r=(0,y.jsx)(ob,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"templates":r=(0,y.jsx)(Eb,{value:o,label:s,name:l,help:a,default:this.props.options.default,select:this.props.options.select,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"editor":r=(0,y.jsx)(Pd,{value:o,label:s,name:l,help:a,onChange:this.onChange,onReset:this.onReset,reset:p,className:i.class});break;case"color":r=(0,y.jsx)(_f,{value:o,label:s,name:l,help:a,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"slider":r=(0,y.jsx)(df,{value:o,default:this.props.options.default,units:this.props.options.units,responsive:this.props.options.responsive,label:s,help:a,step:i.step,min:i.min,max:i.max,suffix:i.suffix,className:i.class,onChange:this.onChange,onReset:this.onReset});break;case"typography":r=(0,y.jsx)(Qy,{value:o,default:this.props.options.default,units:this.props.options.units,label:s,name:l,help:a,className:i.class,popover:i.popover,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"dimensions":r=(0,y.jsx)(eh,{className:i.class,default:this.props.options.default,units:this.props.options.units,value:o,label:s,help:a,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"link":r=(0,y.jsx)(Cp,{name:l,label:s,help:a,text:o.text,url:o.url,target:o.target,nofollow:o.nofollow,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"select":r=(0,y.jsx)(_h,{value:o,default:this.props.options.default,select:this.props.options.select,responsive:this.props.options.responsive,path:this.props.options.element_path,label:s,name:l,help:a,multiple:i.multiple,tags:i.tags,className:i.class,options:i.options,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"switch":r=(0,y.jsx)(py,{name:l,label:s,help:a,checked:o,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"text":r=(0,y.jsx)(Di,{help:a,label:s,value:o,default:this.props.options.default,placeholder:u,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p,readOnly:"readonly"===i.advanced});break;case"textarea":r=(0,y.jsx)(Ny,{help:a,label:s,value:o,placeholder:u,rows:i.rows,className:i.class,onChange:this.onChange,onReset:this.onReset,reset:p});break;case"divider":r=(0,y.jsx)(vy,{label:s,help:a,reset:p});break;case"hidden":r=(0,y.jsx)(gy,{});break;case"background":r=(0,y.jsx)(zm,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,supportedTypes:this.props.options.supportedTypes,tab:this.props.options.tab,types:this.props.options.types,default:this.props.options.default,popover:i.popover});break;case"choose":r=(0,y.jsx)(ry,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,responsive:this.props.options.responsive,options:this.props.options.options,default:this.props.options.default});break;case"code":r=(0,y.jsx)(Ha,{name:l,label:s,help:a,value:o,onChange:this.onChange,onReset:this.onReset,reset:p,default:this.props.options.default})}return n=Ve()("qx-fb-field",{hide:t}),(0,y.jsx)("div",{className:n,children:r})}}],n&&Db(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Tb;Hb.propTypes={options:Hl().object,onChange:Hl().func};const Qb=Hb;function Jb(e){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(e)}var Wb;function $b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(n),!0).forEach((function(t){tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zb(e,t){return Zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zb(e,t)}function Yb(e,t){if(t&&("object"===Jb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kb(e)}function Kb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ev(e)}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nv={updateNodeField:ke},rv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),nv)(Wb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Zb(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ev(r);if(o){var n=ev(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yb(this,e)});function a(){var e;Gb(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tv(Kb(e=i.call.apply(i,[this].concat(n))),"updateNodeField",(function(t){var n=e.props,r=n.nodePath,o=n.path;(0,n.updateNodeField)(r,o,t)})),e}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.control!==e.control}},{key:"render",value:function(){var e=this.props.control;return e.hidden?null:(0,y.jsx)(Qb,Vb(Vb({},this.props),{},{options:e,update:this.updateNodeField}))}}])&&Xb(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Wb;rv.propTypes={},rv.defaultProps={};const ov=rv;function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}var av;function lv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uv(e,t){return uv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uv(e,t)}function pv(e,t){if(t&&("object"===iv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fv(e)}function fv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dv(e)}function hv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yv=Ta.Z.Panel,mv={updateNodeField:ke},bv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),mv)(av=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&uv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dv(r);if(o){var n=dv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pv(this,e)});function a(){var e;sv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hv(fv(e=i.call.apply(i,[this].concat(n))),"sortable",null),hv(fv(e),"state",{activeKey:null}),e}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;window.qxUIkit.util.on(".qx-sortable","moved",(function(t){e.sortGroups(t)})),console.log("remount")}},{key:"componentDidUpdate",value:function(e,t,n){if(this.sortable){var r=this.sortable.children().toArray().sort((function(e,t){var n=+e.getAttribute("data-index"),r=+t.getAttribute("data-index");return n>r?1:n<r?-1:0}));this.sortable.html(r),this.sortable=null}}},{key:"sortGroups",value:function(e){var t=this;console.log("Set groups called"),this.sortable=jQuery(e.target);var n=this.sortable.children().map((function(e,t){return t.getAttribute("data-index")})).toArray().map((function(e){return t.props.form[e]}));this.props.updateNodeField(this.props.nodePath,this.props.path,n)}},{key:"activateTab",value:function(e){e===this.state.activeKey&&(e=null),this.setState({activeKey:e})}},{key:"handleCopyClick",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=this.props,r=n.form,o=n.nodePath,i=n.path,a=n.updateNodeField,l=Mn(r[e]);l.title="".concat(l.title," (copy)"),a(o,i,Sn(r,e+1,l))}},{key:"handleDeleteClick",value:function(e,t){t.stopPropagation(),t.preventDefault();var n=this.props,r=n.form,o=n.nodePath,i=n.path,a=n.updateNodeField;if(1!==r.length){var l=function(e,t){var n=e.slice(0,+t),r=e.slice(+t+1);return[].concat(Vt(n),Vt(r))}(r,e);a(o,i,l)}else m.error("You can't remove the last item")}},{key:"renderGroup",value:function(e,t){var n,r,o=this.props,i=o.path,a=o.removeGroup,l=o.copyGroup,s=o.form,u=null===(n=s[t])||void 0===n?void 0:n[Object.keys(s[t])[0]],f=(0,y.jsxs)("div",{className:"qx-repeater-controls qx-transition-slide-right-small qx-position-right",children:[(0,y.jsx)(c.default,{title:"Duplicate",children:(0,y.jsx)(p.default,{type:"text",onClick:this.handleCopyClick.bind(this,t),children:(0,y.jsx)("i",{className:"qxuicon-clone"})})}),(0,y.jsx)(c.default,{title:"Delete",children:(0,y.jsx)(p.default,{type:"text",onClick:this.handleDeleteClick.bind(this,t),children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})})})]}),d=(0,y.jsxs)("div",{className:"qx-transition-toggle qx-position-relative qx-overflow-hidden",children:[(0,y.jsx)("div",{className:"qx-text-truncate",children:u}),f]});return i=[].concat(function(e){if(Array.isArray(e))return lv(e)}(r=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return lv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lv(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]),(0,y.jsx)(yv,{index:t,header:d,showArrow:!1,children:(0,y.jsx)(rg,{index:t,path:i,control:e,fields:e,form:s[t],copyGroup:l,removeGroup:a})},i.join())}},{key:"render",value:function(){var e=this,t=this.props.groups.map((function(t,n){return e.renderGroup(t,n)}));return(0,y.jsx)(Ta.Z,{accordion:!0,className:"qx-background-default qx-sortable","qx-sortable":"handle: .qx-drag",children:t})}}],n&&cv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||av;bv.propTypes={groups:Hl().array.isRequired,path:Hl().array.isRequired};const vv=bv;function gv(e){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(e)}var xv;function jv(e){return function(e){if(Array.isArray(e))return wv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wv(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ov(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sv(e,t){return Sv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sv(e,t)}function Pv(e,t){if(t&&("object"===gv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qv(e)}function qv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cv(e){return Cv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cv(e)}function kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv={updateNodeField:ke},Rv=(0,v.$j)((function(e){return{nodePath:e.form.path}}),Nv)(xv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Sv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cv(r);if(o){var n=Cv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pv(this,e)});function a(){var e;Ov(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kv(qv(e=i.call.apply(i,[this].concat(n))),"handleAddNewGroup",(function(){var t=e.props,n=t.control,r=t.form,o=t.nodePath,i=t.path,a=t.updateNodeField,l=In(n);a(o,i,[].concat(jv(r),[l[0]]))})),kv(qv(e),"getMappedGroupForForm",(function(){var t=e.props,n=t.control.value,r=t.form,o=Mn(n[0]);return r.map((function(){return o}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.form,r=this.getMappedGroupForForm();return(0,y.jsxs)("div",{className:"qx-fb-group-repeater",children:[(0,y.jsx)(vv,{groups:r,path:t,form:n}),(0,y.jsx)(c.default,{title:"Add Item",children:(0,y.jsx)(p.default,{type:"primary",shape:"circle",className:"qx-margin-small-top qx-margin-auto qx-display-block",style:{fontSize:"10px"},onClick:this.handleAddNewGroup,children:(0,y.jsx)("i",{className:"qxuicon-plus"})})})]})}}])&&_v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||xv;Rv.propTypes={control:Hl().object.isRequired,path:Hl().array.isRequired};const Ev=Rv;function Tv(e){return Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(e)}function Dv(e){return function(e){if(Array.isArray(e))return Av(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Av(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lv(e,t){return Lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lv(e,t)}function Bv(e,t){if(t&&("object"===Tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uv(e)}function Uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fv(e)}function zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Lv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fv(r);if(o){var n=Fv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bv(this,e)});function a(){var e;Iv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zv(Uv(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),zv(Uv(e),"renderField",(function(e,t,n,r){return(0,y.jsx)(a,{index:t,className:"row",control:e,form:r[e.name],path:[].concat(Dv(n),[e.name])},t)})),e}return t=a,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.control,r=t.path,o=t.form,i=n.ref,a=n.type;return 0===(null==n?void 0:n.schema.length)&&(void 0!==o?n.value=Mn(o):"object"===Tv(n.value)&&(n.value=Mn(n.value))),"group-repeater"===a?(0,y.jsx)(Ev,{path:r,control:n,form:o},i):"fields-group"===a?n.value.map((function(t,n){return e.renderField(t,n,r,o)})):(0,y.jsx)(ov,{hidden:n.hidden,control:n,path:r},i)}}],n&&Mv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);zv(Hv,"propTypes",{control:Hl().object.isRequired,path:Hl().array.isRequired});const Qv=Hv;function Jv(e){return Jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(e)}function Wv(e){return function(e){if(Array.isArray(e))return $v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xv(e,t){return Xv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xv(e,t)}function Zv(e,t){if(t&&("object"===Jv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yv(e)}function Yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kv(e)}function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tg=Ta.Z.Panel,ng=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Xv(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Kv(r);if(o){var n=Kv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Zv(this,e)});function a(){var e;Vv(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eg(Yv(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),eg(Yv(e),"renderComponent",(function(t,n){var r=e.props,o=r.path,i=r.form,a=[].concat(Wv(o),[t.name]),l=[].concat(Wv(a),[n]).join(","),s=(0,y.jsx)(Qv,{control:t,form:i[t.name],index:n,path:a},l);return 1===o.length?(0,y.jsx)(tg,{header:t.label,children:s},l):s})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.fields,n=e.path;return 1===n.length?(0,y.jsx)(Ta.Z,{defaultActiveKey:[[].concat(Wv(n),[t[0].name,0]).join(",")],default:!0,accordion:!0,ghost:!0,expandIconPosition:"right",children:t.map(this.renderComponent)}):(0,y.jsx)(y.Fragment,{children:t.map(this.renderComponent)})}}])&&Gv(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ng.propTypes={path:Hl().array.isRequired};const rg=ng;function og(e){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(e)}var ig;function ag(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ag(Object(n),!0).forEach((function(t){hg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ag(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ug(e,t){return ug=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ug(e,t)}function pg(e,t){if(t&&("object"===og(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fg(e)}function fg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dg(e)}function hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yg=ti.default.TabPane,mg={hideFormModal:function(){return{type:ge,payload:{node:null,path:null}}},replaceNode:Ie};const bg=(0,v.$j)((function(e){var t=e.form,n=t.node,r=t.schema,o=t.path;return{form:null==n?void 0:n.form,node:n,path:o,schema:r}}),mg)(ig=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ug(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dg(r);if(o){var n=dg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pg(this,e)});function a(){var e;sg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hg(fg(e=i.call.apply(i,[this].concat(n))),"state",{active:"general",show:!0,id:Ln("qx")}),hg(fg(e),"shouldComponentUpdate",Zr()),hg(fg(e),"handleTabClick",(function(t){e.setState({active:t})})),hg(fg(e),"handleTabChange",(function(e){window.QUIX=lg(lg({},window.QUIX||{}),{},{formTab:e})})),hg(fg(e),"handleCloseClick",(function(){e.props.isDirty&&console.log("you did not save!"),window.QUIX=lg(lg({},window.QUIX||{}),{},{formTab:null}),e.props.hideFormModal()})),hg(fg(e),"renderTabContent",(function(t,n){var r=e.props.form;return(0,y.jsx)(yg,{tab:n,"data-simplebar":!0,children:(0,y.jsx)(rg,{fields:t,path:[n],form:null==r?void 0:r[n]})},n)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){window.QUIX=lg(lg({},window.QUIX||{}),{},{formTab:"general"})}},{key:"componentDidUpdate",value:function(e,t,n){var r=Object.keys(this.props.form||{}).shift()||"general";this.state.active!==r&&this.handleTabClick(r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.show,o=n.schema||{form:{}},i=o.form,a=o.slug,l=o.name,s=Object.keys(i),c=Object.values(i);return e="section"===a||"columns"===a||"row"===a?a+"-modal ":"element-modal ",(0,y.jsx)(lo,{width:450,className:e+"qxui-modal--with-tab",dismissible:!1,show:r,close:this.handleCloseClick,title:l,style:{left:"calc(50vw - 250px)",top:"100px"},children:(0,y.jsx)(ti.default,{animated:{inkBar:!0,tabPane:!1},onChange:this.handleTabChange,children:c.map((function(e,n){return t.renderTabContent(e,s[n])}))})})}}])&&cg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||ig;function vg(e){return vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(e)}var gg;function xg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wg(e,t){return wg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wg(e,t)}function Og(e,t){if(t&&("object"===vg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _g(e)}function _g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sg(e)}function Pg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const qg=(0,v.$j)((function(e){return{visible:e.form.showForm}}),{})(gg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&wg(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sg(r);if(o){var n=Sg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Og(this,e)});function a(){var e;xg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pg(_g(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.visible;return(0,y.jsx)(bg,{show:e,isDirty:!0})}}])&&jg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||gg;n(71205);var Cg,kg=n(78740);function Ng(e){return Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(e)}function Rg(e){return function(e){if(Array.isArray(e))return Eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eg(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ag(e,t){return Ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ag(e,t)}function Ig(e,t){if(t&&("object"===Ng(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mg(e)}function Mg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lg(e)}function Bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ug={addElementNode:function(e,t){return{type:A,payload:{path:e,element:t}}},addMyElementNode:function(e,t){return{type:I,payload:{path:e,element:t}}},invokeElementPickerModal:we},Fg=(0,v.$j)((function(e){var t=e.action;return{path:t.path,index:t.index}}),Ug)(Cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ag(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lg(r);if(o){var n=Lg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ig(this,e)});function a(){var e;Tg(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bg(Mg(e=i.call.apply(i,[this].concat(n))),"handleClick",(function(){var t=e.props,n=t.element,r=t.path,o=t.index,i=t.addElementNode,a=t.addMyElementNode,l=t.invokeElementPickerModal;n.groups.includes("my elements")?a([].concat(Rg(r),[o]),n):i([].concat(Rg(r),[o]),n),l()})),Bg(Mg(e),"removeFromMyElements",(function(t){var n=t.core_id,r=t.name,o=JSON.parse(dt("MY_ELEMENTS"));if(o){var i="".concat(tt(),"/index.php?option=com_quix&task=collection.updateState&state=2&id=").concat(n,"&").concat(st(),"=1");jt().get(i).then((function(n){var i=n.data;if(!0===i.data){var a=o.filter((function(e){return e.id!==t.id}));ht("MY_ELEMENTS",JSON.stringify(a)),e.props.updateElementList(a),m.success("".concat(r," element removed"))}else m.warning(i.data)}))}})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.element,n=t.groups.includes("my elements"),r=t.thumb_file;return parseInt(JVERSION)>=4&&(r=QUIX_ROOT_URL+"media/quixnxt/images/elements/"+t.slug+".svg"),n?(0,y.jsxs)("div",{className:"my-element",children:[(0,y.jsxs)(kg.Z,{onClick:this.handleClick,prefixCls:"qxui-card",children:[(0,y.jsx)("img",{className:"qx-fb-elements__icon",src:r,alt:t.name}),(0,y.jsx)("span",{className:"qx-fb-elements__name",children:t.name})]}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.removeFromMyElements(t)},className:"qx-fb-elements__remove qx-btn qx-btn-light",title:"Delete",children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})})]}):(0,y.jsxs)(kg.Z,{onClick:this.handleClick,prefixCls:"qxui-card",children:[(0,y.jsx)("img",{className:"qx-fb-elements__icon",src:r,alt:t.name}),(0,y.jsx)("span",{className:"qx-fb-elements__name",children:t.name})]})}}])&&Dg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Cg;Fg.propTypes={element:Hl().object.isRequired};const zg=Fg;function Hg(e){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hg(e)}function Qg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jg(e,t){return Jg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jg(e,t)}function Wg(e,t){if(t&&("object"===Hg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $g(e)}function $g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vg(e)}function Gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xg=ti.default.TabPane,Zg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Jg(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vg(r);if(o){var n=Vg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wg(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Gg($g(t=i.call(this,e)),"onGroupSelect",(function(e){t.setState({tab:e}),t.props.onGroupSelect(e)})),Gg($g(t),"renderElement",(function(e,n){return(0,y.jsx)(zg,{element:e,updateElementList:t.props.updateElementList},e.slug+n)})),Gg($g(t),"renderElements",(function(e){return t.props.elements.length?(0,y.jsx)("div",{className:"qx-fb-elements ".concat(e.toLowerCase()),children:t.props.elements.map(t.renderElement)}):(0,y.jsx)("div",{className:"qx-alert",children:"No matching element found."})})),Gg($g(t),"renderGroup",(function(e){return(0,y.jsxs)(Xg,{tab:e,children:[t.renderElements(e)," "]},e)})),t.state={tab:"All"},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.groups;return t=["All"].concat(t),(0,y.jsx)(ti.default,{animated:{inkBar:!0,tabPane:!1},defaultActiveKey:this.state.tab,onChange:function(t){return e.onGroupSelect(t)},prefixCls:"qxui-tabs",children:t.map(this.renderGroup)})}}])&&Qg(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);Zg.propTypes={onGroupSelect:Hl().func.isRequired},Zg.defaultProps={};const Yg=Zg;function Kg(e){return Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(e)}function ex(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nx(e,t){return nx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nx(e,t)}function rx(e,t){if(t&&("object"===Kg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ox(e)}var ix=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&nx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ox(r);if(o){var n=ox(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rx(this,e)});function a(){return ex(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.onSearch,n=e.groups,r=e.context,o=e.onGroupSelect;return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"elements-list-search",children:(0,y.jsx)(So.default,{onChange:function(e){return t(e.target.value)},placeholder:r||"Search Element...",value:r,id:"search-elements",onReset:function(){return t("")}})}),(0,y.jsx)(Yg,{groups:n,elements:this.props.elements,onGroupSelect:o,updateElementList:this.props.updateElementList})]})}}])&&tx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);ix.propTypes={groups:Hl().array.isRequired,context:Hl().string,onSearch:Hl().func.isRequired},ix.defaultProps={};const ax=ix;function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}var sx;function cx(e){return function(e){if(Array.isArray(e))return ux(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ux(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ux(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ux(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function px(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dx(e,t){return dx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dx(e,t)}function hx(e,t){if(t&&("object"===lx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yx(e)}function yx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mx(e)}function bx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vx=At(),gx={invokeElementPickerModal:we},xx=(0,v.$j)((function(e){return{visible:e.action.action===fe}}),gx)(sx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&dx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mx(r);if(o){var n=mx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hx(this,e)});function a(){var e;px(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bx(yx(e=i.call.apply(i,[this].concat(n))),"state",{groups:[],elements:[],group:"all",context:"",filteredElements:[],url:"".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&type=element&details=true&").concat(ar,"=1")}),bx(yx(e),"loadMyElements",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&yt("MY_ELEMENTS");var n=JSON.parse(dt("MY_ELEMENTS"))||[];n.length?e.updateElementList(n):jt().get(e.state.url).then((function(t){if(t.data){var r=t.data;n=r.map((function(e){var t,n=JSON.parse(e.data).data[0];return n.core_id=e.id,n.name=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:e.title,n.builder_version=e.builder_version,n})),ht("MY_ELEMENTS",JSON.stringify(n)),e.updateElementList(n)}else ht("MY_ELEMENTS",JSON.stringify([]))}))})),bx(yx(e),"updateElementList",(function(t){if(t.length){vx=At();for(var n=function(e){var n=vx.find((function(n){return n.slug===t[e].slug}));t[e].groups=["my elements"],t[e].type=n.type,t[e].thumb_file=n.thumb_file,vx.push(t[e])},r=0;r<t.length;r++)n(r)}else vx=At();e.filterSetElements({elements:vx})})),bx(yx(e),"filterElementByType",(function(e,t){return("all"===t||e.groups.includes(t))&&(!e.type||lr&&("core"===e.type||e.type===lr))})),bx(yx(e),"handleSearch",(function(t){e.filterSetElements({context:t})})),bx(yx(e),"handleGroupSelect",(function(t){e.filterSetElements({group:t.toLowerCase()})})),bx(yx(e),"filterSetElements",(function(t){var n=t.context,r=void 0===n?e.state.context:n,o=t.group,i=void 0===o?e.state.group:o,a=t.elements,l=void 0===a?e.state.elements:a,s=t.groups,c=void 0===s?e.state.groups:s,u=cx(l).filter((function(t){return e.filterElementByType(t,i)})).filter((function(e){return"section"!==e.slug&&"row"!==e.slug})).filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())}));0===c.length&&(c=u.flatMap((function(e){return e.groups})).filter((function(e,t,n){return n.indexOf(e)===t})).sort()),e.setState({filteredElements:u,group:i,context:r,elements:l,groups:c})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.loadMyElements()}},{key:"componentDidUpdate",value:function(){null===dt("MY_ELEMENTS")&&this.loadMyElements()}},{key:"render",value:function(){var e=this,t=this.state.context;return(0,y.jsx)(lo,{dismissible:!1,show:this.props.visible,close:function(){return e.props.invokeElementPickerModal()},closable:!1,footer:!1,width:520,className:"qxui-modal--with-tab qxui-modal--elements",style:{left:"calc(50vw - 260px)"},title:(0,y.jsx)("h4",{className:"qxui-modal-title",children:"Elements List"}),children:(0,y.jsx)(ax,{elements:this.state.filteredElements,groups:this.state.groups,context:t,onGroupSelect:this.handleGroupSelect,onSearch:this.handleSearch,updateElementList:this.updateElementList})})}}])&&fx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||sx;const jx=xx;var wx=n(9291),Ox=n.n(wx),_x=n(29288);function Sx(e){return Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(e)}function Px(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cx(e,t){return Cx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cx(e,t)}function kx(e,t){if(t&&("object"===Sx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nx(e)}const Rx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Cx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nx(r);if(o){var n=Nx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kx(this,e)});function a(){return Px(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)("div",{className:"qx-position-cover qx-overlay qx-flex qx-flex-center qx-flex-middle qx-height-large",children:(0,y.jsx)("div",{role:"progressbar",mode:"indeterminate",className:"mat-spinner mat-progress-spinner mat-primary mat-progress-spinner-indeterminate-animation",style:{width:"100px",height:"100px"},children:(0,y.jsx)("svg",{preserveAspectRatio:"xMidYMid meet",focusable:"false",viewBox:"0 0 100 100",style:{width:"100px",height:"100px"},children:(0,y.jsx)("circle",{cx:"50%",cy:"50%",r:"45",className:"ng-star-inserted",style:{animationName:"mat-progress-spinner-stroke-rotate-100",strokeDasharray:"282.743px",strokeWidth:"10%"}})})})})}}])&&qx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);function Ex(e){return Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(e)}var Tx;function Dx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ax(e,t){return Ax=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ax(e,t)}function Ix(e,t){if(t&&("object"===Ex(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mx(e)}function Mx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lx(e)}function Bx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ux=Ea.default.Option,Fx=null,zx={insertNodes:Ne},Hx=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),zx)(Tx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ax(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lx(r);if(o){var n=Lx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ix(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Bx(Mx(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-page-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&&min_version=2.0.0")).then((function(e){e.data.items?(t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:e.data.itemTags}),ht("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags})):t.setState({loading:!1,error:!0})}));else{var n=dt("qx-page-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),Bx(Mx(t),"handleSearchTerm",(function(e){if(_t(e))t.setState({items:t.state.originItems});else if(!(e.length<3)){var n=new _x.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),Bx(Mx(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),Bx(Mx(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Ox()(t.state.originItems,(function(n){if(n.tags){var r=Qh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),Bx(Mx(t),"insert",(function(e){os(Mx(t),e)})),Bx(Mx(t),"goToPreviewPage",(function(e){null===Fx?Fx=window.open("https://getquix.net"+e):Fx.location.href="https://getquix.net"+e})),Bx(Mx(t),"renderPageTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("button",{onClick:t.insert.bind(Mx(t),e.id),className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]});return n&&"free"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-external-link qx-margin-right"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-lock qx-margin-right"})," Locked"]})),(0,y.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",style:{height:"381px"},children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{src:Ct(e.images),alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-mb-2 qx-mt-2 qx-text-dark",children:e.title}),(0,y.jsxs)("div",{className:"qx-btn-group qx-flex",children:[(0,y.jsxs)("button",{onClick:t.goToPreviewPage.bind(Mx(t),e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-eye"})," Preview"]}),o]})]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,y.jsxs)(Ea.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Ux,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(Ux,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(Di,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),(0,y.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsx)("div",{id:"pageTemplateWrapper",className:"qx-background-default qx-padding",children:(0,y.jsxs)("div",{className:"qx-grid","data-qx-grid":"",children:[this.state.error?t:null,console.log(this.state.items),this.state.items.map(this.renderPageTemplate)]})})})]})}}])&&Dx(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Tx;const Qx=Hx;function Jx(e){return Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(e)}var Wx;function $x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vx(e,t){return Vx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vx(e,t)}function Gx(e,t){if(t&&("object"===Jx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xx(e)}function Xx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zx(e)}function Yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kx=Ea.default.Option,ej=null,tj={insertNodes:Ne},nj=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),tj)(Wx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Vx(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zx(r);if(o){var n=Zx(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Gx(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Yx(Xx(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.setState({loading:!0});var n=dt("qx-page-template");if(!e&&n&&null!=n&&n.items&&null!=n&&n.layoutCategory){var r=t.prepareGroupBundle(n.items,n.layoutCategory),o=t.getItemsCategory(n.items,n.layoutCategory);t.setState({loading:!1,items:r,itemsCategory:o,originItems:n.items,itemTags:n.itemTags,layoutCategory:n.layoutCategory})}else jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=layout&min_version=2.0.0")).then((function(e){if(e.data.items){var n,r,o=t.prepareGroupBundle(e.data.items,e.data.layout_category);t.getItemsCategory(e.data.items,e.data.layout_category),t.setState({loading:!1,error:!1,items:o,itemsCategory:o,originItems:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(n=e.data)||void 0===n?void 0:n.layout_category}),ht("qx-page-template",{items:e.data.items,itemTags:e.data.itemTags,layoutCategory:null===(r=e.data)||void 0===r?void 0:r.layout_category})}else t.setState({loading:!1,error:!0})}))})),Yx(Xx(t),"prepareGroupBundle",(function(e,t){var n={};return e.filter((function(e){return e.parent_category===t.id})).forEach((function(e){if(void 0===n[e.catid]){var t={id:e.catid,title:e.category_title,alias:e.category_alias,preview:"",items:[]};n[e.catid]=t}"1"===e.featured&&(n[e.catid].preview=e.images),n[e.catid].items.push(e)})),Object.values(n)})),Yx(Xx(t),"getItemsCategory",(function(e,t){var n={};return e.filter((function(e){return e.parent_category===t.id})).forEach((function(e){if(void 0===n[e.catid]){var t={id:e.catid,title:e.category_title,alias:e.category_alias};n[e.catid]=t}})),Object.values(n)})),Yx(Xx(t),"handleSearchTerm",(function(e){var n=new _x.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title"]}).search(e);_t(e)?t.setState({items:t.state.originItems,category:"all"}):t.setState({items:n,category:"all"})})),Yx(Xx(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),Yx(Xx(t),"onCategoryChange",(function(e){var n;n=t.prepareGroupBundle(t.state.originItems,t.state.layoutCategory),"all"===e||_t(e)||(n=Ox()(n,(function(t){if(e===t.alias)return t}))),t.setState({items:n,category:e})})),Yx(Xx(t),"insert",(function(e){os(Xx(t),e)})),Yx(Xx(t),"goToPreviewPage",(function(e){null===ej?ej=window.open("https://getquix.net"+e):ej.location.href="https://getquix.net"+e})),Yx(Xx(t),"renderLayoutClick",(function(e){t.setState({showLayoutItem:e})})),Yx(Xx(t),"renderLayout",(function(e,n){var r;if(e.items)return(0,y.jsx)("div",{className:"qx-margin-bottom",style:{height:"381px"},onClick:function(){return t.renderLayoutClick(e)},children:(0,y.jsxs)("div",{className:"qx-bundle-layouts-item qx-fb-template-item qx-fb-template-item--page",children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:e.preview?(0,y.jsx)("img",{src:e.preview,alt:"preview"}):(0,y.jsx)("img",{src:"https://quix.b-cdn.net/images/sample.png",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-mt-2",children:e.title}),(0,y.jsxs)("span",{className:"qx-display-block qx-text-center qx-text-muted",children:[null==e||null===(r=e.items)||void 0===r?void 0:r.length," Layouts"]})]})]})},e.id)})),Yx(Xx(t),"renderActiveLayout",(function(){var e=t.state.showLayoutItem;return(0,y.jsxs)("div",{className:"qx-container-fluid",children:[(0,y.jsxs)("h3",{className:"qx-margin-bottom",style:{marginTop:"-10px"},children:[e.title,(0,y.jsx)("button",{type:"button",className:"qxui-btn qx-align-right",onClick:function(){t.setState({showLayoutItem:!1})},children:(0,y.jsx)("i",{className:"qxuicon-arrow-left"})})]}),(0,y.jsx)("div",{className:"qx-grid qx-child-width-1-3","qx-grid":"true",children:e.items.map((function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--page qx-box-shadow-small qx-box-shadow-hover-large",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("button",{onClick:function(){return t.insert(e.id)},className:"qx-button qx-button-small qx-button-primary qx-btn--insert qx-width-1-2",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]});return n&&"free"===t.state.is_pro_user?o=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-external-link qx-margin-small-right"})," Go Pro"]}):n&&"inactive"===t.state.is_pro_user&&(o=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-button qx-button-small qx-button-danger qx-fb-template-action qx-btn--gopro qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-lock qx-margin-small-right"})," Locked"]})),(0,y.jsx)("div",{className:"qx-width-1-3@m qx-width-1-2@s",children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-text-center",children:(0,y.jsx)("img",{src:Ct(e.images),alt:"preview",width:"288",height:"311"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer",children:[(0,y.jsx)("span",{className:"qx-fb-template-name qx-text-muted",children:e.title}),(0,y.jsxs)("div",{className:"qx-flex",children:[(0,y.jsxs)("button",{onClick:t.goToPreviewPage.bind(Xx(t),e.previewurl),className:"qx-button qx-button-small qx-button-secondary qx-btn--preview qx-width-1-2 qx-flex qx-flex-middle",children:[(0,y.jsx)("i",{className:"qxuicon-eye qx-margin-small-right"}),"Preview"]}),o]})]})]})},e.id)}))})]})})),t.state={items:[],itemsCategory:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free",layoutCategory:{id:0},showLayoutItem:!1},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid qx-cover-container",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 ",children:(0,y.jsxs)(Ea.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(Kx,{value:"all",children:"All"},"all"),this.state.itemsCategory.map((function(e){return(0,y.jsx)(Kx,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsx)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsxs)("button",{className:"qxui-btn qx-mr-2",onClick:function(){e.loadData(!0)},children:[(0,y.jsx)("i",{className:"qxio-refresh"})," Reload List"]})})})]}),(0,y.jsx)("div",{className:"qx-fb-template__body",children:this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsxs)("div",{id:"layoutTemplateWrapper",className:"qx-position-relative qx-background-default qx-padding",children:[(0,y.jsxs)("div",{className:"qx-grid qx-child-width-1-3@m qx-child-width-1-2@s ","qx-grid":"true",style:{display:this.state.showLayoutItem?"none":"flex"},children:[this.state.error?t:null,this.state.items.map(this.renderLayout)]}),(0,y.jsx)("div",{id:"layouts-all-items",style:{display:this.state.showLayoutItem?"block":"none"},children:this.state.showLayoutItem?this.renderActiveLayout():null})]})})]})}}])&&$x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Wx;const rj=nj;var oj,ij=n(47253),aj=n.n(ij);function lj(e){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lj(e)}function sj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cj(e,t){return cj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cj(e,t)}function uj(e,t){if(t&&("object"===lj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pj(e)}function pj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fj(e){return fj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fj(e)}function dj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hj=Ea.default.Option,yj={insertNodes:Ne},mj=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),yj)(oj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&cj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fj(r);if(o){var n=fj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return uj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),dj(pj(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-section-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=section&min_version=2.0.0")).then((function(e){if(e.data.items){var n=aj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-section-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-section-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),dj(pj(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new _x.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),dj(pj(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),dj(pj(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Ox()(t.state.originItems,(function(n){if(n.tags){var r=Qh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),dj(pj(t),"insert",(function(e){os(pj(t),e)})),dj(pj(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(Ea.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(hj,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(hj,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(Di,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&sj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||oj;const bj=mj;n(39909);var vj=n(62435);function gj(e){return gj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gj(e)}function xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jj(e,t){return jj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jj(e,t)}function wj(e,t){if(t&&("object"===gj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oj(e)}function Oj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_j(e)}function Sj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&jj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_j(r);if(o){var n=_j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Sj(Oj(t=i.call(this,e)),"handleChange",(function(e){var n=e.target.value;t.setState({value:n})})),Sj(Oj(t),"check",(function(){t.setState({editable:!1}),t.props.onChange&&t.props.onChange(t.state.value)})),Sj(Oj(t),"edit",(function(){t.setState({editable:!0})})),t.state={value:t.props.value,editable:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this.state,t=e.value,n=e.editable;return(0,y.jsx)("div",{className:"editable-cell",children:n?(0,y.jsxs)("div",{className:"editable-cell-input-wrapper",children:[(0,y.jsx)(So.default,{value:t,onChange:this.handleChange,onPressEnter:this.check}),(0,y.jsx)("i",{className:"qxuicon-check editable-cell-icon-check",onClick:this.check})]}):(0,y.jsxs)("div",{className:"editable-cell-text-wrapper",children:[t||" ",(0,y.jsx)("i",{className:"qxuicon-edit editable-cell-icon",onClick:this.edit})]})})}}])&&xj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component);var qj;function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(n),!0).forEach((function(t){Ij(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nj(e){return Nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nj(e)}function Rj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ej(e,t){return Ej=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ej(e,t)}function Tj(e,t){if(t&&("object"===Nj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dj(e)}function Dj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Aj(e){return Aj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Aj(e)}function Ij(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mj=$r.Z.Dragger,Lj=(0,v.$j)((function(e){return{action:e.action.action}}),{})(qj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Ej(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Aj(r);if(o){var n=Aj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Tj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ij(Dj(t=i.call(this,e)),"onFileUploadDone",(function(e){Vr(e,["json"]).then((function(e){var n,r=JSON.parse(e),o={type:r.type,data:r.data},i=jQuery("#jform_token").attr("name"),a=new FormData;a.set("jform[data]",JSON.stringify(o)),a.set("jform[title]",r.title),a.set("jform[builder]","frontend"),a.set("jform[type]",r.type),a.set("jform[state]","1"),a.set("jform[id]","0"),a.set("builder_version",null!==(n=r.builder_version)&&void 0!==n?n:"2.0.0"),a.set("importing",1),a.set("type","collection"),a.set(i,"1"),jt()({method:"post",url:quix.url+"/index.php?option=com_quix&task=collection.save",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){var n=e.data;"object"==Nj(n)?(n.success?m.success("Imported successfully!"):m.warning(n.message),t.props.onImportDone(o)):m.error(n)})).catch((function(){return t.setState({process:!1})}))}))})),t}return t=a,(n=[{key:"render",value:function(){var e=this,t={data:this.onFileUploadDone};return(0,y.jsx)(lo,{width:550,classes:"quix-library-importer",show:this.props.show,close:function(){return e.props.onClose()},title:"Import To Library",footer:!1,expandable:!1,style:{left:"calc(50vw - 225px)"},onCancel:function(){return e.props.onClose()},closeModal:function(){return e.props.onClose()},children:(0,y.jsxs)(Mj,kj(kj({},t),{},{children:[(0,y.jsx)("p",{children:(0,y.jsx)("i",{className:"qxuicon-box-full qx-text-primary qx-text-large"})}),(0,y.jsx)("h5",{className:"qx-margin-small-top qx-margin-small-bottom",children:"Import Template To Library"}),(0,y.jsxs)("p",{children:["Click or drag ",(0,y.jsx)("em",{children:".json"})," file to this area to upload"]})]}))})}}])&&Rj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||qj;const Bj=Lj;var Uj;function Fj(e){return Fj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(e)}function zj(e){return function(e){if(Array.isArray(e))return Hj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hj(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jj(e,t){return Jj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jj(e,t)}function Wj(e,t){if(t&&("object"===Fj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $j(e)}function $j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vj(e)}function Gj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xj=null,Zj={insertNodes:Ne},Yj=(0,v.$j)((function(e){var t=e.action;return{action:t.action,sectionPath:t.path}}),Zj)(Uj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Jj(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vj(r);if(o){var n=Vj(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wj(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Gj($j(t=i.call(this,e)),"loadData",(function(e){jt().get(e).then((function(e){var n=Qh()(e.data,(function(e){return e.type="layout"===e.type.toLowerCase()?"page":e.type,e}));t.setState({loadingDone:!0,data:n,originData:n,reloadData:!1})}))})),Gj($j(t),"preview",(function(e){null===Xj?Xj=window.open("index.php?option=com_quix&view=collection&id=".concat(e)):Xj.location.href="index.php?option=com_quix&view=collection&id=".concat(e)})),Gj($j(t),"onCellChange",(function(e,n){return function(r){var o=zj(t.state.originData),i=o.find((function(t){return t.key===e}));i&&(i[n]=r,t.setState({data:o,originData:o}),jt().get(t.updateNameApi+"&name=".concat(i.title,"&id=").concat(i.id)).then((function(){m.success("Template name updated")})))}})),Gj($j(t),"onDelete",(function(e){var n=zj(t.state.originData).filter((function(t){return t.id!==e}));t.setState({originData:n,data:n}),jt().get(t.templateDeleteApi+"&id=".concat(e)).then((function(){m.success("Template deleted")}))})),Gj($j(t),"handleFilterChange",(function(e){var n;n="all"===e?t.state.originData:Ox()(t.state.originData,(function(t){if(t.type===e)return t})),t.setState({filterBy:e,data:n})})),Gj($j(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({data:t.state.originData}),!(e.length<3)){var n=new _x.Z(t.state.originData,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["title"]}).search(e).map((function(e){return e.item}));t.setState({data:n})}})),Gj($j(t),"insert",(function(e){t.setState({loading:!0}),jt().get("".concat(t.getTemplate,"&id=").concat(e)).then((function(e){var n=JSON.parse(e.data.data);if(void 0===Fj(n)||!n.data)return m.warning("[ ".concat(e.data.title," ] is an empty section. Can't process the request.")),void t.setState({loading:!1});if("layout"===n.type)t.props.insertNodes(t.props.sectionPath,n.data),t.setState({loading:!1}),m.success("[ ".concat(e.data.title," ] template inserted"));else{var r=n.data;Array.isArray(r)||(r=[r]),t.props.insertNodes(t.props.sectionPath,zj(r)),t.setState({loading:!1}),m.success("[ ".concat(e.data.title," ] template inserted"))}}))})),Gj($j(t),"importModal",(function(){t.setState({showImportModal:!0})})),Gj($j(t),"onExport",(function(e,n){jt().get(t.exportApi+"&id=".concat(e)).then((function(e){var t,r="".concat(n,".json"),o=JSON.parse(e.data.data.config),i={groups:[],title:n,type:o.type,builder_version:null!==(t=o.builder_version)&&void 0!==t?t:"2.0.0",data:o.data};Na(JSON.stringify(i),r,"application/json")}))})),Gj($j(t),"onClose",(function(){t.props.closeModal&&t.props.closeModal()})),t.token=st(),t.url="".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1"),t.getTemplate="".concat(tt(),"/index.php?option=com_quix&task=api.getTemplate&").concat(t.token,"=1"),t.updateNameApi="".concat(tt(),"/index.php?option=com_quix&task=collection.updateName&").concat(t.token,"=1"),t.templateDeleteApi="".concat(tt(),"/index.php?option=com_quix&task=collection.updateState&state=2&").concat(t.token,"=1"),t.exportApi="".concat(tt(),"/index.php?option=com_quix&task=api.exportCollection&").concat(t.token,"=1"),t.state={loadingDone:!1,filter:"all",data:[],originData:[],columns:[{title:"Title",dataIndex:"title",key:"title",render:function(e,n){return(0,y.jsx)(Pj,{value:e,onChange:t.onCellChange(n.key,"title")})}},{title:"Type",dataIndex:"type",key:"type",render:function(e){return"page"===e||"section"===e||"layout"===e?(0,y.jsx)("span",{className:"label",children:e}):(0,y.jsx)("span",{className:"label label-warning",children:e})}},{title:"Created By",dataIndex:"created_by",key:"created_by"},{title:"Action",key:"action",render:function(e,n){return(0,y.jsxs)("span",{children:[(0,y.jsxs)("button",{type:"button",onClick:function(){return t.insert(n.id)},className:"qxui-btn qxui-btn-default",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),(0,y.jsxs)("div",{className:"qxui-btn-group qx-float-right",children:[(0,y.jsx)("button",{type:"button",onClick:function(){return t.onDelete(n.id)},className:"qxui-btn qxui-btn-default",title:"Delete",children:(0,y.jsx)("i",{className:"qxuicon-trash-alt"})}),(0,y.jsx)("button",{type:"button",onClick:function(){return t.onExport(n.id,n.title)},className:"qxui-btn qxui-btn-default",title:"Export",children:(0,y.jsx)("i",{className:"qxuicon-sign-out"})})]})]})}}],showImportModal:!1,reloadData:!1},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.loadData(this.url)}},{key:"componentDidUpdate",value:function(e,t,n){this.state.reloadData&&this.loadData(this.url)}},{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid my-templates-list",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-flex qx-flex-between",children:[(0,y.jsx)("div",{className:"qx-column",children:(0,y.jsxs)("div",{className:"qxui-btn-group",role:"group","aria-label":"Basic example",children:[(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("all")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"all"===this.state.filter}),children:"All"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("section")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"section"===this.state.filter}),children:"Section"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("page")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"page"===this.state.filter}),children:"Page"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("header")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"header"===this.state.filter}),children:"Header"}),(0,y.jsx)("button",{type:"button",onClick:function(){return e.handleFilterChange("footer")},className:Ve()("qxui-btn qxui-btn-default",{"qx-active":"footer"===this.state.filter}),children:"Footer"})]})}),(0,y.jsxs)("div",{className:"qx-column",children:[(0,y.jsx)(p.default,{type:"button",className:"qxui-btn qxui-btn-link",onClick:function(){e.setState({reloadData:!0})},children:(0,y.jsx)("i",{className:"qxio-ios-reload"})}),(0,y.jsx)(p.default,{disabled:!this.state.loadingDone,onClick:this.importModal,className:"qxui-btn qxui-btn-primary qx-margin-small-right",children:(0,y.jsx)("i",{className:"qxuicon-upload"})}),(0,y.jsx)(Di,{placeholder:"Search",onlyBaseText:!0,onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsx)("div",{className:"qx-template__list",children:(0,y.jsx)(vj.Z,{pagination:!1,rowKey:function(e){return e.id},columns:this.state.columns,dataSource:this.state.data,prefixCls:"qxui-table",className:"qx-padding"})}),(0,y.jsx)(Bj,{show:this.state.showImportModal,onClose:function(){return e.setState({showImportModal:!1})},onImportDone:function(){return e.setState({showImportModal:!1,reloadData:!0})}})]})}}])&&Qj(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Uj;const Kj=Yj;function ew(e){return ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(e)}var tw;function nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rw(e,t){return rw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rw(e,t)}function ow(e,t){if(t&&("object"===ew(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iw(e)}function iw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},aw(e)}function lw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sw=Ea.default.Option,cw={insertNodes:Ne},uw=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),cw)(tw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&rw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=aw(r);if(o){var n=aw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ow(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lw(iw(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-header-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=header&min_version=4.0.0")).then((function(e){if(e.data.items){var n=aj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-header-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-header-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),lw(iw(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new _x.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),lw(iw(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),lw(iw(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Ox()(t.state.originItems,(function(n){if(n.tags){var r=Qh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),lw(iw(t),"insert",(function(e){os(iw(t),e)})),lw(iw(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(Ea.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(sw,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(sw,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(Di,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&nw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||tw;const pw=uw;function fw(e){return fw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fw(e)}var dw;function hw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yw(e,t){return yw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yw(e,t)}function mw(e,t){if(t&&("object"===fw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bw(e)}function bw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vw(e)}function gw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xw=Ea.default.Option,jw={insertNodes:Ne},ww=(0,v.$j)((function(e){return{sectionPath:e.action.path}}),jw)(dw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&yw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vw(r);if(o){var n=vw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return mw(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),gw(bw(t=i.call(this,e)),"loadData",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.setState({loading:!0}),e||!dt("qx-footer-template"))jt().get("".concat(tt(),"/index.php?option=com_quix&task=api.getTemplates&").concat(t.token,"=1&source=remote&type=footer&min_version=4.0.0")).then((function(e){if(e.data.items){var n=aj()(e.data.itemTags,"title");t.setState({loading:!1,error:!1,items:e.data.items,originItems:e.data.items,itemTags:n}),ht("qx-footer-template",{items:e.data.items,itemTags:n})}else t.setState({loading:!1,error:!0})}));else{var n=dt("qx-footer-template");t.setState({loading:!1,items:n.items,originItems:n.items,itemTags:n.itemTags})}})),gw(bw(t),"handleSearchTerm",(function(e){if(_t(e)&&t.setState({items:t.state.originItems}),!(e.length<3)){var n=new _x.Z(t.state.originItems,{shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:3,keys:["title","tags"]}).search(e).map((function(e){return e.item}));t.setState({items:n})}})),gw(bw(t),"arrayContainsArray",(function(e,t){if(0===t.length)return!1;var n=!1;return t.every((function(t){return-1===e.indexOf(t)||(n=!0,!1)})),n})),gw(bw(t),"onCategoryChange",(function(e){var n;n="all"===e||_t(e)?t.state.originItems:Ox()(t.state.originItems,(function(n){if(n.tags){var r=Qh()(n.tags,(function(e){return e.alias}));if(t.arrayContainsArray(e,r))return n}})),t.setState({items:n,category:e})})),gw(bw(t),"insert",(function(e){os(bw(t),e)})),gw(bw(t),"renderSectionTemplate",(function(e){var n="true"===e.license||"pro"===e.license,r=Ve()("qx-fb-template-item qx-fb-template-item--section qx-margin",{"qx-fb-template--pro":n}),o=(0,y.jsxs)("a",{onClick:function(){return t.insert(e.id)},className:"qx-btn qx-btn-success qx-fb-template-action",children:[(0,y.jsx)("i",{className:"qxuicon-download"})," Insert"]}),i=null;return n&&"free"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:"https://www.themexpert.com/quix-pagebuilder?utm_medium=button&utm_campaign=quix-pro&utm_source=section-modal",className:"qx-btn qx-btn-warning qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Go Pro"]})),n&&"inactive"===t.state.is_pro_user&&(i=(0,y.jsxs)("a",{target:"_blank",href:it()+"administrator/index.php?option=com_quix",className:"qx-btn qx-btn-info qx-fb-template-action qx-btn--gopro",children:[(0,y.jsx)("i",{className:"qxuicon-external-link"})," Activate License"]})),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:r,children:[(0,y.jsx)("div",{className:"qx-fb-template-item__thumb",children:(0,y.jsx)("img",{className:"qx-img qx-sortable-empty",src:Ct(e.images),width:"100%",alt:"preview"})}),(0,y.jsxs)("div",{className:"qx-fb-template-item__footer qx-flex-column",children:[i||o,(0,y.jsx)("span",{className:"qx-fb-template-name",children:e.title}),i&&n?(0,y.jsxs)("span",{className:"qx-fb-template-pro qx-mark qx-text-center",children:["Available only with the ",(0,y.jsx)("strong",{children:"Quix Pro"})," active license"]}):null]})]})},e.id)})),t.state={items:[],itemTags:[],category:"all",originItems:[],loading:!1,inserting:!1,error:!1,is_pro_user:"free"},t.token=st(),t._mounted=!1,t}return t=a,(n=[{key:"componentDidMount",value:function(){this._mounted=!0,this.setState({is_pro_user:nt()}),this.loadData()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=(0,y.jsx)("div",{className:"qx-data-loading-error",children:"Please check your internet connection"});return(0,y.jsxs)("div",{className:"qx-fb-template qx-container-fluid",children:[(0,y.jsxs)("div",{className:"qx-fb-template__header qx-grid",children:[(0,y.jsx)("div",{className:"qx-column qx-width-3-5 qx-flex",children:(0,y.jsxs)(Ea.default,{disabled:this.state.loading,value:this.state.category,onChange:this.onCategoryChange,style:{width:"auto",minWidth:"200px"},showSearch:!0,allowClear:!0,autoFocus:!0,mode:"default",placeholder:"Category",prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},children:[(0,y.jsx)(xw,{value:"all",children:"All"},"all"),this.state.itemTags.map((function(e){return(0,y.jsx)(xw,{value:e.alias,children:e.title},e.alias)}))]})}),(0,y.jsxs)("div",{className:"qx-column qx-flex qx-flex-middle qx-width-2-5 qx-flex-right",children:[(0,y.jsx)(c.default,{title:"Reload",children:(0,y.jsx)("button",{className:"qxui-btn qxui-btn-link qx-mr-2",onClick:function(){e.loadData(!0)},children:(0,y.jsx)("i",{className:"qxio-refresh"})})}),(0,y.jsx)(Di,{disabled:this.state.loading,onlyBaseText:!0,placeholder:"Search",onChange:this.handleSearchTerm,prefixCls:"qxui-input-search",inputPrefixCls:"qxui-input",allowClear:!0})]})]}),"inactive"===this.state.is_pro_user?(0,y.jsxs)("p",{className:"qx-alert qx-alert-warning qx-text-center",style:{margin:"0px auto",lineHeight:1},children:["Your license is not activated. Please active your license from ",(0,y.jsx)("a",{href:it()+"administrator/index.php?option=com_quix",target:"_blank",children:"Dashboard"})]}):null,(0,y.jsxs)("div",{className:"qx-fb-template__body qx-row",children:[this.state.error?t:null,this.state.loading?(0,y.jsx)(Rx,{}):(0,y.jsx)("div",{id:"sectionTemplateWrapper",className:"qx-padding",children:this.state.items.map(this.renderSectionTemplate)})]})]})}}])&&hw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||dw;const Ow=ww;function _w(e){return _w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(e)}var Sw;function Pw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cw(e,t){return Cw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cw(e,t)}function kw(e,t){if(t&&("object"===_w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nw(e)}function Nw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rw(e)}function Ew(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tw=ti.default.TabPane,Dw={invokeTemplateModal:Pe},Aw=(0,v.$j)((function(e){return{visible:e.action.action===he}}),Dw)(Sw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Cw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rw(r);if(o){var n=Rw(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kw(this,e)});function a(){var e;Pw(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ew(Nw(e=i.call.apply(i,[this].concat(n))),"state",{tabDisabled:!1}),Ew(Nw(e),"handleCloseClick",(function(){e.props.invokeTemplateModal()})),Ew(Nw(e),"handleOpenClick",(function(){e.setState({show:!0})})),Ew(Nw(e),"onTabChange",(function(t){e.setState({tab:t}),ht("qx-template-tab",t)})),e}return t=a,(n=[{key:"render",value:function(){return(0,y.jsx)(lo,{width:"1000px",className:"qxui-modal--with-tab qxui-modal--template qxui-modal--template-collection",show:this.props.visible,title:"Load From Library",footer:!1,closable:!1,onCancel:this.handleCloseClick,onClose:this.handleCloseClick,expandable:!1,style:{left:"calc(50vw - 500px)",maxWidth:"100%",minWidth:"1000px"},children:(0,y.jsxs)(ti.default,{animated:{inkBar:!0,tabPane:!1},activeKey:this.state.tab,onChange:this.onTabChange,prefixCls:"qxui-tabs",children:[(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"Layout Bundles","data-simplebar":!0,children:(0,y.jsx)(rj,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Bundles"),(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"Pages",children:(0,y.jsx)(Qx,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Pages"),(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"Sections","data-simplebar":!0,children:(0,y.jsx)(bj,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Sections"),(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"Headers","data-simplebar":!0,children:(0,y.jsx)(pw,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Headers"),(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"Footers","data-simplebar":!0,children:(0,y.jsx)(Ow,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"Footers"),(0,y.jsx)(Tw,{disabled:this.state.tabDisabled,tab:"My Templates",children:(0,y.jsx)(Kj,{openModal:this.handleOpenClick,closeModal:this.handleCloseClick})},"My Templates")]})})}}])&&qw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Sw;const Iw=Aw;function Mw(e){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(e)}var Lw,Bw,Uw;function Fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hw(e,t){return Hw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hw(e,t)}function Qw(e,t){if(t&&("object"===Mw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jw(e)}function Jw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ww(e){return Ww=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ww(e)}function $w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vw=ti.default.TabPane,Gw=Ta.Z.Panel,Xw={invokeSEORankModal:qe},Zw=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.tab;return{visible:n===w,tab:r}}),Xw)((Uw=Bw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Hw(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ww(r);if(o){var n=Ww(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Qw(this,e)});function a(){var e;Fw(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $w(Jw(e=i.call.apply(i,[this].concat(n))),"state",{title:"",desc:"",image:"",tuser:"",appid:"",addog:"",addtw:"",imageIntroWarning:""}),$w(Jw(e),"onChange",(function(){To()})),$w(Jw(e),"updateIntroImage",(function(t){e.setState({imageIntroWarning:" "});var n="";if(t.source)n=t.source;else if(t.type&&"svg"===t.type)return e.setState({imageIntroWarning:"Please select image only!"}),!1;return ur("jform_metadata_image_intro").value=n,!0})),e}return t=a,n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){var t;e.setState({title:ur("jform_metadata_title").value}),e.setState({desc:ur("jform_metadata_desc").value}),e.setState({focusKeywords:ur("jform_metadata_focus_keywords").value}),t=ur("jform_metadata_image_intro").value?{type:"image",source:ur("jform_metadata_image_intro").value}:{type:"",source:""},e.setState({image:t}),e.setState({tuser:ur("jform_metadata_twitter_username").value}),e.setState({appid:ur("jform_metadata_fb_appid").value}),e.setState({addog:Boolean(ur("jform_metadata_addog").value)}),e.setState({addtw:Boolean(ur("jform_metadata_addtw").value)})}),100)}},{key:"render",value:function(){var e=this,t=ur("jform_type").value;return(0,y.jsx)(lo,{className:"qxui-modal--with-tab modal--small",title:"SEO settings",show:this.props.visible,close:function(){return e.props.invokeSEORankModal(!1)},style:{left:"calc(50vw - 250px)"},dismisible:!0,footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:function(){To(),e.props.invokeSEORankModal(!1)},children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Apply "]},"save")],children:"collection"===t?(0,y.jsx)(ti.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",children:(0,y.jsx)(Vw,{tab:"General",children:(0,y.jsx)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"right",children:(0,y.jsxs)(Gw,{header:"General Options",children:[(0,y.jsxs)("p",{className:"qx-alert qx-alert-info qx-small qx-p-1",children:["SEO Settings are mainly for Pages. This view will help you to understand better content quality.",(0,y.jsx)("strong",{children:"These settings will not be implemented in preview page."})]}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:function(t){e.setState({title:t}),ur("jform_metadata_title").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Ny,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:function(t){e.setState({desc:t}),ur("jform_metadata_desc").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:function(t){e.setState({focusKeywords:t}),ur("jform_metadata_focus_keywords").value=t,To()}})})]},"1")})},"general")}):(0,y.jsxs)(ti.default,{defaultActiveKey:"general",prefixCls:"qxui-tabs",children:[(0,y.jsx)(Vw,{tab:"General",children:(0,y.jsx)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"right",children:(0,y.jsxs)(Gw,{header:"General Options",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"SEO Title",name:"jform[metadata][title]",placeholder:"SEO title",value:this.state.title,id:"jform_metadata_title",onChange:function(t){e.setState({title:t}),ur("jform_metadata_title").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Ny,{label:"SEO Desc",name:"jform[metadata][desc]",rows:4,value:this.state.desc,id:"jform_metadata_desc",onChange:function(t){e.setState({desc:t}),ur("jform_metadata_desc").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"SEO Focus Keywords",name:"jform[metadata][focus_keywords]",placeholder:"SEO Focus Keywords",value:this.state.focusKeywords,id:"jform_metadata_focus_keywords",onChange:function(t){e.setState({focusKeywords:t}),ur("jform_metadata_focus_keywords").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"Twitter Username",name:"jform[metadata][twitter_username]",placeholder:"twitter_username",value:this.state.tuser,id:"jform_metadata_twitter_username",onChange:function(t){e.setState({tuser:t}),ur("jform_metadata_twitter_username").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(Di,{label:"Facebook AppID",name:"jform[metadata][fb_appid]",placeholder:"fb_appid",value:this.state.appid,id:"jform_metadata_fb_appid",onChange:function(t){e.setState({appid:t}),ur("jform_metadata_fb_appid").value=t,To()}})})]},"1")})},"general"),(0,y.jsx)(Vw,{tab:"Image",children:(0,y.jsx)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"right",children:(0,y.jsx)(Gw,{header:"SEO Image",children:(0,y.jsxs)("div",{className:"qx-fb-field",children:[(0,y.jsx)(Yf,{label:"Image Intro",name:"jform[metadata][image_intro]",value:this.state.image,id:"jform_metadata_image_intro",filters:"image",onChange:function(t){if(!e.updateIntroImage(t))return!1;e.setState({image:t}),To()}}),(0,y.jsx)("div",{id:"imageIntroWarning",style:{color:"red",fontWeight:"bold"},children:this.state.imageIntroWarning})]})},"1")})},"image"),(0,y.jsx)(Vw,{tab:"Settings",children:(0,y.jsx)(Ta.Z,{defaultActiveKey:["1"],accordion:!0,prefixCls:"qxui-collapse",className:"qxui-collapse--fields-group",expandIconPosition:"right",children:(0,y.jsxs)(Gw,{header:"Other Options",children:[(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(py,{label:"Add OpenGraph data",name:"jform[metadata][addog]",checked:this.state.addog,onChange:function(t){e.setState({addog:t}),ur("jform_metadata_addog").value=t,To()}})}),(0,y.jsx)("div",{className:"qx-fb-field",children:(0,y.jsx)(py,{label:"Add Twitter card",name:"jform[metadata][addtw]",checked:this.state.addtw,onChange:function(t){e.setState({addtw:t}),ur("jform_metadata_addtw").value=t,To()}})})]},"1")})},"settings")]})})}}],n&&zw(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component),$w(Bw,"propTypes",{}),$w(Bw,"defaultProps",{}),Lw=Uw))||Lw;const Yw=Zw;var Kw;function eO(e){return eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eO(e)}function tO(e){return function(e){if(Array.isArray(e))return nO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iO(e,t){return iO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iO(e,t)}function aO(e,t){if(t&&("object"===eO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lO(e)}function lO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(e){return sO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sO(e)}function cO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uO=So.default.Group,pO={invokeSectionSaveModal:Oe},fO=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.path,o=e.nodes.nodes;return{visible:n===ye,path:r,nodes:o}}),pO)(Kw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&iO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sO(r);if(o){var n=sO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return aO(this,e)});function a(){var e;rO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cO(lO(e=i.call.apply(i,[this].concat(n))),"state",{process:!1,path:null}),cO(lO(e),"saveSection",(function(){var t={type:"section",data:[Rn(tO(e.props.nodes),tO(e.props.path))]};e.setState({process:!0});var n=st(),r=new FormData;r.set("jform[data]",JSON.stringify(t)),r.set("jform[title]",e.state.sectionName),r.set("jform[builder]","frontend"),r.set("jform[type]","section"),r.set("jform[state]","1"),r.set("jform[id]","0"),r.set("type","collection"),r.set(n,"1"),jt()({method:"post",url:"".concat(tt(),"/index.php?option=com_quix&task=collection.save"),data:r,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){var n=t.data;"object"==eO(n)?n.success?(e.setState({sectionName:"",process:!1}),m.success("Template saved"),e.props.invokeSectionSaveModal()):m.warning(n.message):m.error(n)})).catch((function(){return e.setState({process:!1})}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(lo,{width:550,show:this.props.visible,title:"Add Section To Library",footer:!1,closable:!0,onCancel:function(){return e.props.invokeSectionSaveModal()},style:{left:"calc(50vw - 225px)"},children:(0,y.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-mt-3",children:[(0,y.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,y.jsx)("h2",{children:"Save Your Section To Library"}),(0,y.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,y.jsxs)(uO,{prefixCls:"qxui-input-group",children:[(0,y.jsx)(So.default,{size:"large",placeholder:"Enter Section Name",value:this.state.sectionName,style:{width:"75%"},prefixCls:"qxui-input",onChange:function(t){return e.setState({sectionName:t.target.value})}}),(0,y.jsxs)(p.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveSection,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&oO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||Kw;const dO=fO;var hO;function yO(e){return yO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yO(e)}function mO(e){return function(e){if(Array.isArray(e))return bO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return bO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bO(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xO(e,t){return xO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xO(e,t)}function jO(e,t){if(t&&("object"===yO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wO(e)}function wO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OO(e){return OO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},OO(e)}function _O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SO=So.default.Group,PO={invokeElementSaveModal:_e},qO=(0,v.$j)((function(e){var t=e.action,n=t.action,r=t.path,o=e.nodes.nodes;return{visible:n===me,path:r,nodes:o}}),PO)(hO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&xO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=OO(r);if(o){var n=OO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jO(this,e)});function a(){var e;vO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _O(wO(e=i.call.apply(i,[this].concat(n))),"state",{process:!1,element:{},elementName:""}),_O(wO(e),"saveElement",(function(){var t=Rn(mO(e.props.nodes),mO(e.props.path));t.name=e.state.elementName,e.setState({elementName:""});var n=st(),r={type:"element",data:[t]},o=new FormData;o.set("jform[data]",JSON.stringify(r)),o.set("jform[title]",e.state.elementName),o.set("jform[builder]","frontend"),o.set("jform[type]","element"),o.set("jform[state]","1"),o.set("jform[id]","0"),o.set("id","0"),o.set("type","collection"),o.set(n,"1"),jt()({method:"post",url:"".concat(tt(),"/index.php?option=com_quix&task=collection.save"),data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){window.jQuery(".savePage i").removeClass("anticon-loading").removeClass("anticon-spin").addClass("anticon-save");var n=t.data;"object"==yO(n)?n.success?(m.success("Template saved"),yt("MY_ELEMENTS"),e.props.invokeElementSaveModal()):m.warning(n.message):m.error(n)}))})),e}return t=a,(n=[{key:"render",value:function(){var e=this;return(0,y.jsx)(lo,{width:550,show:this.props.visible,close:function(){return e.props.invokeElementSaveModal()},title:"Add Element To Library",footer:!1,closable:!0,onCancel:function(){return e.props.invokeElementSaveModal()},closeModal:function(){return e.props.invokeElementSaveModal()},style:{left:"calc(50vw - 225px)"},children:(0,y.jsxs)("div",{className:"qx-fb-infobox qx-text-center sections-save-box",children:[(0,y.jsxs)("div",{className:"qx-mt-3",children:[(0,y.jsx)("i",{className:"qxuicon-conveyor-belt-alt qx-fb-title-icon"}),(0,y.jsx)("h2",{children:"Save Your Element To My Elements"}),(0,y.jsx)("p",{className:"qx-mb-4",children:"Your designs will be available for export and reuse on any page or website"})]}),(0,y.jsxs)(SO,{prefixCls:"qxui-input-group",children:[(0,y.jsx)(So.default,{size:"large",placeholder:"Enter Element Name",value:this.state.elementName,style:{width:"75%"},prefixCls:"qxui-input",onChange:function(t){return e.setState({elementName:t.target.value})}}),(0,y.jsxs)(p.default,{type:"primary",disabled:this.state.process,size:"large",style:{width:"25%"},onClick:this.saveElement,children:[(0,y.jsx)("i",{className:"qx-margin-small-right qxuicon-save"})," Save"]})]})]})})}}])&&gO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||hO;const CO=qO;function kO(e){return kO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kO(e)}var NO;function RO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TO(e,t){return TO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TO(e,t)}function DO(e,t){if(t&&("object"===kO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AO(e)}function AO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IO(e){return IO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IO(e)}function MO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LO=So.default.Group,BO=Ea.default.Option,UO=function(e){return(0,y.jsx)("i",{className:e.type,style:null==e?void 0:e.style})},FO={invokeDisplayConditionModal:Se};const zO=(0,v.$j)((function(e){return{visible:e.action.action===be}}),FO)(NO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&TO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=IO(r);if(o){var n=IO(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return DO(this,e)});function a(){var e;RO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return MO(AO(e=i.call.apply(i,[this].concat(n))),"state",{stack:[],settings:"",oldSettings:[],settingOptions:[],subSettingOptions:[],selectedType:"all-menu",selectedSubType:"",subMenus:[],selectedMenuType:"",warning:!1,conditionData:[]}),MO(AO(e),"closeModal",(function(){e.props.invokeDisplayConditionModal(!1)})),MO(AO(e),"loadMenu",(function(t){var n=e.state.subMenus;n[t]||(n[t]=[],jt().get("index.php?option=com_quix&task=api.getParentItem&menutype="+t).then((function(r){n[t]=r.data,e.setState({subMenus:n})})))})),MO(AO(e),"dataSave",(function(){var t=e.state.conditionData;return ur("jform_conditions").value=JSON.stringify(t),!0})),MO(AO(e),"save",(function(){e.dataSave(),e.closeModal()})),MO(AO(e),"remove",(function(t){var n=Mn(e.state.conditionData);n.splice(t,1),e.setState({conditionData:n})})),MO(AO(e),"addCondition",(function(){var t=Mn(e.state.conditionData);t.push({typeCondition:"include",type:"all-menu",subType:"",parent_menu:""}),e.setState({conditionData:t})})),MO(AO(e),"changeVal",(function(t,n){var r=n.name,o=n.parentindex,i=Mn(e.state.conditionData);"menus"===i[o].type&&"subType"===r&&(e.state.subMenus[t]||e.loadMenu(t)),i[o][r]=t,e.setState({conditionData:i})})),MO(AO(e),"showCondition",(function(t,n){var r,o=ur("jform_template_type");r=null!=o?o.value:"section";var i=null;return"menus"===t.type&&t.subType&&(e.state.subMenus[t.subType]||e.loadMenu(t.subType),e.state.subMenus[t.subType]&&(i=(0,y.jsx)(Ea.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.parent_menu,onChange:e.changeVal,className:"qx-margin-right",children:e.state.subMenus[t.subType].map((function(e){return(0,y.jsx)(BO,{parentindex:n,value:e.id,name:"parent_menu",children:e.title},e.id)}))}))),(0,y.jsx)("div",{className:"publish-settings__condition qx-margin-small-bottom qx-background-muted qx-padding-small",style:{borderRadius:"4px",padding:"5px"},children:(0,y.jsxs)(LO,{prefixCls:"qxui-input-group",children:[(0,y.jsxs)(Ea.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.typeCondition,onChange:e.changeVal,className:"qx-margin-right",children:[(0,y.jsx)(BO,{parentindex:n,value:"include",name:"typeCondition",children:"Include"},"include"),(0,y.jsx)(BO,{parentindex:n,value:"exclude",name:"typeCondition",children:"Exclude"},"exclude")]}),(0,y.jsxs)(Ea.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.type,onChange:e.changeVal,className:"qx-margin-right",children:[(0,y.jsx)(BO,{parentindex:n,value:"all-menu",name:"type",children:"Default - Entire Site"},"all-menu"),(0,y.jsx)(BO,{parentindex:n,value:"menus",name:"type",children:"Menus"},"menus"),"article"===r?(0,y.jsx)(BO,{parentindex:n,value:"article",name:"type",children:"All Articles"},"article"):null,"article"===r?(0,y.jsx)(BO,{parentindex:n,value:"categories",name:"type",children:"Categories"},"categories"):null]}),"article"!==t.type&&"all-menu"!==t.type?(0,y.jsx)(Ea.default,{prefixCls:"qxui-select",getPopupContainer:function(){return window.document.body},value:t.subType,onChange:e.changeVal,className:"qx-margin-right",children:e.state.settingOptions[t.type]?e.state.settingOptions[t.type].map((function(e){return(0,y.jsx)(BO,{parentindex:n,value:e.value,name:"subType",children:e.text},e.value)})):null}):null,"menus"===t.type&&t.subType?i:null,(0,y.jsx)("span",{href:"#",onClick:function(){return e.remove(n)},className:"qx-flex qx-flex-middle qx-text-muted qx-link",style:{marginLeft:"-10px"},children:(0,y.jsx)(UO,{type:"qxio-close"})})]})},n)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.setState({settingOptions:window.QUIX_API_GETJOOMLACATEGORIES});for(var e=ur("jform_menutype").options,t=[],n=e.length,r=0;r<n;r++)if("select menu"!==e[r].text.toLowerCase()){var o=[];o.value=e[r].value,o.text=e[r].text,t.push(o)}var i=this.state.settingOptions;i.menus=t,this.setState({settingOptions:i});var a=ur("jform_conditions").value||"[]";this.setState({conditionData:JSON.parse(a)})}},{key:"render",value:function(){var e=this;return(0,y.jsx)(lo,{className:"qxui-modal--with-tab modal--small theme-joomla-layouts-modal",title:"Publish Settings",show:this.props.visible,close:this.closeModal,dismisible:!0,style:{left:"calc(50vw - 400px)"},footer:[(0,y.jsxs)("button",{className:"qxui-btn qxui-btn-primary qxui-btn-lg",onClick:this.save,children:[(0,y.jsx)("i",{className:"qxuicon-check"})," Save "]},"save")],children:(0,y.jsx)(kg.Z,{prefixCls:"qx-card",bordered:!0,style:{maxHeight:"420px",overflow:"auto"},children:(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"qx-padding-small qx-qx-margin-bottom qx-text-center",children:(0,y.jsx)(UO,{type:"qxif-rocket",style:{fontSize:"70px",color:"#08c"}})}),(0,y.jsx)("div",{className:"qx-card-head qx-margin-bottom",children:(0,y.jsxs)("div",{className:"qx-card-head-wrapper",children:[(0,y.jsx)("h2",{className:"qx-card-head-title qx-text-center",style:{fontSize:"30px",marginBottom:"40px"},children:"Where do you want to display your layout?"}),(0,y.jsxs)("div",{className:"qx-text-muted qx-text-center",style:{fontFamily:"Roboto,Arial,Helvetica,Verdana,sans-serif",fontSize:"18px",fontWeight:300},children:["Set the conditions that determine where your Template is used throughout your site.",(0,y.jsx)("br",{}),"For example, choose 'Entire Site' to display the template across your site."]})]})}),(0,y.jsxs)("div",{className:"qx-fb-field",children:[this.state.conditionData.map(this.showCondition),this.state.warning?(0,y.jsx)("p",{className:"qx-alert qx-alert-warning qx-small qx-padding-small",children:" Please complete your selection first"}):null,(0,y.jsx)("div",{className:"qx-padding qx-text-center",children:(0,y.jsx)("button",{onClick:function(){e.addCondition()},className:"qxui-btn qxui-btn-primary",children:"Add Condition"})})]})]})})})}}])&&EO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||NO,HO=function(){return(0,y.jsxs)("div",{children:[(0,y.jsx)(na,{children:(0,y.jsx)(ll,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(qg,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(Yw,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(Sl,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(Mf,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(Iw,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(dO,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(CO,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(zO,{})}),(0,y.jsx)(na,{children:(0,y.jsx)(jx,{})})]})};var QO,JO={};setInterval((function(){var e=new Date;for(var t in JO)JO.hasOwnProperty(t)&&JO[t].time<e-3600&&delete JO[t]}),1e4),document.addEventListener("DOMContentLoaded",(function(){var e=ur("q-store");try{QO=e.contentWindow}catch(t){QO=e.contentWindow}QO.postMessage({action:"init"},"*"),window.addEventListener("message",(function(e){if("https://getquix.net"===e.origin){var t=e.data,n=t.result,r=t.requestId;JO[r]&&JO[r].callback(n)}}))}));var WO,$O=function(e,t,n){return new Promise((function(r){var o=Math.trunc(1e6*Math.random());QO.postMessage({action:e,payload:{key:t,value:n,requestId:o}},"*"),JO[o]={callback:r,time:new Date}}))},VO=function(e){return $O("get",e)},GO=function(e,t){return $O("set",e,t)};function XO(e){return XO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XO(e)}function ZO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KO(e,t){return KO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},KO(e,t)}function e_(e,t){if(t&&("object"===XO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return t_(e)}function t_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n_(e)}function r_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o_={copyNode:Me,setContainerWidth:function(e){return{type:g,payload:{width:e}}},setDevice:He};const i_=(0,v.$j)(null,o_)(WO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&KO(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=n_(r);if(o){var n=n_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return e_(this,e)});function a(){var e;ZO(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return r_(t_(e=i.call.apply(i,[this].concat(n))),"shouldComponentUpdate",Zr()),r_(t_(e),"readFromClipboard",(function(){VO("qx-node").then((function(t){t&&t.id!==window.QUIX.lastCopiedNodeId&&(window.QUIX.lastCopiedNodeId=t.id,e.props.copyNode(null,t))}))})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.setContainerWidth(jQuery(".app-mount").width()),er().then((function(t){return t.addEventListener("mouseenter",e.readFromClipboard)})),this.readFromClipboard()}},{key:"componentWillUnmount",value:function(){var e=this;er().then((function(t){return t.removeEventListener("mouseenter",e.readFromClipboard)}))}},{key:"render",value:function(){return(0,y.jsx)("div",{className:"frontend-blocks",children:(0,y.jsxs)(b.Suspense,{fallback:(0,y.jsx)(sp,{}),children:[(0,y.jsx)(ep,{}),(0,y.jsx)(HO,{})]})})}}])&&YO(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(b.Component))||WO;var a_=n(92966),l_=n(82006);function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(n),!0).forEach((function(t){u_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p_={url:quix.url,qid:"0"===quix.id?null:quix.id,grid:12,col:8.333333333333334,blocks:JSON.parse(quix.blocks),saveCollectionScreen:{visible:!1,data:null,category:null},jmedia:{visible:!1,options:{}},exportImportScreen:{visible:!1},seoScreen:{visible:!1},pageModal:{visible:!1},linkMenuModal:{visible:!1},joomlaLayouts:{visible:!1}};function f_(e){return function(e){if(Array.isArray(e))return d_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d_(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h_(Object(n),!0).forEach((function(t){m_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b_=Mn(window.QUIX_PAGE);if(window.QUIX_PAGE=null,!Array.isArray(b_))throw new Error("Source nodes must be type of array");var v_={nodes:(b_=function e(t){return t.map((function(t){return t.children=e(t.children),t.id=t.form.advanced.identifier.id,t}))}(b_)).slice(),saved:b_.slice(),clipboard:{node:null},responsive:!1,device:"lg",resize:{rowPath:null,column1:{id:null,index:0,width:50},column2:{id:null,index:1,width:50},meLeft:!0,width:0}};function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g_(Object(n),!0).forEach((function(t){j_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}b_=null;var w_={path:null,index:0,action:null,openJMedia:!1};function O_(e){return function(e){if(Array.isArray(e))return __(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return __(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?__(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach((function(t){q_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C_={showForm:!1,path:null,node:null,initialNode:null,schema:null};function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_(Object(n),!0).forEach((function(t){R_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E_={path:[],placement:"AFTER"},T_=(0,a_.UY)({meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return c_(c_({},e),{},{col:r/e.grid});case j:return c_(c_({},e),{},{saveCollectionScreen:c_(c_({},e.saveCollectionScreen),r)});case x:return c_(c_({},e),{},{exportImportScreen:c_(c_({},e.exportImportScreen),{},{visible:r})});case O:return c_(c_({},e),{},{qid:"0"===r?null:r});default:return e}},nodes:function(){var e,t,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v_,l=arguments.length>1?arguments[1]:void 0,s=l.type,c=l.payload;switch(To(),s){case P:case S:return y_({},a);case q:return y_(y_({},a),{},{nodes:Mn(c)});case re:return e=En(f_(n=c.index||a.nodes.length),f_(a.nodes),f_(c.newNodes)),y_(y_({},a),{},{nodes:e});case U:return m=c.targetPath,t=a.clipboard.node,e=vn(f_(a.nodes),t,f_(m)),y_(y_({},a),{},{nodes:e});case D:return n=c.index||a.nodes.length,e=Pn(f_(a.nodes),[n],sn()),y_(y_({},a),{},{nodes:e});case C:return e=kn(f_(a.nodes),f_(c.nodePath),["form"].concat(f_(c.valuePath)),c.value),y_(y_({},a),{},{nodes:e});case E:return e=Pn(f_(a.nodes),[].concat(f_(c.path),[c.index]),cn()),y_(y_({},a),{},{nodes:e});case T:return e=hn(f_(a.nodes),c.path,c.index),y_(y_({},a),{},{nodes:e});case Y:return e=bn(f_(a.nodes),c.path,!0),y_(y_({},a),{},{nodes:e});case A:return t=pn(c.element),c.node=t,e=Pn(f_(a.nodes),f_(c.path),t),y_(y_({},a),{},{nodes:e});case I:return t=fn(c.element),e=Pn(f_(a.nodes),f_(c.path),t),y_(y_({},a),{},{nodes:e});case H:return e=Tn(c.path,c.layout,f_(a.nodes)),y_(y_({},a),{},{nodes:e});case F:var u=Rn(f_(a.nodes),f_(c.path));if(e=_n(f_(a.nodes),f_(c.path)),"column"===u.slug){var p=f_(c.path).slice(0,-2);e=Dn(f_(e),p)}return y_(y_({},a),{},{nodes:e});case ue:return e=[],y_(y_({},a),{},{nodes:e});case le:return e=mn(f_(a.nodes),f_(c.path),c.node),y_(y_({},a),{},{nodes:e});case M:return e=bn(f_(a.nodes),c.path),y_(y_({},a),{},{nodes:e});case V:return y_(y_({},a),{},{device:c.device});case J:return e=qn(f_(a.nodes),[].concat(f_(c.path),["visibility"]),c.visibility),e=qn(e,[].concat(f_(c.path),["hash"]),Ln("qx-hash")),y_(y_({},a),{},{nodes:e});case L:return t=c.node||Rn(a.nodes,f_(c.path)),GO("qx-node",t),y_(y_({},a),{},{clipboard:y_(y_({},a.clipboard),{},{node:Mn(t)})});case B:var f=f_(c.path);t=a.clipboard.node;var d=Rn(f_(a.nodes),f_(f)),h=zt(d)?"element":d.slug,y=zt(t)?"element":t.slug;if(!Jt(h,y))return console.warn("Incompatible overlap"),y_({},a);var m=f_(f),b=Qt(h),v=Qt(y);if(b<v)m=[].concat(f_(m),["children",c.bellow?d.children.length:0]);else if(c.bellow){var g=m.pop();g++,m=[].concat(f_(m),[g])}return e=vn(f_(a.nodes),t,f_(m)),y_(y_({},a),{},{nodes:e,clipboard:y_(y_({},a.clipboard),{},{node:t})});case G:return(r=a.clipboard.node)?(o=xn(r,t=Rn(f_(a.nodes),f_(c.path))),e=qn(e=jn(f_(a.nodes),f_(c.path),{form:{styles:Mn(o.form.styles),advanced:Mn(o.form.advanced)},hash:Ln("qx-hash")}),[].concat(f_(c.path),["hash"]),Ln("qx-hash")),y_(y_({},a),{},{nodes:e})):y_({},a);case X:return(r=a.clipboard.node)?(i=Rn(r,["form"].concat(f_(c.stylePath))),e=qn(e=jn(f_(a.nodes),[].concat(f_(c.nodePath),["form"],f_(c.stylePath)),i),[].concat(f_(c.nodePath),["hash"]),Ln("qx-hash")),y_(y_({},a),{},{nodes:e})):y_({},a);case Z:var x=xn(ln((t=Rn(a.nodes,f_(c.path))).slug),t);return t=y_(y_({},t),{},{hash:Ln(t.slug),form:y_(y_({},t.form),{},{styles:Mn(x.form.styles),advanced:Mn(x.form.advanced)})}),e=mn(f_(a.nodes),f_(c.path),t),y_(y_({},a),{},{nodes:e});case R:return y_({},a);case z:return e=gn(f_(a.nodes),f_(c.from),f_(c.to)),y_(y_({},a),{},{nodes:e});case N:return e=Dn(f_(a.nodes),f_(c.path)),y_(y_({},a),{},{nodes:e});case se:var j,w,O,_=+c.path.slice().pop(),$=f_(c.path).slice(0,c.path.length-2),pe=!0,fe=Rn(f_(a.nodes),f_($));if("row"!==fe.slug)return y_({},a);_>fe.children.length-2?(j=fe.children[_],O=_-1,w=fe.children[O],pe=!1):(j=fe.children[_],O=_+1,w=fe.children[O]);var de={column1:{id:j.form.advanced.identifier.id,index:_,width:wr(j.form.general.layout_fields_group.col_width,c.width)},column2:{id:w.form.advanced.identifier.id,index:O,width:wr(w.form.general.layout_fields_group.col_width,c.width)}};return y_(y_({},a),{},{resize:y_(y_({rowPath:$},de),{},{meLeft:pe,width:c.width})});case ce:return e=kn(f_(a.nodes),[].concat(f_(a.resize.rowPath),["children",a.resize.column1.index]),["form","general","layout_fields_group","col_width"],wr(c.width.column1.width,a.resize.width)),e=kn(f_(a.nodes),[].concat(f_(a.resize.rowPath),["children",a.resize.column2.index]),["form","general","layout_fields_group","col_width"],wr(c.width.column2.width,a.resize.width)),y_(y_({},a),{},{nodes:e,resize:{rowPath:null,column1:null,column2:null,meLeft:!0}});case Q:case W:case k:case K:case ee:case te:case ne:case oe:case ie:case ae:return y_({},a);default:return a}},action:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case pe:return x_(x_({},e),r);case de:return x_(x_({},e),{},{jmedia:{callback:r.callback,config:r.config},openJMedia:r.show});default:return e}},form:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C_,o=arguments.length>1?arguments[1]:void 0,i=o.type,a=o.payload;switch(i){case A:case ge:if(!a.path)return P_(P_({},r),{},{showForm:!1,path:null,node:null,initialNode:null});n=Sr(a.node);var l=!0;return i===A&&"column"===(null===(e=a.node)||void 0===e?void 0:e.slug)&&(l=!1),P_(P_({},r),{},{showForm:l,path:a.path,node:Mn(a.node),initialNode:Mn(a.node),schema:n});case xe:return n=Sr(a.node),{path:a.path,node:Mn(a.node),initialNode:Mn(a.node),schema:n};case C:return t=P_({},r.node),r.node&&t?(t.form=Nn(P_({},r.node.form),O_(a.valuePath),a.value),P_(P_({},r),{},{node:P_({},t)})):P_({},r);default:return r}},dnd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===je?r.path.join()===e.path.join()&&r.placement===e.placement?e:N_(N_({},e),{},{path:r.path,placement:r.placement}):e}}),D_=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a_.qC;function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.qxUIkit=n(86799);function M_(){Gn.prepare().then((function(){return new Promise((function(e,t){var n,r=[],o=Yt(At());try{var i=function(){var e=n.value;r.push(new Promise((function(t){return Promise.all([Lt(e.slug),(n=e.slug,Et("".concat(n,"-default_node")))]).then((function(n){return t({slug:e.slug,schema:n[0],node:n[1]})}));var n})))};for(o.s();!(n=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}Promise.all(r).then((function(t){var n,r=Yt(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;tn.push(o.schema),nn.push(o.node),rn.push(o.slug)}}catch(e){r.e(e)}finally{r.f()}e()})).catch(t)}))})).then((function(){var e,t=(0,a_.MT)(T_,D_((0,a_.md)(Rr,l_.Z)));!function(e){var t=function(){return(0,y.jsx)(v.zt,{store:e,children:(0,y.jsx)(r.default,{prefixCls:"qxui",children:(0,y.jsx)(Ll,{})})})};jQuery("#loaderMessage").addClass("step2").html("Preparing Assets"),window.loadedQuixComponentBuilder=!0,(0,gu.render)((0,y.jsx)(t,{}),ur("qx-fb-frame-toolbar"))}(t),document.querySelectorAll('link[disabled="true"]').forEach((function(e){return e.removeAttribute("disabled")})),function(e){var t=function(){return(0,y.jsx)(v.zt,{store:e,children:(0,y.jsx)(r.default,{prefixCls:"qxui",children:(0,y.jsx)(i_,{})})})};new Promise((function(e,t){if(Kn.mount_node)return e(Kn.mount_node);Kn.onLoad.push((function(){e(Kn.mount_node)}))})).then((function(e){(0,gu.render)((0,y.jsx)(t,{}),e),function(e){var t=cr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document);return t.length>0?t[0]:null}("preloader").style.display="none"})).catch((function(e){console.log("Could not load mount node",e)}))}(t),er().then((function(e){e.addEventListener("click",(function(e){e.target.closest(".contextMenu-dropdown")||sr.click()})),e.addEventListener("contextmenu",(function(e){e.target.closest("#qx-fb-mount")||sr.click()}))})),window.document.addEventListener("contextmenu",(function(){sr.click()})),jQuery((function(){setTimeout((function(){_t(document.getElementById("jform_template_type"))||["editor","section","page","article","header","footer","mainbody"].includes(document.getElementById("jform_template_type").value)&&0===window.quix_initial_nodes_size&&i.emit("SHOW_TEMPLATE_MODAL",{path:null,tab:"Sections"})}),3e3)})),e=t.dispatch,window.addEventListener("message",(function(t){var n=t.data,r=n.type,o=n.path,i=n.content;"INLINE_EDITED_CONTENT"===r&&e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A_(Object(n),!0).forEach((function(t){I_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ke(o.node,o.value,i)))}))})).catch((function(e){console.log(e)}))}function L_(){(Rt=Mn(window.qx_elements),delete window.qx_elements,new Promise((function(e,t){Promise.all(Rt.map((function(e){return new Promise((function(t,n){var r;(r="".concat(e.slug,"-schema"),new Promise((function(e,t){return Nt().getItem(r).then((function(t){return e(!!t)})).catch(t)}))).then((function(n){t({key:e.slug,loaded:n})})).catch(n)}))}))).then((function(n){var r=n.filter((function(e){return!e.loaded})).map((function(e){return e.key}));r.length>0?t(r):e()})).catch(t)}))).then((function(e){M_()})).catch((function(e){var t;e.length===At().length?ur("loaderMessage").innerText="Preparing for first load...":ur("loaderMessage").innerText="Loading missing elements...",(t=e,new Promise((function(e,n){jt().get("".concat(tt(),"/index.php?option=com_quix&task=element.getElements&elements=").concat(t.join(","))).then((function(t){e(t.data.data)})).catch(n)}))).then((function(e){for(var t in e.elements)e.elements.hasOwnProperty(t)&&(e.elements[t].default_node=JSON.parse(e.elements[t].default_node),e.elements[t].schema=JSON.parse(e.elements[t].schema));Promise.all([Dt(e.elements),Dt(e.special),Dt({js:e.js,css:e.css})]).then((function(){ur("loaderMessage").innerText="Loaded",M_()})).catch((function(e){console.warn(e)}))})).catch((function(e){console.warn(e)}))}))}window.addEventListener("DOMContentLoaded",(function(){window.QUIXNXT_DEBUG?Nt().clear().then(L_):L_()})),window.addEventListener("load",(function(){window.document.body.style.height="100vh",window.document.body.style.overflow="hidden",window.document.body.querySelector("form.qx-fb")}))},23032:(e,t,n)=>{window.pkg_quix_public_path=`${window.quix.url}/index.php?version=${window.quix.version}&quix-asset=`,n.p=pkg_quix_public_path},19135:()=>{}},a={};function l(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=i,e=[],l.O=(t,n,r,o)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,r,o]=e[u],a=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(a=!1,o<i&&(i=o));if(a){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>{if(325===e)return"js/325.js"},l.miniCssF=e=>325===e?"js/325.css":"builder/vendor.css",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="pkg_quix:",l.l=(e,r,o,i)=>{if(t[e])t[e].push(r);else{var a,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var p=c[u];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==n+o){a=p;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",n+o),a.src=e),t[e]=[r];var f=(n,r)=>{a.onerror=a.onload=null,clearTimeout(d);var o=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),n)return n(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),l.j=850,l.p="/",r=e=>new Promise(((t,n)=>{var r=l.miniCssF(e),o=l.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var a;if((o=(a=i[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=i=>{if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),l=i&&i.target&&i.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=a,s.request=l,o.parentNode.removeChild(o),r(s)}},o.href=t,document.head.appendChild(o)})(e,o,t,n)})),o={850:0},l.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{325:1}[e]&&t.push(o[e]=r(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{var e={850:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=l.p+l.u(t),a=new Error;l.l(i,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,a,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);if(s)var u=s(l)}for(t&&t(n);c<i.length;c++)o=i[c],l.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return l.O(u)},n=self.webpackChunkpkg_quix=self.webpackChunkpkg_quix||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.O(void 0,[610],(()=>l(30435))),l.O(void 0,[610],(()=>l(23032))),l.O(void 0,[610],(()=>l(54250)));var s=l.O(void 0,[610],(()=>l(60896)));s=l.O(s)})();